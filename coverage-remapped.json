{
"/Users/jorgeucano/Documents/OSS/videogular2/src/core/services/vg-api.ts":{"path":"/Users/jorgeucano/Documents/OSS/videogular2/src/core/services/vg-api.ts","statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":1,"column":55}},"2":{"start":{"line":3,"column":0},"end":{"line":3,"column":45}},"3":{"start":{"line":14,"column":4},"end":{"line":16,"column":5}},"4":{"start":{"line":18,"column":4},"end":{"line":22,"column":5}},"5":{"start":{"line":19,"column":8},"end":{"line":19,"column":27}},"6":{"start":{"line":20,"column":8},"end":{"line":20,"column":34}},"7":{"start":{"line":21,"column":8},"end":{"line":21,"column":41}},"8":{"start":{"line":24,"column":4},"end":{"line":30,"column":5}},"9":{"start":{"line":25,"column":8},"end":{"line":29,"column":9}},"10":{"start":{"line":26,"column":12},"end":{"line":28,"column":13}},"11":{"start":{"line":27,"column":16},"end":{"line":27,"column":41}},"12":{"start":{"line":32,"column":4},"end":{"line":41,"column":5}},"13":{"start":{"line":33,"column":8},"end":{"line":33,"column":23}},"14":{"start":{"line":34,"column":8},"end":{"line":39,"column":9}},"15":{"start":{"line":35,"column":12},"end":{"line":38,"column":13}},"16":{"start":{"line":36,"column":16},"end":{"line":36,"column":41}},"17":{"start":{"line":37,"column":16},"end":{"line":37,"column":22}},"18":{"start":{"line":40,"column":8},"end":{"line":40,"column":48}},"19":{"start":{"line":43,"column":4},"end":{"line":52,"column":5}},"20":{"start":{"line":44,"column":8},"end":{"line":44,"column":27}},"21":{"start":{"line":45,"column":8},"end":{"line":50,"column":9}},"22":{"start":{"line":46,"column":12},"end":{"line":49,"column":13}},"23":{"start":{"line":47,"column":16},"end":{"line":47,"column":30}},"24":{"start":{"line":48,"column":16},"end":{"line":48,"column":22}},"25":{"start":{"line":51,"column":8},"end":{"line":51,"column":22}},"26":{"start":{"line":54,"column":4},"end":{"line":62,"column":5}},"27":{"start":{"line":54,"column":17},"end":{"line":54,"column":33}},"28":{"start":{"line":55,"column":8},"end":{"line":55,"column":36}},"29":{"start":{"line":57,"column":8},"end":{"line":59,"column":9}},"30":{"start":{"line":58,"column":12},"end":{"line":58,"column":25}},"31":{"start":{"line":61,"column":8},"end":{"line":61,"column":21}},"32":{"start":{"line":64,"column":4},"end":{"line":70,"column":5}},"33":{"start":{"line":65,"column":8},"end":{"line":69,"column":9}},"34":{"start":{"line":66,"column":12},"end":{"line":68,"column":13}},"35":{"start":{"line":67,"column":16},"end":{"line":67,"column":41}},"36":{"start":{"line":72,"column":4},"end":{"line":78,"column":5}},"37":{"start":{"line":73,"column":8},"end":{"line":77,"column":9}},"38":{"start":{"line":74,"column":12},"end":{"line":76,"column":13}},"39":{"start":{"line":75,"column":16},"end":{"line":75,"column":40}},"40":{"start":{"line":80,"column":4},"end":{"line":82,"column":5}},"41":{"start":{"line":81,"column":8},"end":{"line":81,"column":51}},"42":{"start":{"line":84,"column":4},"end":{"line":86,"column":5}},"43":{"start":{"line":89,"column":8},"end":{"line":89,"column":54}},"44":{"start":{"line":85,"column":8},"end":{"line":85,"column":56}},"45":{"start":{"line":92,"column":4},"end":{"line":94,"column":5}},"46":{"start":{"line":97,"column":8},"end":{"line":97,"column":48}},"47":{"start":{"line":93,"column":8},"end":{"line":93,"column":48}},"48":{"start":{"line":100,"column":4},"end":{"line":102,"column":5}},"49":{"start":{"line":105,"column":8},"end":{"line":105,"column":49}},"50":{"start":{"line":101,"column":8},"end":{"line":101,"column":50}},"51":{"start":{"line":108,"column":4},"end":{"line":110,"column":5}},"52":{"start":{"line":113,"column":8},"end":{"line":113,"column":55}},"53":{"start":{"line":109,"column":8},"end":{"line":109,"column":54}},"54":{"start":{"line":116,"column":4},"end":{"line":118,"column":5}},"55":{"start":{"line":117,"column":8},"end":{"line":117,"column":50}},"56":{"start":{"line":120,"column":4},"end":{"line":122,"column":5}},"57":{"start":{"line":121,"column":8},"end":{"line":121,"column":57}},"58":{"start":{"line":124,"column":4},"end":{"line":126,"column":5}},"59":{"start":{"line":125,"column":8},"end":{"line":125,"column":59}},"60":{"start":{"line":128,"column":4},"end":{"line":130,"column":5}},"61":{"start":{"line":129,"column":8},"end":{"line":129,"column":52}},"62":{"start":{"line":132,"column":4},"end":{"line":134,"column":5}},"63":{"start":{"line":133,"column":8},"end":{"line":133,"column":54}},"64":{"start":{"line":136,"column":4},"end":{"line":138,"column":5}},"65":{"start":{"line":137,"column":8},"end":{"line":137,"column":49}},"66":{"start":{"line":140,"column":4},"end":{"line":142,"column":5}},"67":{"start":{"line":141,"column":8},"end":{"line":141,"column":51}},"68":{"start":{"line":144,"column":4},"end":{"line":146,"column":5}},"69":{"start":{"line":145,"column":8},"end":{"line":145,"column":47}},"70":{"start":{"line":148,"column":4},"end":{"line":150,"column":5}},"71":{"start":{"line":149,"column":8},"end":{"line":149,"column":49}},"72":{"start":{"line":152,"column":4},"end":{"line":154,"column":5}},"73":{"start":{"line":153,"column":8},"end":{"line":153,"column":51}},"74":{"start":{"line":156,"column":4},"end":{"line":158,"column":5}},"75":{"start":{"line":157,"column":8},"end":{"line":157,"column":56}},"76":{"start":{"line":160,"column":4},"end":{"line":162,"column":5}},"77":{"start":{"line":161,"column":8},"end":{"line":161,"column":53}},"78":{"start":{"line":164,"column":4},"end":{"line":170,"column":5}},"79":{"start":{"line":164,"column":27},"end":{"line":164,"column":52}},"80":{"start":{"line":165,"column":8},"end":{"line":169,"column":9}},"81":{"start":{"line":166,"column":12},"end":{"line":168,"column":13}},"82":{"start":{"line":167,"column":16},"end":{"line":167,"column":65}},"83":{"start":{"line":172,"column":4},"end":{"line":188,"column":5}},"84":{"start":{"line":172,"column":42},"end":{"line":172,"column":67}},"85":{"start":{"line":173,"column":8},"end":{"line":173,"column":26}},"86":{"start":{"line":174,"column":8},"end":{"line":174,"column":45}},"87":{"start":{"line":176,"column":8},"end":{"line":185,"column":9}},"88":{"start":{"line":177,"column":12},"end":{"line":179,"column":13}},"89":{"start":{"line":178,"column":16},"end":{"line":178,"column":58}},"90":{"start":{"line":181,"column":12},"end":{"line":181,"column":44}},"91":{"start":{"line":184,"column":12},"end":{"line":184,"column":27}},"92":{"start":{"line":187,"column":8},"end":{"line":187,"column":35}},"93":{"start":{"line":190,"column":4},"end":{"line":196,"column":5}},"94":{"start":{"line":191,"column":8},"end":{"line":195,"column":9}},"95":{"start":{"line":192,"column":12},"end":{"line":194,"column":13}},"96":{"start":{"line":193,"column":16},"end":{"line":193,"column":78}},"97":{"start":{"line":197,"column":4},"end":{"line":199,"column":5}},"98":{"start":{"line":198,"column":8},"end":{"line":198,"column":50}},"99":{"start":{"line":201,"column":4},"end":{"line":244,"column":5}},"100":{"start":{"line":202,"column":8},"end":{"line":202,"column":26}},"101":{"start":{"line":203,"column":8},"end":{"line":203,"column":23}},"102":{"start":{"line":205,"column":8},"end":{"line":209,"column":9}},"103":{"start":{"line":206,"column":12},"end":{"line":208,"column":13}},"104":{"start":{"line":207,"column":16},"end":{"line":207,"column":49}},"105":{"start":{"line":211,"column":8},"end":{"line":211,"column":51}},"106":{"start":{"line":212,"column":8},"end":{"line":241,"column":9}},"107":{"start":{"line":215,"column":16},"end":{"line":228,"column":17}},"108":{"start":{"line":217,"column":24},"end":{"line":217,"column":52}},"109":{"start":{"line":218,"column":24},"end":{"line":218,"column":30}},"110":{"start":{"line":222,"column":24},"end":{"line":222,"column":35}},"111":{"start":{"line":223,"column":24},"end":{"line":223,"column":30}},"112":{"start":{"line":226,"column":24},"end":{"line":226,"column":65}},"113":{"start":{"line":227,"column":24},"end":{"line":227,"column":30}},"114":{"start":{"line":229,"column":16},"end":{"line":229,"column":22}},"115":{"start":{"line":233,"column":16},"end":{"line":233,"column":60}},"116":{"start":{"line":234,"column":16},"end":{"line":234,"column":56}},"117":{"start":{"line":235,"column":16},"end":{"line":235,"column":22}},"118":{"start":{"line":239,"column":16},"end":{"line":239,"column":51}},"119":{"start":{"line":240,"column":16},"end":{"line":240,"column":53}},"120":{"start":{"line":243,"column":8},"end":{"line":243,"column":22}},"121":{"start":{"line":246,"column":4},"end":{"line":252,"column":5}},"122":{"start":{"line":247,"column":8},"end":{"line":251,"column":9}},"123":{"start":{"line":248,"column":12},"end":{"line":250,"column":13}},"124":{"start":{"line":249,"column":16},"end":{"line":249,"column":54}},"125":{"start":{"line":254,"column":4},"end":{"line":256,"column":5}},"126":{"start":{"line":255,"column":8},"end":{"line":255,"column":38}},"127":{"start":{"line":258,"column":4},"end":{"line":260,"column":5}},"128":{"start":{"line":259,"column":8},"end":{"line":259,"column":38}},"129":{"start":{"line":262,"column":4},"end":{"line":264,"column":5}},"130":{"start":{"line":263,"column":8},"end":{"line":263,"column":37}},"131":{"start":{"line":7,"column":13},"end":{"line":7,"column":18}}},"fnMap":{"1":{"name":"VgAPI","line":14,"loc":{"start":{"line":14,"column":4},"end":{"line":null,"column":-1}}},"2":{"name":"(anonymous_3)","line":18,"loc":{"start":{"line":18,"column":4},"end":{"line":18,"column":40}}},"3":{"name":"(anonymous_4)","line":24,"loc":{"start":{"line":24,"column":4},"end":{"line":null,"column":-1}}},"4":{"name":"(anonymous_5)","line":32,"loc":{"start":{"line":32,"column":4},"end":{"line":null,"column":-1}}},"5":{"name":"(anonymous_6)","line":43,"loc":{"start":{"line":43,"column":4},"end":{"line":null,"column":-1}}},"6":{"name":"(anonymous_7)","line":54,"loc":{"start":{"line":54,"column":4},"end":{"line":54,"column":33}}},"7":{"name":"(anonymous_8)","line":64,"loc":{"start":{"line":64,"column":4},"end":{"line":null,"column":-1}}},"8":{"name":"(anonymous_9)","line":72,"loc":{"start":{"line":72,"column":4},"end":{"line":null,"column":-1}}},"9":{"name":"(anonymous_10)","line":80,"loc":{"start":{"line":80,"column":4},"end":{"line":null,"column":-1}}},"10":{"name":"(anonymous_11)","line":88,"loc":{"start":{"line":88,"column":4},"end":{"line":null,"column":-1}}},"11":{"name":"(anonymous_12)","line":84,"loc":{"start":{"line":84,"column":4},"end":{"line":84,"column":27}}},"12":{"name":"(anonymous_13)","line":96,"loc":{"start":{"line":96,"column":4},"end":{"line":null,"column":-1}}},"13":{"name":"(anonymous_14)","line":92,"loc":{"start":{"line":92,"column":4},"end":{"line":92,"column":19}}},"14":{"name":"(anonymous_15)","line":104,"loc":{"start":{"line":104,"column":4},"end":{"line":null,"column":-1}}},"15":{"name":"(anonymous_16)","line":100,"loc":{"start":{"line":100,"column":4},"end":{"line":100,"column":21}}},"16":{"name":"(anonymous_17)","line":112,"loc":{"start":{"line":112,"column":4},"end":{"line":null,"column":-1}}},"17":{"name":"(anonymous_18)","line":108,"loc":{"start":{"line":108,"column":4},"end":{"line":108,"column":25}}},"18":{"name":"(anonymous_19)","line":116,"loc":{"start":{"line":116,"column":4},"end":{"line":null,"column":-1}}},"19":{"name":"(anonymous_20)","line":120,"loc":{"start":{"line":120,"column":4},"end":{"line":null,"column":-1}}},"20":{"name":"(anonymous_21)","line":124,"loc":{"start":{"line":124,"column":4},"end":{"line":null,"column":-1}}},"21":{"name":"(anonymous_22)","line":128,"loc":{"start":{"line":128,"column":4},"end":{"line":null,"column":-1}}},"22":{"name":"(anonymous_23)","line":132,"loc":{"start":{"line":132,"column":4},"end":{"line":null,"column":-1}}},"23":{"name":"(anonymous_24)","line":136,"loc":{"start":{"line":136,"column":4},"end":{"line":null,"column":-1}}},"24":{"name":"(anonymous_25)","line":140,"loc":{"start":{"line":140,"column":4},"end":{"line":null,"column":-1}}},"25":{"name":"(anonymous_26)","line":144,"loc":{"start":{"line":144,"column":4},"end":{"line":null,"column":-1}}},"26":{"name":"(anonymous_27)","line":148,"loc":{"start":{"line":148,"column":4},"end":{"line":null,"column":-1}}},"27":{"name":"(anonymous_28)","line":152,"loc":{"start":{"line":152,"column":4},"end":{"line":null,"column":-1}}},"28":{"name":"(anonymous_29)","line":156,"loc":{"start":{"line":156,"column":4},"end":{"line":null,"column":-1}}},"29":{"name":"(anonymous_30)","line":160,"loc":{"start":{"line":160,"column":4},"end":{"line":null,"column":-1}}},"30":{"name":"(anonymous_31)","line":164,"loc":{"start":{"line":164,"column":4},"end":{"line":164,"column":52}}},"31":{"name":"(anonymous_32)","line":172,"loc":{"start":{"line":172,"column":4},"end":{"line":172,"column":67}}},"32":{"name":"(anonymous_33)","line":190,"loc":{"start":{"line":190,"column":4},"end":{"line":190,"column":61}}},"33":{"name":"(anonymous_34)","line":197,"loc":{"start":{"line":197,"column":4},"end":{"line":197,"column":80}}},"34":{"name":"(anonymous_35)","line":201,"loc":{"start":{"line":201,"column":4},"end":{"line":201,"column":38}}},"35":{"name":"(anonymous_36)","line":246,"loc":{"start":{"line":246,"column":4},"end":{"line":246,"column":49}}},"36":{"name":"(anonymous_37)","line":254,"loc":{"start":{"line":254,"column":4},"end":{"line":254,"column":36}}},"37":{"name":"(anonymous_38)","line":258,"loc":{"start":{"line":258,"column":4},"end":{"line":258,"column":33}}},"38":{"name":"(anonymous_39)","line":262,"loc":{"start":{"line":262,"column":4},"end":{"line":262,"column":35}}}},"branchMap":{"1":{"line":26,"type":"if","locations":[{"start":{"line":26,"column":12},"end":{"line":26,"column":11}},{"start":{"line":26,"column":12},"end":{"line":26,"column":11}}]},"2":{"line":35,"type":"if","locations":[{"start":{"line":35,"column":12},"end":{"line":35,"column":11}},{"start":{"line":35,"column":12},"end":{"line":35,"column":11}}]},"3":{"line":35,"type":"binary-expr","locations":[{"start":{"line":35,"column":16},"end":{"line":35,"column":50}},{"start":{"line":35,"column":54},"end":{"line":35,"column":86}}]},"4":{"line":40,"type":"binary-expr","locations":[{"start":{"line":40,"column":15},"end":{"line":40,"column":21}},{"start":{"line":40,"column":25},"end":{"line":40,"column":47}}]},"5":{"line":46,"type":"if","locations":[{"start":{"line":46,"column":12},"end":{"line":46,"column":11}},{"start":{"line":46,"column":12},"end":{"line":46,"column":11}}]},"6":{"line":46,"type":"binary-expr","locations":[{"start":{"line":46,"column":16},"end":{"line":46,"column":50}},{"start":{"line":46,"column":54},"end":{"line":46,"column":86}}]},"7":{"line":54,"type":"if","locations":[{"start":{"line":54,"column":17},"end":{"line":54,"column":16}},{"start":{"line":54,"column":17},"end":{"line":54,"column":16}}]},"8":{"line":57,"type":"if","locations":[{"start":{"line":57,"column":8},"end":{"line":57,"column":7}},{"start":{"line":57,"column":8},"end":{"line":57,"column":7}}]},"9":{"line":57,"type":"binary-expr","locations":[{"start":{"line":57,"column":12},"end":{"line":57,"column":15}},{"start":{"line":57,"column":19},"end":{"line":57,"column":29}}]},"10":{"line":66,"type":"if","locations":[{"start":{"line":66,"column":12},"end":{"line":66,"column":11}},{"start":{"line":66,"column":12},"end":{"line":66,"column":11}}]},"11":{"line":74,"type":"if","locations":[{"start":{"line":74,"column":12},"end":{"line":74,"column":11}},{"start":{"line":74,"column":12},"end":{"line":74,"column":11}}]},"12":{"line":164,"type":"if","locations":[{"start":{"line":164,"column":27},"end":{"line":164,"column":26}},{"start":{"line":164,"column":27},"end":{"line":164,"column":26}}]},"13":{"line":166,"type":"if","locations":[{"start":{"line":166,"column":12},"end":{"line":166,"column":11}},{"start":{"line":166,"column":12},"end":{"line":166,"column":11}}]},"14":{"line":172,"type":"if","locations":[{"start":{"line":172,"column":42},"end":{"line":172,"column":41}},{"start":{"line":172,"column":42},"end":{"line":172,"column":41}}]},"15":{"line":176,"type":"if","locations":[{"start":{"line":176,"column":8},"end":{"line":176,"column":7}},{"start":{"line":176,"column":8},"end":{"line":176,"column":7}}]},"16":{"line":177,"type":"if","locations":[{"start":{"line":177,"column":12},"end":{"line":177,"column":11}},{"start":{"line":177,"column":12},"end":{"line":177,"column":11}}]},"17":{"line":192,"type":"if","locations":[{"start":{"line":192,"column":12},"end":{"line":192,"column":11}},{"start":{"line":192,"column":12},"end":{"line":192,"column":11}}]},"18":{"line":206,"type":"if","locations":[{"start":{"line":206,"column":12},"end":{"line":206,"column":11}},{"start":{"line":206,"column":12},"end":{"line":206,"column":11}}]},"19":{"line":213,"type":"switch","locations":[{"start":{"line":213,"column":12},"end":{"line":229,"column":22}},{"start":{"line":231,"column":12},"end":{"line":235,"column":22}},{"start":{"line":237,"column":12},"end":{"line":240,"column":53}}]},"20":{"line":216,"type":"switch","locations":[{"start":{"line":216,"column":20},"end":{"line":218,"column":30}},{"start":{"line":220,"column":20},"end":{"line":220,"column":40}},{"start":{"line":221,"column":20},"end":{"line":223,"column":30}},{"start":{"line":225,"column":20},"end":{"line":227,"column":30}}]},"21":{"line":248,"type":"if","locations":[{"start":{"line":248,"column":12},"end":{"line":248,"column":11}},{"start":{"line":248,"column":12},"end":{"line":248,"column":11}}]}},"s":{"1":1,"2":1,"3":1,"4":1,"5":1,"6":1,"7":1,"8":1,"9":8,"10":8,"11":8,"12":1,"13":7,"14":7,"15":14,"16":1,"17":1,"18":7,"19":1,"20":1,"21":1,"22":0,"23":0,"24":0,"25":1,"26":1,"27":13,"28":8,"29":8,"30":6,"31":8,"32":1,"33":1,"34":2,"35":2,"36":1,"37":1,"38":2,"39":2,"40":1,"41":1,"42":1,"43":1,"44":1,"45":1,"46":8,"47":1,"48":1,"49":10,"50":5,"51":1,"52":2,"53":3,"54":1,"55":5,"56":1,"57":1,"58":1,"59":1,"60":1,"61":1,"62":1,"63":1,"64":1,"65":16,"66":1,"67":0,"68":1,"69":5,"70":1,"71":1,"72":1,"73":1,"74":1,"75":1,"76":1,"77":0,"78":1,"79":3,"80":2,"81":4,"82":4,"83":1,"84":3,"85":2,"86":2,"87":2,"88":1,"89":0,"90":1,"91":1,"92":2,"93":1,"94":0,"95":0,"96":0,"97":1,"98":0,"99":1,"100":43,"101":43,"102":43,"103":34,"104":34,"105":43,"106":43,"107":14,"108":0,"109":0,"110":0,"111":0,"112":4,"113":4,"114":14,"115":24,"116":24,"117":24,"118":5,"119":5,"120":43,"121":1,"122":7,"123":10,"124":10,"125":1,"126":5,"127":1,"128":4,"129":1,"130":1,"131":1},"b":{"1":[8,0],"2":[1,13],"3":[14,14],"4":[7,6],"5":[0,0],"6":[0,0],"7":[5,3],"8":[6,2],"9":[8,3],"10":[2,0],"11":[2,0],"12":[1,1],"13":[4,0],"14":[1,1],"15":[1,1],"16":[0,1],"17":[0,0],"18":[34,0],"19":[14,24,5],"20":[0,0,0,4],"21":[10,0]},"f":{"1":143,"2":1,"3":8,"4":7,"5":1,"6":8,"7":1,"8":1,"9":1,"10":1,"11":1,"12":8,"13":1,"14":10,"15":5,"16":2,"17":3,"18":5,"19":1,"20":1,"21":1,"22":1,"23":16,"24":0,"25":5,"26":1,"27":1,"28":1,"29":0,"30":2,"31":2,"32":0,"33":0,"34":43,"35":7,"36":5,"37":4,"38":1},"code":"import {Injectable, EventEmitter} from '@angular/core';\nimport {IPlayable} from \"../vg-media/i-playable\";\nimport {VgStates} from \"../states/vg-states\";\nimport { VgFullscreenAPI } from './vg-fullscreen-api';\n\n@Injectable()\nexport class VgAPI {\n    medias:Object = {};// TODO: refactor to Set<IPlayable> \n    videogularElement: any;\n    playerReadyEvent: EventEmitter<any> = new EventEmitter(true);\n    isPlayerReady: boolean = false;\n    fsAPI: VgFullscreenAPI;\n\n    constructor() {\n\n    }\n\n    onPlayerReady(fsAPI: VgFullscreenAPI) {\n        this.fsAPI = fsAPI;\n        this.isPlayerReady = true;\n        this.playerReadyEvent.emit(this);\n    }\n\n    getDefaultMedia():IPlayable {\n        for (let item in this.medias) {\n            if (this.medias[item]) {\n                return this.medias[item];\n            }\n        }\n    }\n\n    getMasterMedia():IPlayable {\n        let master:any;\n        for (let id in this.medias) {\n            if (this.medias[id].vgMedia === 'true' || this.medias[id].vgMedia === true) {\n                master = this.medias[id];\n                break;\n            }\n        }\n        return master || this.getDefaultMedia();\n    }\n\n    isMasterDefined():boolean {\n        let result = false;\n        for (let id in this.medias) {\n            if (this.medias[id].vgMedia === 'true' || this.medias[id].vgMedia === true) {\n                result = true;\n                break;\n            }\n        }\n        return result;\n    }\n\n    getMediaById(id:string = null):IPlayable {\n        let media = this.medias[id];\n\n        if (!id || id === '*') {\n            media = this;\n        }\n\n        return media;\n    }\n\n    play() {\n        for (let id in this.medias) {\n            if (this.medias[id]) {\n                this.medias[ id ].play();\n            }\n        }\n    }\n\n    pause() {\n        for (let id in this.medias) {\n            if (this.medias[id]) {\n                this.medias[id].pause();\n            }\n        }\n    }\n\n    get duration() {\n        return this.$$getAllProperties('duration');\n    }\n\n    set currentTime(seconds) {\n        this.$$setAllProperties('currentTime', seconds);\n    }\n\n    get currentTime() {\n        return this.$$getAllProperties('currentTime');\n    }\n\n    set state(state) {\n        this.$$setAllProperties('state', state);\n    }\n\n    get state() {\n        return this.$$getAllProperties('state');\n    }\n\n    set volume(volume) {\n        this.$$setAllProperties('volume', volume);\n    }\n\n    get volume() {\n        return this.$$getAllProperties('volume');\n    }\n\n    set playbackRate(rate) {\n        this.$$setAllProperties('playbackRate', rate);\n    }\n\n    get playbackRate() {\n        return this.$$getAllProperties('playbackRate');\n    }\n\n    get canPlay() {\n        return this.$$getAllProperties('canPlay');\n    }\n\n    get canPlayThrough() {\n        return this.$$getAllProperties('canPlayThrough');\n    }\n\n    get isMetadataLoaded() {\n        return this.$$getAllProperties('isMetadataLoaded');\n    }\n\n    get isWaiting() {\n        return this.$$getAllProperties('isWaiting');\n    }\n\n    get isCompleted() {\n        return this.$$getAllProperties('isCompleted');\n    }\n\n    get isLive() {\n        return this.$$getAllProperties('isLive');\n    }\n\n    get isMaster() {\n        return this.$$getAllProperties('isMaster');\n    }\n\n    get time() {\n        return this.$$getAllProperties('time');\n    }\n\n    get buffer() {\n        return this.$$getAllProperties('buffer');\n    }\n\n    get buffered() {\n        return this.$$getAllProperties('buffered');\n    }\n\n    get subscriptions() {\n        return this.$$getAllProperties('subscriptions');\n    }\n\n    get textTracks() {\n        return this.$$getAllProperties('textTracks');\n    }\n\n    seekTime(value:number, byPercent:boolean = false) {\n        for (let id in this.medias) {\n            if (this.medias[id]) {\n                this.$$seek(this.medias[ id ], value, byPercent);\n            }\n        }\n    }\n\n    $$seek(media:IPlayable, value:number, byPercent:boolean = false) {\n        let second:number;\n        let duration:number = media.duration;\n\n        if (byPercent) {\n            if (this.isMasterDefined()) {\n                duration = this.getMasterMedia().duration;\n            }\n\n            second = value * duration / 100;\n        }\n        else {\n            second = value;\n        }\n\n        media.currentTime = second;\n    }\n\n    addTextTrack(type:string, label?:string, language?:string) {\n        for (let id in this.medias) {\n            if (this.medias[id]) {\n                this.$$addTextTrack(this.medias[ id ], type, label, language);\n            }\n        }\n    }\n    $$addTextTrack(media:IPlayable, type:string, label?:string, language?:string) {\n        media.addTextTrack(type, label, language);\n    }\n\n    $$getAllProperties(property:string){\n        const medias = {};\n        let result:any;\n\n        for (let id in this.medias) {\n            if (this.medias[id]) {\n                medias[ id ] = this.medias[ id ];\n            }\n        }\n\n        const nMedias = Object.keys(medias).length;\n        switch (nMedias) {\n            case 0:\n                // Return default values until vgMedia is initialized\n                switch (property) {\n                    case 'state':\n                        result = VgStates.VG_PAUSED;\n                        break;\n\n                    case 'playbackRate':\n                    case 'volume':\n                        result = 1;\n                        break;\n\n                    case 'time':\n                        result = {current: 0, total: 0, left: 0};\n                        break;\n                }\n                break;\n\n            case 1:\n                // If there's only one media element then return the plain value\n                const firstMediaId = Object.keys(medias)[0];\n                result = medias[firstMediaId][property];\n                break;\n                \n            default:\n                // TODO: return 'master' value\n                let master = this.getMasterMedia();\n                result = medias[master.id][property];\n        }\n        \n        return result;\n    }\n\n    $$setAllProperties(property:string, value:any){\n        for (let id in this.medias) {\n            if (this.medias[id]) {\n                this.medias[ id ][ property ] = value;\n            }\n        }\n    }\n\n    registerElement(elem:HTMLElement) {\n        this.videogularElement = elem;\n    }\n\n    registerMedia(media:IPlayable) {\n        this.medias[media.id] = media;\n    }\n\n    unregisterMedia(media:IPlayable) {\n        delete this.medias[media.id];\n    }\n\n\n}\n","l":{"1":1,"3":1,"7":1,"14":1,"18":1,"19":1,"20":1,"21":1,"24":1,"25":8,"26":8,"27":8,"32":1,"33":7,"34":7,"35":14,"36":1,"37":1,"40":7,"43":1,"44":1,"45":1,"46":0,"47":0,"48":0,"51":1,"54":13,"55":8,"57":8,"58":6,"61":8,"64":1,"65":1,"66":2,"67":2,"72":1,"73":1,"74":2,"75":2,"80":1,"81":1,"84":1,"85":1,"89":1,"92":1,"93":1,"97":8,"100":1,"101":5,"105":10,"108":1,"109":3,"113":2,"116":1,"117":5,"120":1,"121":1,"124":1,"125":1,"128":1,"129":1,"132":1,"133":1,"136":1,"137":16,"140":1,"141":0,"144":1,"145":5,"148":1,"149":1,"152":1,"153":1,"156":1,"157":1,"160":1,"161":0,"164":3,"165":2,"166":4,"167":4,"172":3,"173":2,"174":2,"176":2,"177":1,"178":0,"181":1,"184":1,"187":2,"190":1,"191":0,"192":0,"193":0,"197":1,"198":0,"201":1,"202":43,"203":43,"205":43,"206":34,"207":34,"211":43,"212":43,"215":14,"217":0,"218":0,"222":0,"223":0,"226":4,"227":4,"229":14,"233":24,"234":24,"235":24,"239":5,"240":5,"243":43,"246":1,"247":7,"248":10,"249":10,"254":1,"255":5,"258":1,"259":4,"262":1,"263":1}},
"/Users/jorgeucano/Documents/OSS/videogular2/src/core/states/vg-states.ts":{"path":"/Users/jorgeucano/Documents/OSS/videogular2/src/core/states/vg-states.ts","statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":1,"column":41}},"2":{"start":{"line":4,"column":13},"end":{"line":4,"column":21}}},"fnMap":{},"branchMap":{},"s":{"1":1,"2":1},"b":{},"f":{},"code":"import {Injectable} from '@angular/core';\n\n@Injectable()\nexport class VgStates {\n    static VG_ENDED: string = 'ended';\n    static VG_PAUSED: string = 'paused';\n    static VG_PLAYING: string = 'playing';\n    static VG_LOADING: string = 'waiting';\n}\n","l":{"1":1,"4":1}},
"/Users/jorgeucano/Documents/OSS/videogular2/src/buffering/vg-buffering.ts":{"path":"/Users/jorgeucano/Documents/OSS/videogular2/src/buffering/vg-buffering.ts","statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":1,"column":112}},"2":{"start":{"line":2,"column":0},"end":{"line":2,"column":48}},"3":{"start":{"line":117,"column":4},"end":{"line":119,"column":5}},"4":{"start":{"line":117,"column":40},"end":{"line":117,"column":50}},"5":{"start":{"line":118,"column":8},"end":{"line":118,"column":38}},"6":{"start":{"line":121,"column":4},"end":{"line":130,"column":5}},"7":{"start":{"line":122,"column":8},"end":{"line":129,"column":9}},"8":{"start":{"line":123,"column":12},"end":{"line":123,"column":33}},"9":{"start":{"line":126,"column":12},"end":{"line":128,"column":14}},"10":{"start":{"line":127,"column":58},"end":{"line":127,"column":78}},"11":{"start":{"line":132,"column":4},"end":{"line":140,"column":5}},"12":{"start":{"line":133,"column":8},"end":{"line":133,"column":56}},"13":{"start":{"line":135,"column":8},"end":{"line":139,"column":10}},"14":{"start":{"line":137,"column":31},"end":{"line":137,"column":63}},"15":{"start":{"line":142,"column":4},"end":{"line":144,"column":5}},"16":{"start":{"line":143,"column":8},"end":{"line":143,"column":39}},"17":{"start":{"line":146,"column":4},"end":{"line":148,"column":5}},"18":{"start":{"line":147,"column":8},"end":{"line":147,"column":57}},"19":{"start":{"line":147,"column":40},"end":{"line":147,"column":55}},"20":{"start":{"line":104,"column":13},"end":{"line":104,"column":24}}},"fnMap":{"1":{"name":"VgBuffering","line":117,"loc":{"start":{"line":117,"column":4},"end":{"line":117,"column":50}}},"2":{"name":"(anonymous_3)","line":121,"loc":{"start":{"line":121,"column":4},"end":{"line":null,"column":-1}}},"3":{"name":"(anonymous_4)","line":127,"loc":{"start":{"line":127,"column":52},"end":{"line":127,"column":57}}},"4":{"name":"(anonymous_5)","line":132,"loc":{"start":{"line":132,"column":4},"end":{"line":null,"column":-1}}},"5":{"name":"(anonymous_6)","line":137,"loc":{"start":{"line":137,"column":16},"end":{"line":137,"column":27}}},"6":{"name":"(anonymous_7)","line":142,"loc":{"start":{"line":142,"column":4},"end":{"line":142,"column":30}}},"7":{"name":"(anonymous_8)","line":146,"loc":{"start":{"line":146,"column":4},"end":{"line":null,"column":-1}}},"8":{"name":"(anonymous_9)","line":147,"loc":{"start":{"line":147,"column":35},"end":{"line":147,"column":36}}}},"branchMap":{"1":{"line":122,"type":"if","locations":[{"start":{"line":122,"column":8},"end":{"line":122,"column":7}},{"start":{"line":122,"column":8},"end":{"line":122,"column":7}}]}},"s":{"1":1,"2":1,"3":1,"4":3,"5":3,"6":1,"7":0,"8":0,"9":0,"10":0,"11":2,"12":1,"13":1,"14":0,"15":1,"16":2,"17":1,"18":0,"19":0,"20":1},"b":{"1":[0,0]},"f":{"1":3,"2":0,"3":0,"4":1,"5":0,"6":2,"7":0,"8":0},"code":"import { Component, ElementRef, HostBinding, Input, OnDestroy, OnInit, ViewEncapsulation } from '@angular/core';\nimport { VgAPI } from '../core/services/vg-api';\nimport { IPlayable } from '../core/vg-media/i-playable';\nimport { VgStates } from '../core/states/vg-states';\nimport { Subscription } from 'rxjs/Subscription';\n\n@Component({\n    selector: 'vg-buffering',\n    encapsulation: ViewEncapsulation.None,\n    template: `<div class=\"vg-buffering\">\n            <div class=\"bufferingContainer\">\n                <div class=\"loadingSpinner\"></div>\n            </div>\n        </div>`,\n    styles: [ `\n        vg-buffering {\n            display: none;\n            z-index: 201;\n        }\n\n        vg-buffering.is-buffering {\n            display: block;\n        }\n        \n        .vg-buffering {\n            position: absolute;\n            display: block;\n            width: 100%;\n            height: 100%;\n        }\n\n        .vg-buffering .bufferingContainer {\n            width: 100%;\n            position: absolute;\n            cursor: pointer;\n            top: 50%;\n            margin-top: -50px;\n\n            zoom: 1;\n            filter: alpha(opacity=60);\n            opacity: 0.6;\n        }\n\n        /* Loading Spinner\n        * http://www.alessioatzeni.com/blog/css3-loading-animation-loop/\n        */\n        .vg-buffering .loadingSpinner {\n            background-color: rgba(0, 0, 0, 0);\n            border: 5px solid rgba(255, 255, 255, 1);\n            opacity: .9;\n            border-top: 5px solid rgba(0, 0, 0, 0);\n            border-left: 5px solid rgba(0, 0, 0, 0);\n            border-radius: 50px;\n            box-shadow: 0 0 35px #FFFFFF;\n            width: 50px;\n            height: 50px;\n            margin: 0 auto;\n            -moz-animation: spin .5s infinite linear;\n            -webkit-animation: spin .5s infinite linear;\n        }\n\n        .vg-buffering .loadingSpinner .stop {\n            -webkit-animation-play-state: paused;\n            -moz-animation-play-state: paused;\n        }\n\n        @-moz-keyframes spin {\n            0% {\n                -moz-transform: rotate(0deg);\n            }\n            100% {\n                -moz-transform: rotate(360deg);\n            }\n        }\n\n        @-moz-keyframes spinoff {\n            0% {\n                -moz-transform: rotate(0deg);\n            }\n            100% {\n                -moz-transform: rotate(-360deg);\n            }\n        }\n\n        @-webkit-keyframes spin {\n            0% {\n                -webkit-transform: rotate(0deg);\n            }\n            100% {\n                -webkit-transform: rotate(360deg);\n            }\n        }\n\n        @-webkit-keyframes spinoff {\n            0% {\n                -webkit-transform: rotate(0deg);\n            }\n            100% {\n                -webkit-transform: rotate(-360deg);\n            }\n        }\n    ` ]\n})\nexport class VgBuffering implements OnInit, OnDestroy {\n    @Input() vgFor: string;\n\n    elem: HTMLElement;\n    target: IPlayable;\n    checkInterval: number = 50;\n    currentPlayPos: number = 0;\n    lastPlayPos: number = 0;\n\n    subscriptions: Subscription[] = [];\n\n    @HostBinding('class.is-buffering') isBuffering: boolean = false;\n\n    constructor(ref: ElementRef, public API: VgAPI) {\n        this.elem = ref.nativeElement;\n    }\n\n    ngOnInit() {\n        if (this.API.isPlayerReady) {\n            this.onPlayerReady();\n        }\n        else {\n            this.subscriptions.push(\n                this.API.playerReadyEvent.subscribe(() => this.onPlayerReady())\n            );\n        }\n    }\n\n    onPlayerReady() {\n        this.target = this.API.getMediaById(this.vgFor);\n\n        this.subscriptions.push(\n            this.target.subscriptions.bufferDetected.subscribe(\n                isBuffering => this.onUpdateBuffer(isBuffering)\n            )\n        );\n    }\n\n    onUpdateBuffer(isBuffering) {\n        this.isBuffering = isBuffering;\n    }\n\n    ngOnDestroy() {\n        this.subscriptions.forEach(s => s.unsubscribe());\n    }\n}\n","l":{"1":1,"2":1,"104":1,"117":3,"118":3,"121":1,"122":0,"123":0,"126":0,"127":0,"132":2,"133":1,"135":1,"137":0,"142":1,"143":2,"146":1,"147":0}},
"/Users/jorgeucano/Documents/OSS/videogular2/src/core/services/vg-controls-hidden.ts":{"path":"/Users/jorgeucano/Documents/OSS/videogular2/src/core/services/vg-controls-hidden.ts","statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":1,"column":39}},"2":{"start":{"line":3,"column":0},"end":{"line":3,"column":43}},"3":{"start":{"line":11,"column":4},"end":{"line":13,"column":5}},"4":{"start":{"line":12,"column":8},"end":{"line":12,"column":60}},"5":{"start":{"line":15,"column":4},"end":{"line":17,"column":5}},"6":{"start":{"line":16,"column":8},"end":{"line":16,"column":42}},"7":{"start":{"line":6,"column":13},"end":{"line":6,"column":29}}},"fnMap":{"1":{"name":"VgControlsHidden","line":11,"loc":{"start":{"line":11,"column":4},"end":{"line":null,"column":-1}}},"2":{"name":"(anonymous_3)","line":15,"loc":{"start":{"line":15,"column":4},"end":{"line":15,"column":25}}}},"branchMap":{},"s":{"1":1,"2":1,"3":1,"4":26,"5":1,"6":4,"7":1},"b":{},"f":{"1":26,"2":4},"code":"import { Subject } from 'rxjs/Subject';\nimport { Observable } from 'rxjs/Observable';\nimport { Injectable } from '@angular/core';\n\n@Injectable()\nexport class VgControlsHidden {\n    isHidden: Observable<boolean>;\n\n    private isHiddenSubject: Subject<boolean> = new Subject<boolean>();\n\n    constructor() {\n        this.isHidden = this.isHiddenSubject.asObservable();\n    }\n\n    state(hidden: boolean) {\n        this.isHiddenSubject.next(hidden);\n    }\n}\n","l":{"1":1,"3":1,"6":1,"11":1,"12":26,"15":1,"16":4}},
"/Users/jorgeucano/Documents/OSS/videogular2/src/controls/vg-mute/vg-mute.ts":{"path":"/Users/jorgeucano/Documents/OSS/videogular2/src/controls/vg-mute/vg-mute.ts","statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":1,"column":113}},"2":{"start":{"line":2,"column":0},"end":{"line":2,"column":51}},"3":{"start":{"line":53,"column":4},"end":{"line":55,"column":5}},"4":{"start":{"line":53,"column":40},"end":{"line":53,"column":50}},"5":{"start":{"line":54,"column":8},"end":{"line":54,"column":38}},"6":{"start":{"line":57,"column":4},"end":{"line":64,"column":5}},"7":{"start":{"line":58,"column":8},"end":{"line":63,"column":9}},"8":{"start":{"line":59,"column":12},"end":{"line":59,"column":33}},"9":{"start":{"line":62,"column":12},"end":{"line":62,"column":101}},"10":{"start":{"line":62,"column":78},"end":{"line":62,"column":98}},"11":{"start":{"line":66,"column":4},"end":{"line":69,"column":5}},"12":{"start":{"line":67,"column":8},"end":{"line":67,"column":56}},"13":{"start":{"line":68,"column":8},"end":{"line":68,"column":48}},"14":{"start":{"line":73,"column":8},"end":{"line":73,"column":31}},"15":{"start":{"line":79,"column":8},"end":{"line":82,"column":9}},"16":{"start":{"line":80,"column":12},"end":{"line":80,"column":35}},"17":{"start":{"line":81,"column":12},"end":{"line":81,"column":35}},"18":{"start":{"line":85,"column":4},"end":{"line":95,"column":5}},"19":{"start":{"line":86,"column":8},"end":{"line":86,"column":38}},"20":{"start":{"line":88,"column":8},"end":{"line":94,"column":9}},"21":{"start":{"line":89,"column":12},"end":{"line":89,"column":52}},"22":{"start":{"line":92,"column":12},"end":{"line":92,"column":40}},"23":{"start":{"line":93,"column":12},"end":{"line":93,"column":35}},"24":{"start":{"line":97,"column":4},"end":{"line":101,"column":5}},"25":{"start":{"line":98,"column":8},"end":{"line":98,"column":60}},"26":{"start":{"line":99,"column":8},"end":{"line":99,"column":54}},"27":{"start":{"line":100,"column":8},"end":{"line":100,"column":22}},"28":{"start":{"line":103,"column":4},"end":{"line":105,"column":5}},"29":{"start":{"line":104,"column":8},"end":{"line":104,"column":57}},"30":{"start":{"line":104,"column":40},"end":{"line":104,"column":55}},"31":{"start":{"line":42,"column":13},"end":{"line":42,"column":19}}},"fnMap":{"1":{"name":"VgMute","line":53,"loc":{"start":{"line":53,"column":4},"end":{"line":53,"column":50}}},"2":{"name":"(anonymous_3)","line":57,"loc":{"start":{"line":57,"column":4},"end":{"line":null,"column":-1}}},"3":{"name":"(anonymous_4)","line":62,"loc":{"start":{"line":62,"column":72},"end":{"line":62,"column":77}}},"4":{"name":"(anonymous_5)","line":66,"loc":{"start":{"line":66,"column":4},"end":{"line":null,"column":-1}}},"5":{"name":"(anonymous_6)","line":72,"loc":{"start":{"line":72,"column":11},"end":{"line":null,"column":-1}}},"6":{"name":"(anonymous_7)","line":77,"loc":{"start":{"line":77,"column":13},"end":{"line":77,"column":34}}},"7":{"name":"(anonymous_8)","line":85,"loc":{"start":{"line":85,"column":4},"end":{"line":null,"column":-1}}},"8":{"name":"(anonymous_9)","line":97,"loc":{"start":{"line":97,"column":4},"end":{"line":null,"column":-1}}},"9":{"name":"(anonymous_10)","line":103,"loc":{"start":{"line":103,"column":4},"end":{"line":null,"column":-1}}},"10":{"name":"(anonymous_11)","line":104,"loc":{"start":{"line":104,"column":35},"end":{"line":104,"column":36}}}},"branchMap":{"1":{"line":58,"type":"if","locations":[{"start":{"line":58,"column":8},"end":{"line":58,"column":7}},{"start":{"line":58,"column":8},"end":{"line":58,"column":7}}]},"2":{"line":79,"type":"if","locations":[{"start":{"line":79,"column":8},"end":{"line":79,"column":7}},{"start":{"line":79,"column":8},"end":{"line":79,"column":7}}]},"3":{"line":79,"type":"binary-expr","locations":[{"start":{"line":79,"column":12},"end":{"line":79,"column":32}},{"start":{"line":79,"column":36},"end":{"line":79,"column":56}}]},"4":{"line":88,"type":"if","locations":[{"start":{"line":88,"column":8},"end":{"line":88,"column":7}},{"start":{"line":88,"column":8},"end":{"line":88,"column":7}}]},"5":{"line":98,"type":"cond-expr","locations":[{"start":{"line":98,"column":37},"end":{"line":98,"column":55}},{"start":{"line":98,"column":58},"end":{"line":98,"column":59}}]},"6":{"line":99,"type":"cond-expr","locations":[{"start":{"line":99,"column":34},"end":{"line":99,"column":43}},{"start":{"line":99,"column":46},"end":{"line":99,"column":53}}]}},"s":{"1":1,"2":1,"3":1,"4":6,"5":6,"6":1,"7":0,"8":0,"9":0,"10":0,"11":1,"12":1,"13":1,"14":4,"15":0,"16":0,"17":0,"18":1,"19":4,"20":4,"21":2,"22":2,"23":2,"24":1,"25":5,"26":5,"27":5,"28":1,"29":0,"30":0,"31":1},"b":{"1":[0,0],"2":[0,0],"3":[0,0],"4":[2,2],"5":[5,0],"6":[3,2]},"f":{"1":6,"2":0,"3":0,"4":1,"5":4,"6":0,"7":4,"8":5,"9":0,"10":0},"code":"import { Component, Input, ElementRef, HostListener, OnInit, ViewEncapsulation, OnDestroy } from '@angular/core';\nimport { VgAPI } from '../../core/services/vg-api';\nimport { Subscription } from 'rxjs/Subscription';\n\n\n@Component({\n    selector: 'vg-mute',\n    encapsulation: ViewEncapsulation.None,\n    template: `\n        <div class=\"icon\"\n             [class.vg-icon-volume_up]=\"getVolume() >= 0.75\"\n             [class.vg-icon-volume_down]=\"getVolume() >= 0.25 && getVolume() < 0.75\"\n             [class.vg-icon-volume_mute]=\"getVolume() > 0 && getVolume() < 0.25\"\n             [class.vg-icon-volume_off]=\"getVolume() === 0\"\n             tabindex=\"0\"\n             role=\"button\"\n             aria-label=\"mute button\"\n             [attr.aria-valuetext]=\"ariaValue\">\n        </div>`,\n    styles: [ `\n        vg-mute {\n            -webkit-touch-callout: none;\n            -webkit-user-select: none;\n            -khtml-user-select: none;\n            -moz-user-select: none;\n            -ms-user-select: none;\n            user-select: none;\n            display: flex;\n            justify-content: center;\n            height: 50px;\n            width: 50px;\n            cursor: pointer;\n            color: white;\n            line-height: 50px;\n        }\n\n        vg-mute .icon {\n            pointer-events: none;\n        }\n    ` ]\n})\nexport class VgMute implements OnInit, OnDestroy {\n    @Input() vgFor: string;\n    elem: HTMLElement;\n    target: any;\n\n    currentVolume: number;\n\n    subscriptions: Subscription[] = [];\n\n    ariaValue = 'unmuted';\n\n    constructor(ref: ElementRef, public API: VgAPI) {\n        this.elem = ref.nativeElement;\n    }\n\n    ngOnInit() {\n        if (this.API.isPlayerReady) {\n            this.onPlayerReady();\n        }\n        else {\n            this.subscriptions.push(this.API.playerReadyEvent.subscribe(() => this.onPlayerReady()));\n        }\n    }\n\n    onPlayerReady() {\n        this.target = this.API.getMediaById(this.vgFor);\n        this.currentVolume = this.target.volume;\n    }\n\n    @HostListener('click')\n    onClick() {\n        this.changeMuteState();\n    }\n\n    @HostListener('keydown', ['$event'])\n    onKeyDown(event: KeyboardEvent) {\n        // On press Enter (13) or Space (32)\n        if (event.keyCode === 13 || event.keyCode === 32) {\n            event.preventDefault();\n            this.changeMuteState();\n        }\n    }\n\n    changeMuteState() {\n        let volume = this.getVolume();\n\n        if (volume === 0) {\n            this.target.volume = this.currentVolume;\n        }\n        else {\n            this.currentVolume = volume;\n            this.target.volume = 0;\n        }\n    }\n\n    getVolume() {\n        const volume = this.target ? this.target.volume : 0;\n        this.ariaValue = volume ? 'unmuted' : 'muted';\n        return volume;\n    }\n\n    ngOnDestroy() {\n        this.subscriptions.forEach(s => s.unsubscribe());\n    }\n}\n","l":{"1":1,"2":1,"42":1,"53":6,"54":6,"57":1,"58":0,"59":0,"62":0,"66":1,"67":1,"68":1,"73":4,"79":0,"80":0,"81":0,"85":1,"86":4,"88":4,"89":2,"92":2,"93":2,"97":1,"98":5,"99":5,"100":5,"103":1,"104":0}},
"/Users/jorgeucano/Documents/OSS/videogular2/src/controls/vg-scrub-bar/vg-scrub-bar-buffering-time/vg-scrub-bar-buffering-time.ts":{"path":"/Users/jorgeucano/Documents/OSS/videogular2/src/controls/vg-scrub-bar/vg-scrub-bar-buffering-time/vg-scrub-bar-buffering-time.ts","statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":1,"column":99}},"2":{"start":{"line":2,"column":0},"end":{"line":2,"column":54}},"3":{"start":{"line":42,"column":4},"end":{"line":44,"column":5}},"4":{"start":{"line":42,"column":40},"end":{"line":42,"column":50}},"5":{"start":{"line":43,"column":8},"end":{"line":43,"column":38}},"6":{"start":{"line":46,"column":4},"end":{"line":53,"column":5}},"7":{"start":{"line":47,"column":8},"end":{"line":52,"column":9}},"8":{"start":{"line":48,"column":12},"end":{"line":48,"column":33}},"9":{"start":{"line":51,"column":12},"end":{"line":51,"column":101}},"10":{"start":{"line":51,"column":78},"end":{"line":51,"column":98}},"11":{"start":{"line":55,"column":4},"end":{"line":57,"column":5}},"12":{"start":{"line":56,"column":8},"end":{"line":56,"column":56}},"13":{"start":{"line":59,"column":4},"end":{"line":72,"column":5}},"14":{"start":{"line":60,"column":8},"end":{"line":60,"column":30}},"15":{"start":{"line":62,"column":8},"end":{"line":69,"column":9}},"16":{"start":{"line":63,"column":12},"end":{"line":68,"column":13}},"17":{"start":{"line":64,"column":16},"end":{"line":64,"column":34}},"18":{"start":{"line":67,"column":16},"end":{"line":67,"column":93}},"19":{"start":{"line":71,"column":8},"end":{"line":71,"column":26}},"20":{"start":{"line":74,"column":4},"end":{"line":76,"column":5}},"21":{"start":{"line":75,"column":8},"end":{"line":75,"column":57}},"22":{"start":{"line":75,"column":40},"end":{"line":75,"column":55}},"23":{"start":{"line":34,"column":13},"end":{"line":34,"column":36}}},"fnMap":{"1":{"name":"VgScrubBarBufferingTime","line":42,"loc":{"start":{"line":42,"column":4},"end":{"line":42,"column":50}}},"2":{"name":"(anonymous_3)","line":46,"loc":{"start":{"line":46,"column":4},"end":{"line":null,"column":-1}}},"3":{"name":"(anonymous_4)","line":51,"loc":{"start":{"line":51,"column":72},"end":{"line":51,"column":77}}},"4":{"name":"(anonymous_5)","line":55,"loc":{"start":{"line":55,"column":4},"end":{"line":null,"column":-1}}},"5":{"name":"(anonymous_6)","line":59,"loc":{"start":{"line":59,"column":4},"end":{"line":null,"column":-1}}},"6":{"name":"(anonymous_7)","line":74,"loc":{"start":{"line":74,"column":4},"end":{"line":null,"column":-1}}},"7":{"name":"(anonymous_8)","line":75,"loc":{"start":{"line":75,"column":35},"end":{"line":75,"column":36}}}},"branchMap":{"1":{"line":47,"type":"if","locations":[{"start":{"line":47,"column":8},"end":{"line":47,"column":7}},{"start":{"line":47,"column":8},"end":{"line":47,"column":7}}]},"2":{"line":62,"type":"if","locations":[{"start":{"line":62,"column":8},"end":{"line":62,"column":7}},{"start":{"line":62,"column":8},"end":{"line":62,"column":7}}]},"3":{"line":62,"type":"binary-expr","locations":[{"start":{"line":62,"column":12},"end":{"line":62,"column":23}},{"start":{"line":62,"column":27},"end":{"line":62,"column":45}},{"start":{"line":62,"column":49},"end":{"line":62,"column":76}}]},"4":{"line":63,"type":"if","locations":[{"start":{"line":63,"column":12},"end":{"line":63,"column":11}},{"start":{"line":63,"column":12},"end":{"line":63,"column":11}}]}},"s":{"1":1,"2":1,"3":1,"4":4,"5":4,"6":1,"7":0,"8":0,"9":0,"10":0,"11":1,"12":1,"13":1,"14":3,"15":3,"16":2,"17":0,"18":2,"19":3,"20":1,"21":0,"22":0,"23":1},"b":{"1":[0,0],"2":[2,1],"3":[3,3,2],"4":[0,2]},"f":{"1":4,"2":0,"3":0,"4":1,"5":3,"6":0,"7":0},"code":"import { Component, Input, ElementRef, OnInit, ViewEncapsulation, OnDestroy } from '@angular/core';\nimport { VgAPI } from '../../../core/services/vg-api';\nimport { Subscription } from 'rxjs/Subscription';\n\n@Component({\n    selector: 'vg-scrub-bar-buffering-time',\n    encapsulation: ViewEncapsulation.None,\n    template: `<div class=\"background\" [style.width]=\"getBufferTime()\"></div>`,\n    styles: [ `\n        vg-scrub-bar-buffering-time {\n            display: flex;\n            width: 100%;\n            height: 5px;\n            pointer-events: none;\n            position: absolute;\n        }\n\n        vg-scrub-bar-buffering-time .background {\n            background-color: rgba(255, 255, 255, 0.3);\n        }\n\n        vg-controls vg-scrub-bar-buffering-time {\n            position: absolute;\n            top: calc(50% - 3px);\n        }\n\n        vg-controls vg-scrub-bar-buffering-time .background {\n            -webkit-border-radius: 2px;\n            -moz-border-radius: 2px;\n            border-radius: 2px;\n        }\n    ` ]\n})\nexport class VgScrubBarBufferingTime implements OnInit, OnDestroy {\n    @Input() vgFor: string;\n\n    elem: HTMLElement;\n    target: any;\n\n    subscriptions: Subscription[] = [];\n\n    constructor(ref: ElementRef, public API: VgAPI) {\n        this.elem = ref.nativeElement;\n    }\n\n    ngOnInit() {\n        if (this.API.isPlayerReady) {\n            this.onPlayerReady();\n        }\n        else {\n            this.subscriptions.push(this.API.playerReadyEvent.subscribe(() => this.onPlayerReady()));\n        }\n    }\n\n    onPlayerReady() {\n        this.target = this.API.getMediaById(this.vgFor);\n    }\n\n    getBufferTime() {\n        let bufferTime = \"0%\";\n\n        if (this.target && this.target.buffer && this.target.buffered.length) {\n            if (this.target.time.total === 0) {\n                bufferTime = '0%';\n            }\n            else {\n                bufferTime = ((this.target.buffer.end / this.target.time.total) * 100) + '%';\n            }\n        }\n\n        return bufferTime;\n    }\n\n    ngOnDestroy() {\n        this.subscriptions.forEach(s => s.unsubscribe());\n    }\n}\n","l":{"1":1,"2":1,"34":1,"42":4,"43":4,"46":1,"47":0,"48":0,"51":0,"55":1,"56":1,"59":1,"60":3,"62":3,"63":2,"64":0,"67":2,"71":3,"74":1,"75":0}},
"/Users/jorgeucano/Documents/OSS/videogular2/src/controls/vg-playback-button/vg-playback-button.ts":{"path":"/Users/jorgeucano/Documents/OSS/videogular2/src/controls/vg-playback-button/vg-playback-button.ts","statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":1,"column":113}},"2":{"start":{"line":2,"column":0},"end":{"line":2,"column":51}},"3":{"start":{"line":54,"column":4},"end":{"line":58,"column":5}},"4":{"start":{"line":54,"column":40},"end":{"line":54,"column":50}},"5":{"start":{"line":55,"column":8},"end":{"line":55,"column":38}},"6":{"start":{"line":56,"column":8},"end":{"line":56,"column":61}},"7":{"start":{"line":57,"column":8},"end":{"line":57,"column":31}},"8":{"start":{"line":60,"column":4},"end":{"line":67,"column":5}},"9":{"start":{"line":61,"column":8},"end":{"line":66,"column":9}},"10":{"start":{"line":62,"column":12},"end":{"line":62,"column":33}},"11":{"start":{"line":65,"column":12},"end":{"line":65,"column":101}},"12":{"start":{"line":65,"column":78},"end":{"line":65,"column":98}},"13":{"start":{"line":69,"column":4},"end":{"line":71,"column":5}},"14":{"start":{"line":70,"column":8},"end":{"line":70,"column":56}},"15":{"start":{"line":75,"column":8},"end":{"line":75,"column":35}},"16":{"start":{"line":81,"column":8},"end":{"line":84,"column":9}},"17":{"start":{"line":82,"column":12},"end":{"line":82,"column":35}},"18":{"start":{"line":83,"column":12},"end":{"line":83,"column":39}},"19":{"start":{"line":87,"column":4},"end":{"line":96,"column":5}},"20":{"start":{"line":88,"column":8},"end":{"line":88,"column":79}},"21":{"start":{"line":90,"column":8},"end":{"line":95,"column":9}},"22":{"start":{"line":91,"column":12},"end":{"line":91,"column":83}},"23":{"start":{"line":94,"column":12},"end":{"line":94,"column":97}},"24":{"start":{"line":98,"column":4},"end":{"line":101,"column":5}},"25":{"start":{"line":99,"column":8},"end":{"line":99,"column":70}},"26":{"start":{"line":100,"column":8},"end":{"line":100,"column":30}},"27":{"start":{"line":103,"column":4},"end":{"line":105,"column":5}},"28":{"start":{"line":104,"column":8},"end":{"line":104,"column":57}},"29":{"start":{"line":104,"column":40},"end":{"line":104,"column":55}},"30":{"start":{"line":41,"column":13},"end":{"line":41,"column":29}}},"fnMap":{"1":{"name":"VgPlaybackButton","line":54,"loc":{"start":{"line":54,"column":4},"end":{"line":54,"column":50}}},"2":{"name":"(anonymous_3)","line":60,"loc":{"start":{"line":60,"column":4},"end":{"line":null,"column":-1}}},"3":{"name":"(anonymous_4)","line":65,"loc":{"start":{"line":65,"column":72},"end":{"line":65,"column":77}}},"4":{"name":"(anonymous_5)","line":69,"loc":{"start":{"line":69,"column":4},"end":{"line":null,"column":-1}}},"5":{"name":"(anonymous_6)","line":74,"loc":{"start":{"line":74,"column":11},"end":{"line":null,"column":-1}}},"6":{"name":"(anonymous_7)","line":79,"loc":{"start":{"line":79,"column":13},"end":{"line":79,"column":34}}},"7":{"name":"(anonymous_8)","line":87,"loc":{"start":{"line":87,"column":4},"end":{"line":null,"column":-1}}},"8":{"name":"(anonymous_9)","line":98,"loc":{"start":{"line":98,"column":4},"end":{"line":null,"column":-1}}},"9":{"name":"(anonymous_10)","line":103,"loc":{"start":{"line":103,"column":4},"end":{"line":null,"column":-1}}},"10":{"name":"(anonymous_11)","line":104,"loc":{"start":{"line":104,"column":35},"end":{"line":104,"column":36}}}},"branchMap":{"1":{"line":61,"type":"if","locations":[{"start":{"line":61,"column":8},"end":{"line":61,"column":7}},{"start":{"line":61,"column":8},"end":{"line":61,"column":7}}]},"2":{"line":81,"type":"if","locations":[{"start":{"line":81,"column":8},"end":{"line":81,"column":7}},{"start":{"line":81,"column":8},"end":{"line":81,"column":7}}]},"3":{"line":81,"type":"binary-expr","locations":[{"start":{"line":81,"column":12},"end":{"line":81,"column":32}},{"start":{"line":81,"column":36},"end":{"line":81,"column":56}}]},"4":{"line":90,"type":"if","locations":[{"start":{"line":90,"column":8},"end":{"line":90,"column":7}},{"start":{"line":90,"column":8},"end":{"line":90,"column":7}}]},"5":{"line":99,"type":"cond-expr","locations":[{"start":{"line":99,"column":39},"end":{"line":99,"column":63}},{"start":{"line":99,"column":66},"end":{"line":99,"column":69}}]}},"s":{"1":1,"2":1,"3":1,"4":5,"5":5,"6":5,"7":5,"8":1,"9":0,"10":0,"11":0,"12":0,"13":1,"14":1,"15":3,"16":0,"17":0,"18":0,"19":1,"20":3,"21":3,"22":2,"23":1,"24":1,"25":0,"26":0,"27":1,"28":0,"29":0,"30":1},"b":{"1":[0,0],"2":[0,0],"3":[0,0],"4":[2,1],"5":[0,0]},"f":{"1":5,"2":0,"3":0,"4":1,"5":3,"6":0,"7":3,"8":0,"9":0,"10":0},"code":"import { Component, Input, ElementRef, HostListener, OnInit, ViewEncapsulation, OnDestroy } from '@angular/core';\nimport { VgAPI } from '../../core/services/vg-api';\nimport { Subscription } from 'rxjs/Subscription';\n\n@Component({\n    selector: 'vg-playback-button',\n    encapsulation: ViewEncapsulation.None,\n    template: `\n    <span class=\"button\"\n          tabindex=\"0\"\n          role=\"button\"\n          aria-label=\"playback speed button\"\n          [attr.aria-valuetext]=\"ariaValue\">\n        {{getPlaybackRate()}}x\n    </span>`,\n    styles: [ `\n        vg-playback-button {\n            -webkit-touch-callout: none;\n            -webkit-user-select: none;\n            -moz-user-select: none;\n            -ms-user-select: none;\n            user-select: none;\n            display: flex;\n            justify-content: center;\n            height: 50px;\n            width: 50px;\n            cursor: pointer;\n            color: white;\n            line-height: 50px;\n            font-family: Helvetica Neue, Helvetica, Arial, sans-serif;\n        }\n\n        vg-playback-button .button {\n            display: flex;\n            align-items: center;\n            justify-content: center;\n            width: 50px;\n        }\n    ` ]\n})\nexport class VgPlaybackButton implements OnInit, OnDestroy {\n    @Input() vgFor: string;\n\n    elem: HTMLElement;\n    target: any;\n\n    @Input() playbackValues: Array<string>;\n    playbackIndex: number;\n\n    subscriptions: Subscription[] = [];\n\n    ariaValue = 1;\n\n    constructor(ref: ElementRef, public API: VgAPI) {\n        this.elem = ref.nativeElement;\n        this.playbackValues = [ '0.5', '1.0', '1.5', '2.0' ];\n        this.playbackIndex = 1;\n    }\n\n    ngOnInit() {\n        if (this.API.isPlayerReady) {\n            this.onPlayerReady();\n        }\n        else {\n            this.subscriptions.push(this.API.playerReadyEvent.subscribe(() => this.onPlayerReady()));\n        }\n    }\n\n    onPlayerReady() {\n        this.target = this.API.getMediaById(this.vgFor);\n    }\n\n    @HostListener('click')\n    onClick() {\n        this.updatePlaybackSpeed();\n    }\n\n    @HostListener('keydown', ['$event'])\n    onKeyDown(event: KeyboardEvent) {\n        // On press Enter (13) or Space (32)\n        if (event.keyCode === 13 || event.keyCode === 32) {\n            event.preventDefault();\n            this.updatePlaybackSpeed();\n        }\n    }\n\n    updatePlaybackSpeed() {\n        this.playbackIndex = ++this.playbackIndex % this.playbackValues.length;\n\n        if (this.target instanceof VgAPI) {\n            this.target.playbackRate = (this.playbackValues[ this.playbackIndex ]);\n        }\n        else {\n            this.target.playbackRate[ this.vgFor ] = (this.playbackValues[ this.playbackIndex ]);\n        }\n    }\n\n    getPlaybackRate() {\n        this.ariaValue = this.target ? this.target.playbackRate : 1.0;\n        return this.ariaValue;\n    }\n\n    ngOnDestroy() {\n        this.subscriptions.forEach(s => s.unsubscribe());\n    }\n}\n","l":{"1":1,"2":1,"41":1,"54":5,"55":5,"56":5,"57":5,"60":1,"61":0,"62":0,"65":0,"69":1,"70":1,"75":3,"81":0,"82":0,"83":0,"87":1,"88":3,"90":3,"91":2,"94":1,"98":1,"99":0,"100":0,"103":1,"104":0}},
"/Users/jorgeucano/Documents/OSS/videogular2/src/controls/vg-track-selector/vg-track-selector.ts":{"path":"/Users/jorgeucano/Documents/OSS/videogular2/src/controls/vg-track-selector/vg-track-selector.ts","statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":1,"column":99}},"2":{"start":{"line":2,"column":0},"end":{"line":2,"column":51}},"3":{"start":{"line":98,"column":4},"end":{"line":100,"column":5}},"4":{"start":{"line":98,"column":40},"end":{"line":98,"column":50}},"5":{"start":{"line":99,"column":8},"end":{"line":99,"column":38}},"6":{"start":{"line":102,"column":4},"end":{"line":109,"column":5}},"7":{"start":{"line":103,"column":8},"end":{"line":108,"column":9}},"8":{"start":{"line":104,"column":12},"end":{"line":104,"column":33}},"9":{"start":{"line":107,"column":12},"end":{"line":107,"column":101}},"10":{"start":{"line":107,"column":78},"end":{"line":107,"column":98}},"11":{"start":{"line":111,"column":4},"end":{"line":135,"column":5}},"12":{"start":{"line":112,"column":8},"end":{"line":112,"column":56}},"13":{"start":{"line":114,"column":8},"end":{"line":121,"column":16}},"14":{"start":{"line":115,"column":43},"end":{"line":115,"column":67}},"15":{"start":{"line":116,"column":48},"end":{"line":116,"column":73}},"16":{"start":{"line":117,"column":45},"end":{"line":121,"column":14}},"17":{"start":{"line":123,"column":8},"end":{"line":130,"column":10}},"18":{"start":{"line":128,"column":55},"end":{"line":128,"column":78}},"19":{"start":{"line":132,"column":8},"end":{"line":132,"column":96}},"20":{"start":{"line":132,"column":67},"end":{"line":132,"column":89}},"21":{"start":{"line":133,"column":8},"end":{"line":133,"column":38}},"22":{"start":{"line":134,"column":8},"end":{"line":134,"column":37}},"23":{"start":{"line":137,"column":4},"end":{"line":151,"column":5}},"24":{"start":{"line":138,"column":8},"end":{"line":138,"column":67}},"25":{"start":{"line":140,"column":8},"end":{"line":140,"column":45}},"26":{"start":{"line":142,"column":8},"end":{"line":150,"column":15}},"27":{"start":{"line":144,"column":16},"end":{"line":149,"column":17}},"28":{"start":{"line":145,"column":20},"end":{"line":145,"column":48}},"29":{"start":{"line":146,"column":20},"end":{"line":146,"column":42}},"30":{"start":{"line":148,"column":20},"end":{"line":148,"column":41}},"31":{"start":{"line":153,"column":4},"end":{"line":155,"column":5}},"32":{"start":{"line":154,"column":8},"end":{"line":154,"column":57}},"33":{"start":{"line":154,"column":40},"end":{"line":154,"column":55}},"34":{"start":{"line":86,"column":13},"end":{"line":86,"column":28}}},"fnMap":{"1":{"name":"VgTrackSelector","line":98,"loc":{"start":{"line":98,"column":4},"end":{"line":98,"column":50}}},"2":{"name":"(anonymous_3)","line":102,"loc":{"start":{"line":102,"column":4},"end":{"line":null,"column":-1}}},"3":{"name":"(anonymous_4)","line":107,"loc":{"start":{"line":107,"column":72},"end":{"line":107,"column":77}}},"4":{"name":"(anonymous_5)","line":111,"loc":{"start":{"line":111,"column":4},"end":{"line":null,"column":-1}}},"5":{"name":"(anonymous_6)","line":115,"loc":{"start":{"line":115,"column":20},"end":{"line":115,"column":38}}},"6":{"name":"(anonymous_7)","line":116,"loc":{"start":{"line":116,"column":20},"end":{"line":116,"column":43}}},"7":{"name":"(anonymous_8)","line":117,"loc":{"start":{"line":117,"column":17},"end":{"line":117,"column":40}}},"8":{"name":"(anonymous_9)","line":128,"loc":{"start":{"line":128,"column":37},"end":{"line":128,"column":50}}},"9":{"name":"(anonymous_10)","line":132,"loc":{"start":{"line":132,"column":49},"end":{"line":132,"column":62}}},"10":{"name":"(anonymous_11)","line":137,"loc":{"start":{"line":137,"column":4},"end":{"line":137,"column":31}}},"11":{"name":"(anonymous_12)","line":143,"loc":{"start":{"line":143,"column":21},"end":{"line":143,"column":37}}},"12":{"name":"(anonymous_13)","line":153,"loc":{"start":{"line":153,"column":4},"end":{"line":null,"column":-1}}},"13":{"name":"(anonymous_14)","line":154,"loc":{"start":{"line":154,"column":35},"end":{"line":154,"column":36}}}},"branchMap":{"1":{"line":103,"type":"if","locations":[{"start":{"line":103,"column":8},"end":{"line":103,"column":7}},{"start":{"line":103,"column":8},"end":{"line":103,"column":7}}]},"2":{"line":138,"type":"cond-expr","locations":[{"start":{"line":138,"column":52},"end":{"line":138,"column":56}},{"start":{"line":138,"column":59},"end":{"line":138,"column":66}}]},"3":{"line":144,"type":"if","locations":[{"start":{"line":144,"column":16},"end":{"line":144,"column":15}},{"start":{"line":144,"column":16},"end":{"line":144,"column":15}}]}},"s":{"1":1,"2":1,"3":1,"4":6,"5":6,"6":1,"7":0,"8":0,"9":0,"10":0,"11":1,"12":4,"13":4,"14":17,"15":8,"16":8,"17":4,"18":8,"19":4,"20":12,"21":4,"22":4,"23":3,"24":2,"25":2,"26":2,"27":4,"28":1,"29":1,"30":3,"31":1,"32":0,"33":0,"34":1},"b":{"1":[0,0],"2":[0,2],"3":[1,3]},"f":{"1":6,"2":0,"3":0,"4":4,"5":17,"6":8,"7":8,"8":8,"9":12,"10":2,"11":4,"12":0,"13":0},"code":"import { Component, ElementRef, OnInit, Input, ViewEncapsulation, OnDestroy } from '@angular/core';\nimport { VgAPI } from '../../core/services/vg-api';\nimport { Subscription } from 'rxjs/Subscription';\n\nexport interface Option {\n    id: string;\n    label: string;\n    selected: boolean;\n}\n\n@Component({\n    selector: 'vg-track-selector',\n    encapsulation: ViewEncapsulation.None,\n    template: `\n        <div class=\"container\">\n            <div class=\"track-selected\"\n                 [class.vg-icon-closed_caption]=\"!trackSelected\">\n                {{ trackSelected || '' }}\n            </div>\n            \n            <select class=\"trackSelector\" \n                    (change)=\"selectTrack($event.target.value)\"\n                    tabindex=\"0\"\n                    aria-label=\"track selector\"\n                    [attr.aria-valuetext]=\"ariaValue\">\n                <option \n                    *ngFor=\"let track of tracks\"\n                    [value]=\"track.id\"\n                    [selected]=\"track.selected === true\">\n                    {{ track.label }}\n                </option>\n            </select>\n        </div>\n    `,\n    styles: [ `\n        vg-track-selector {\n            -webkit-touch-callout: none;\n            -webkit-user-select: none;\n            -moz-user-select: none;\n            -ms-user-select: none;\n            user-select: none;\n            display: flex;\n            justify-content: center;\n            width: 50px;\n            height: 50px;\n            cursor: pointer;\n            color: white;\n            line-height: 50px;\n        }\n        vg-track-selector .container {\n            position: relative;\n            display: flex;\n            flex-grow: 1;\n            align-items: center;\n            \n            padding: 0;\n            margin: 5px;\n        }\n        vg-track-selector select.trackSelector {\n            width: 50px;\n            padding: 5px 8px;\n            border: none;\n            background: none;\n            -webkit-appearance: none;\n            -moz-appearance: none;\n            appearance: none;\n            color: transparent;\n            font-size: 16px;\n        }\n        vg-track-selector .track-selected {\n            position: absolute;\n            width: 100%;\n            height: 50px;\n            top: -6px;\n            text-align: center;\n            text-transform: uppercase;\n            font-family: Helvetica Neue, Helvetica, Arial, sans-serif;\n            padding-top: 2px;\n            pointer-events: none;\n        }\n        vg-track-selector .vg-icon-closed_caption:before {\n            width: 100%;\n        }\n    ` ]\n})\nexport class VgTrackSelector implements OnInit, OnDestroy {\n    @Input() vgFor: string;\n\n    elem: HTMLElement;\n    target: any;\n    tracks: Array<Option>;\n    trackSelected: string;\n\n    subscriptions: Subscription[] = [];\n\n    ariaValue: string;\n\n    constructor(ref: ElementRef, public API: VgAPI) {\n        this.elem = ref.nativeElement;\n    }\n\n    ngOnInit() {\n        if (this.API.isPlayerReady) {\n            this.onPlayerReady();\n        }\n        else {\n            this.subscriptions.push(this.API.playerReadyEvent.subscribe(() => this.onPlayerReady()));\n        }\n    }\n\n    onPlayerReady() {\n        this.target = this.API.getMediaById(this.vgFor);\n\n        const subs: Array<Option> = Array.from((this.API.getMasterMedia().elem as HTMLMediaElement).children)\n            .filter((item: HTMLElement) => item.tagName === 'TRACK')\n            .filter((item: HTMLTrackElement) => item.kind === 'subtitles')\n            .map((item: HTMLTrackElement) => ({\n                label: item.label,\n                selected: item.default === true,\n                id: item.srclang\n            }));\n\n        this.tracks = [\n            ...subs,\n            {\n                id: null,\n                label: 'Off',\n                selected: subs.every((item: Option) => item.selected === false)\n            }\n        ];\n\n        const track: Option = this.tracks.filter((item: Option) => item.selected === true)[ 0 ];\n        this.trackSelected = track.id;\n        this.ariaValue = track.label;\n    }\n\n    selectTrack(trackId: string) {\n        this.trackSelected = (trackId === 'null') ? null : trackId;\n\n        this.ariaValue = 'No track selected';\n\n        Array.from((this.API.getMasterMedia().elem as HTMLMediaElement).textTracks)\n            .forEach((item: TextTrack) => {\n                if (item.language === trackId) {\n                    this.ariaValue = item.label;\n                    item.mode = 'showing';\n                } else {\n                    item.mode = 'hidden';\n                }\n            });\n    }\n\n    ngOnDestroy() {\n        this.subscriptions.forEach(s => s.unsubscribe());\n    }\n}\n","l":{"1":1,"2":1,"86":1,"98":6,"99":6,"102":1,"103":0,"104":0,"107":0,"111":1,"112":4,"114":4,"115":17,"116":8,"117":8,"123":4,"128":8,"132":12,"133":4,"134":4,"137":3,"138":2,"140":2,"142":2,"144":4,"145":1,"146":1,"148":3,"153":1,"154":0}},
"/Users/jorgeucano/Documents/OSS/videogular2/src/controls/vg-play-pause/vg-play-pause.ts":{"path":"/Users/jorgeucano/Documents/OSS/videogular2/src/controls/vg-play-pause/vg-play-pause.ts","statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":1,"column":113}},"2":{"start":{"line":2,"column":0},"end":{"line":2,"column":51}},"3":{"start":{"line":3,"column":0},"end":{"line":3,"column":55}},"4":{"start":{"line":50,"column":4},"end":{"line":52,"column":5}},"5":{"start":{"line":50,"column":40},"end":{"line":50,"column":50}},"6":{"start":{"line":51,"column":8},"end":{"line":51,"column":38}},"7":{"start":{"line":54,"column":4},"end":{"line":61,"column":5}},"8":{"start":{"line":55,"column":8},"end":{"line":60,"column":9}},"9":{"start":{"line":56,"column":12},"end":{"line":56,"column":33}},"10":{"start":{"line":59,"column":12},"end":{"line":59,"column":101}},"11":{"start":{"line":59,"column":78},"end":{"line":59,"column":98}},"12":{"start":{"line":63,"column":4},"end":{"line":65,"column":5}},"13":{"start":{"line":64,"column":8},"end":{"line":64,"column":56}},"14":{"start":{"line":69,"column":8},"end":{"line":69,"column":25}},"15":{"start":{"line":75,"column":8},"end":{"line":78,"column":9}},"16":{"start":{"line":76,"column":12},"end":{"line":76,"column":35}},"17":{"start":{"line":77,"column":12},"end":{"line":77,"column":29}},"18":{"start":{"line":81,"column":4},"end":{"line":94,"column":5}},"19":{"start":{"line":82,"column":8},"end":{"line":82,"column":36}},"20":{"start":{"line":84,"column":8},"end":{"line":93,"column":9}},"21":{"start":{"line":86,"column":16},"end":{"line":86,"column":36}},"22":{"start":{"line":87,"column":16},"end":{"line":87,"column":22}},"23":{"start":{"line":91,"column":16},"end":{"line":91,"column":35}},"24":{"start":{"line":92,"column":16},"end":{"line":92,"column":22}},"25":{"start":{"line":96,"column":4},"end":{"line":99,"column":5}},"26":{"start":{"line":97,"column":8},"end":{"line":97,"column":78}},"27":{"start":{"line":98,"column":8},"end":{"line":98,"column":30}},"28":{"start":{"line":101,"column":4},"end":{"line":103,"column":5}},"29":{"start":{"line":102,"column":8},"end":{"line":102,"column":57}},"30":{"start":{"line":102,"column":40},"end":{"line":102,"column":55}},"31":{"start":{"line":40,"column":13},"end":{"line":40,"column":24}}},"fnMap":{"1":{"name":"VgPlayPause","line":50,"loc":{"start":{"line":50,"column":4},"end":{"line":50,"column":50}}},"2":{"name":"(anonymous_3)","line":54,"loc":{"start":{"line":54,"column":4},"end":{"line":null,"column":-1}}},"3":{"name":"(anonymous_4)","line":59,"loc":{"start":{"line":59,"column":72},"end":{"line":59,"column":77}}},"4":{"name":"(anonymous_5)","line":63,"loc":{"start":{"line":63,"column":4},"end":{"line":null,"column":-1}}},"5":{"name":"(anonymous_6)","line":68,"loc":{"start":{"line":68,"column":11},"end":{"line":null,"column":-1}}},"6":{"name":"(anonymous_7)","line":73,"loc":{"start":{"line":73,"column":13},"end":{"line":73,"column":34}}},"7":{"name":"(anonymous_8)","line":81,"loc":{"start":{"line":81,"column":4},"end":{"line":null,"column":-1}}},"8":{"name":"(anonymous_9)","line":96,"loc":{"start":{"line":96,"column":4},"end":{"line":null,"column":-1}}},"9":{"name":"(anonymous_10)","line":101,"loc":{"start":{"line":101,"column":4},"end":{"line":null,"column":-1}}},"10":{"name":"(anonymous_11)","line":102,"loc":{"start":{"line":102,"column":35},"end":{"line":102,"column":36}}}},"branchMap":{"1":{"line":55,"type":"if","locations":[{"start":{"line":55,"column":8},"end":{"line":55,"column":7}},{"start":{"line":55,"column":8},"end":{"line":55,"column":7}}]},"2":{"line":75,"type":"if","locations":[{"start":{"line":75,"column":8},"end":{"line":75,"column":7}},{"start":{"line":75,"column":8},"end":{"line":75,"column":7}}]},"3":{"line":75,"type":"binary-expr","locations":[{"start":{"line":75,"column":12},"end":{"line":75,"column":32}},{"start":{"line":75,"column":36},"end":{"line":75,"column":56}}]},"4":{"line":85,"type":"switch","locations":[{"start":{"line":85,"column":12},"end":{"line":87,"column":22}},{"start":{"line":89,"column":12},"end":{"line":89,"column":36}},{"start":{"line":90,"column":12},"end":{"line":92,"column":22}}]},"5":{"line":97,"type":"cond-expr","locations":[{"start":{"line":97,"column":39},"end":{"line":97,"column":56}},{"start":{"line":97,"column":59},"end":{"line":97,"column":77}}]}},"s":{"1":1,"2":1,"3":1,"4":1,"5":5,"6":5,"7":1,"8":0,"9":0,"10":0,"11":0,"12":1,"13":1,"14":3,"15":0,"16":0,"17":0,"18":1,"19":3,"20":3,"21":1,"22":1,"23":2,"24":2,"25":1,"26":4,"27":4,"28":1,"29":0,"30":0,"31":1},"b":{"1":[0,0],"2":[0,0],"3":[0,0],"4":[1,1,2],"5":[4,0]},"f":{"1":5,"2":0,"3":0,"4":1,"5":3,"6":0,"7":3,"8":4,"9":0,"10":0},"code":"import { Component, ElementRef, HostListener, OnInit, Input, ViewEncapsulation, OnDestroy } from '@angular/core';\nimport { VgAPI } from '../../core/services/vg-api';\nimport { VgStates } from '../../core/states/vg-states';\nimport { Subscription } from 'rxjs/Subscription';\n\n@Component({\n    selector: 'vg-play-pause',\n    encapsulation: ViewEncapsulation.None,\n    template: `\n        <div class=\"icon\"\n             [class.vg-icon-pause]=\"getState() === 'playing'\"\n             [class.vg-icon-play_arrow]=\"getState() === 'paused' || getState() === 'ended'\"\n             tabindex=\"0\"\n             role=\"button\"\n             aria-label=\"play pause button\"\n             [attr.aria-valuetext]=\"ariaValue\">\n        </div>`,\n    styles: [ `\n        vg-play-pause {\n            -webkit-touch-callout: none;\n            -webkit-user-select: none;\n            -khtml-user-select: none;\n            -moz-user-select: none;\n            -ms-user-select: none;\n            user-select: none;\n            display: flex;\n            justify-content: center;\n            height: 50px;\n            width: 50px;\n            cursor: pointer;\n            color: white;\n            line-height: 50px;\n        }\n\n        vg-play-pause .icon {\n            pointer-events: none;\n        }\n    ` ]\n})\nexport class VgPlayPause implements OnInit, OnDestroy {\n    @Input() vgFor: string;\n\n    elem: HTMLElement;\n    target: any;\n\n    subscriptions: Subscription[] = [];\n\n    ariaValue = VgStates.VG_PAUSED;\n\n    constructor(ref: ElementRef, public API: VgAPI) {\n        this.elem = ref.nativeElement;\n    }\n\n    ngOnInit() {\n        if (this.API.isPlayerReady) {\n            this.onPlayerReady();\n        }\n        else {\n            this.subscriptions.push(this.API.playerReadyEvent.subscribe(() => this.onPlayerReady()));\n        }\n    }\n\n    onPlayerReady() {\n        this.target = this.API.getMediaById(this.vgFor);\n    }\n\n    @HostListener('click')\n    onClick() {\n        this.playPause();\n    }\n\n    @HostListener('keydown', ['$event'])\n    onKeyDown(event: KeyboardEvent) {\n        // On press Enter (13) or Space (32)\n        if (event.keyCode === 13 || event.keyCode === 32) {\n            event.preventDefault();\n            this.playPause();\n        }\n    }\n\n    playPause() {\n        let state = this.getState();\n\n        switch (state) {\n            case VgStates.VG_PLAYING:\n                this.target.pause();\n                break;\n\n            case VgStates.VG_PAUSED:\n            case VgStates.VG_ENDED:\n                this.target.play();\n                break;\n        }\n    }\n\n    getState() {\n        this.ariaValue = this.target ? this.target.state : VgStates.VG_PAUSED;\n        return this.ariaValue;\n    }\n\n    ngOnDestroy() {\n        this.subscriptions.forEach(s => s.unsubscribe());\n    }\n}\n","l":{"1":1,"2":1,"3":1,"40":1,"50":5,"51":5,"54":1,"55":0,"56":0,"59":0,"63":1,"64":1,"69":3,"75":0,"76":0,"77":0,"81":1,"82":3,"84":3,"86":1,"87":1,"91":2,"92":2,"96":1,"97":4,"98":4,"101":1,"102":0}},
"/Users/jorgeucano/Documents/OSS/videogular2/src/controls/vg-volume/vg-volume.ts":{"path":"/Users/jorgeucano/Documents/OSS/videogular2/src/controls/vg-volume/vg-volume.ts","statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":4,"column":23}},"2":{"start":{"line":5,"column":0},"end":{"line":5,"column":51}},"3":{"start":{"line":94,"column":4},"end":{"line":97,"column":5}},"4":{"start":{"line":94,"column":40},"end":{"line":94,"column":50}},"5":{"start":{"line":95,"column":8},"end":{"line":95,"column":38}},"6":{"start":{"line":96,"column":8},"end":{"line":96,"column":32}},"7":{"start":{"line":99,"column":4},"end":{"line":106,"column":5}},"8":{"start":{"line":100,"column":8},"end":{"line":105,"column":9}},"9":{"start":{"line":101,"column":12},"end":{"line":101,"column":33}},"10":{"start":{"line":104,"column":12},"end":{"line":104,"column":101}},"11":{"start":{"line":104,"column":78},"end":{"line":104,"column":98}},"12":{"start":{"line":108,"column":4},"end":{"line":111,"column":5}},"13":{"start":{"line":109,"column":8},"end":{"line":109,"column":56}},"14":{"start":{"line":110,"column":8},"end":{"line":110,"column":48}},"15":{"start":{"line":113,"column":4},"end":{"line":115,"column":5}},"16":{"start":{"line":114,"column":8},"end":{"line":114,"column":60}},"17":{"start":{"line":117,"column":4},"end":{"line":120,"column":5}},"18":{"start":{"line":118,"column":8},"end":{"line":118,"column":43}},"19":{"start":{"line":119,"column":8},"end":{"line":119,"column":31}},"20":{"start":{"line":124,"column":8},"end":{"line":126,"column":9}},"21":{"start":{"line":125,"column":12},"end":{"line":125,"column":64}},"22":{"start":{"line":131,"column":8},"end":{"line":136,"column":9}},"23":{"start":{"line":132,"column":12},"end":{"line":132,"column":36}},"24":{"start":{"line":133,"column":12},"end":{"line":135,"column":13}},"25":{"start":{"line":134,"column":16},"end":{"line":134,"column":68}},"26":{"start":{"line":141,"column":8},"end":{"line":148,"column":9}},"27":{"start":{"line":142,"column":12},"end":{"line":142,"column":35}},"28":{"start":{"line":143,"column":12},"end":{"line":143,"column":85}},"29":{"start":{"line":145,"column":13},"end":{"line":148,"column":9}},"30":{"start":{"line":146,"column":12},"end":{"line":146,"column":35}},"31":{"start":{"line":147,"column":12},"end":{"line":147,"column":85}},"32":{"start":{"line":151,"column":4},"end":{"line":156,"column":5}},"33":{"start":{"line":152,"column":8},"end":{"line":152,"column":79}},"34":{"start":{"line":153,"column":8},"end":{"line":153,"column":56}},"35":{"start":{"line":154,"column":8},"end":{"line":154,"column":52}},"36":{"start":{"line":155,"column":8},"end":{"line":155,"column":72}},"37":{"start":{"line":158,"column":4},"end":{"line":161,"column":5}},"38":{"start":{"line":159,"column":8},"end":{"line":159,"column":65}},"39":{"start":{"line":160,"column":8},"end":{"line":160,"column":50}},"40":{"start":{"line":163,"column":4},"end":{"line":165,"column":5}},"41":{"start":{"line":164,"column":8},"end":{"line":164,"column":52}},"42":{"start":{"line":167,"column":4},"end":{"line":169,"column":5}},"43":{"start":{"line":168,"column":8},"end":{"line":168,"column":57}},"44":{"start":{"line":168,"column":40},"end":{"line":168,"column":55}},"45":{"start":{"line":82,"column":13},"end":{"line":82,"column":21}}},"fnMap":{"1":{"name":"VgVolume","line":94,"loc":{"start":{"line":94,"column":4},"end":{"line":94,"column":50}}},"2":{"name":"(anonymous_3)","line":99,"loc":{"start":{"line":99,"column":4},"end":{"line":null,"column":-1}}},"3":{"name":"(anonymous_4)","line":104,"loc":{"start":{"line":104,"column":72},"end":{"line":104,"column":77}}},"4":{"name":"(anonymous_5)","line":108,"loc":{"start":{"line":108,"column":4},"end":{"line":null,"column":-1}}},"5":{"name":"(anonymous_6)","line":113,"loc":{"start":{"line":113,"column":4},"end":{"line":113,"column":38}}},"6":{"name":"(anonymous_7)","line":117,"loc":{"start":{"line":117,"column":4},"end":{"line":117,"column":42}}},"7":{"name":"(anonymous_8)","line":123,"loc":{"start":{"line":123,"column":10},"end":{"line":123,"column":37}}},"8":{"name":"(anonymous_9)","line":130,"loc":{"start":{"line":130,"column":14},"end":{"line":130,"column":41}}},"9":{"name":"(anonymous_10)","line":140,"loc":{"start":{"line":140,"column":21},"end":{"line":140,"column":42}}},"10":{"name":"(anonymous_11)","line":151,"loc":{"start":{"line":151,"column":4},"end":{"line":151,"column":37}}},"11":{"name":"(anonymous_12)","line":158,"loc":{"start":{"line":158,"column":4},"end":{"line":158,"column":25}}},"12":{"name":"(anonymous_13)","line":163,"loc":{"start":{"line":163,"column":4},"end":{"line":null,"column":-1}}},"13":{"name":"(anonymous_14)","line":167,"loc":{"start":{"line":167,"column":4},"end":{"line":null,"column":-1}}},"14":{"name":"(anonymous_15)","line":168,"loc":{"start":{"line":168,"column":35},"end":{"line":168,"column":36}}}},"branchMap":{"1":{"line":100,"type":"if","locations":[{"start":{"line":100,"column":8},"end":{"line":100,"column":7}},{"start":{"line":100,"column":8},"end":{"line":100,"column":7}}]},"2":{"line":124,"type":"if","locations":[{"start":{"line":124,"column":8},"end":{"line":124,"column":7}},{"start":{"line":124,"column":8},"end":{"line":124,"column":7}}]},"3":{"line":131,"type":"if","locations":[{"start":{"line":131,"column":8},"end":{"line":131,"column":7}},{"start":{"line":131,"column":8},"end":{"line":131,"column":7}}]},"4":{"line":133,"type":"if","locations":[{"start":{"line":133,"column":12},"end":{"line":133,"column":11}},{"start":{"line":133,"column":12},"end":{"line":133,"column":11}}]},"5":{"line":141,"type":"if","locations":[{"start":{"line":141,"column":8},"end":{"line":141,"column":7}},{"start":{"line":141,"column":8},"end":{"line":141,"column":7}}]},"6":{"line":141,"type":"binary-expr","locations":[{"start":{"line":141,"column":12},"end":{"line":141,"column":32}},{"start":{"line":141,"column":36},"end":{"line":141,"column":56}}]},"7":{"line":145,"type":"if","locations":[{"start":{"line":145,"column":13},"end":{"line":145,"column":12}},{"start":{"line":145,"column":13},"end":{"line":145,"column":12}}]},"8":{"line":145,"type":"binary-expr","locations":[{"start":{"line":145,"column":17},"end":{"line":145,"column":37}},{"start":{"line":145,"column":41},"end":{"line":145,"column":61}}]},"9":{"line":164,"type":"cond-expr","locations":[{"start":{"line":164,"column":29},"end":{"line":164,"column":47}},{"start":{"line":164,"column":50},"end":{"line":164,"column":51}}]}},"s":{"1":1,"2":1,"3":1,"4":15,"5":15,"6":15,"7":1,"8":0,"9":0,"10":0,"11":0,"12":1,"13":2,"14":2,"15":1,"16":0,"17":1,"18":2,"19":2,"20":2,"21":1,"22":4,"23":3,"24":3,"25":2,"26":0,"27":0,"28":0,"29":0,"30":0,"31":0,"32":1,"33":1,"34":1,"35":1,"36":1,"37":1,"38":3,"39":3,"40":1,"41":4,"42":1,"43":0,"44":0,"45":1},"b":{"1":[0,0],"2":[1,1],"3":[3,1],"4":[2,1],"5":[0,0],"6":[0,0],"7":[0,0],"8":[0,0],"9":[1,3]},"f":{"1":15,"2":0,"3":0,"4":2,"5":0,"6":2,"7":2,"8":4,"9":0,"10":1,"11":3,"12":4,"13":0,"14":0},"code":"import {\n    Component, Input, ElementRef, HostListener, OnInit, ViewEncapsulation, ViewChild,\n    OnDestroy\n} from '@angular/core';\nimport { VgAPI } from '../../core/services/vg-api';\nimport { Subscription } from 'rxjs/Subscription';\n\n@Component({\n    selector: 'vg-volume',\n    encapsulation: ViewEncapsulation.None,\n    template: `\n        <div \n            #volumeBar\n            class=\"volumeBar\"\n            tabindex=\"0\"\n            role=\"slider\"\n            aria-label=\"volume level\"\n            aria-level=\"polite\"\n            [attr.aria-valuenow]=\"ariaValue\"\n            aria-valuemin=\"0\"\n            aria-valuemax=\"100\"\n            [attr.aria-valuetext]=\"ariaValue + '%'\"\n            (click)=\"onClick($event)\"\n            (mousedown)=\"onMouseDown($event)\">\n            <div class=\"volumeBackground\" [ngClass]=\"{dragging: isDragging}\">\n                <div class=\"volumeValue\" [style.width]=\"(getVolume() * (100-15)) + '%'\"></div>\n                <div class=\"volumeKnob\" [style.left]=\"(getVolume() * (100-15)) + '%'\"></div>\n            </div>\n        </div>\n    `,\n    styles: [ `\n        vg-volume {\n            -webkit-touch-callout: none;\n            -webkit-user-select: none;\n            -moz-user-select: none;\n            -ms-user-select: none;\n            user-select: none;\n            display: flex;\n            justify-content: center;\n            height: 50px;\n            width: 100px;\n            cursor: pointer;\n            color: white;\n            line-height: 50px;\n        }\n        vg-volume .volumeBar {\n            position: relative;\n            display: flex;\n            flex-grow: 1;\n            align-items: center;\n        }\n        vg-volume .volumeBackground {\n            display: flex;\n            flex-grow: 1;\n            height: 5px;\n            pointer-events: none;\n            background-color: #333;\n        }\n        vg-volume .volumeValue {\n            display: flex;\n            height: 5px;\n            pointer-events: none;\n            background-color: #FFF;\n            transition:all 0.2s ease-out;\n        }\n        vg-volume .volumeKnob {\n            position: absolute;\n            width: 15px; height: 15px;\n            left: 0; top: 50%;\n            transform: translateY(-50%);\n            border-radius: 15px;\n            pointer-events: none;\n            background-color: #FFF;\n            transition:all 0.2s ease-out;\n        }\n        vg-volume .volumeBackground.dragging .volumeValue,\n        vg-volume .volumeBackground.dragging .volumeKnob {\n            transition: none;\n        }\n    ` ]\n})\nexport class VgVolume implements OnInit, OnDestroy {\n    @Input() vgFor: string;\n    @ViewChild('volumeBar') volumeBarRef: ElementRef;\n\n    elem: HTMLElement;\n    target: any;\n    isDragging: boolean;\n    mouseDownPosX: number;\n    ariaValue: number;\n\n    subscriptions: Subscription[] = [];\n\n    constructor(ref: ElementRef, public API: VgAPI) {\n        this.elem = ref.nativeElement;\n        this.isDragging = false;\n    }\n\n    ngOnInit() {\n        if (this.API.isPlayerReady) {\n            this.onPlayerReady();\n        }\n        else {\n            this.subscriptions.push(this.API.playerReadyEvent.subscribe(() => this.onPlayerReady()));\n        }\n    }\n\n    onPlayerReady() {\n        this.target = this.API.getMediaById(this.vgFor);\n        this.ariaValue = this.getVolume() * 100;\n    }\n\n    onClick(event: { clientX: number }) {\n        this.setVolume(this.calculateVolume(event.clientX));\n    }\n\n    onMouseDown(event: { clientX: number }) {\n        this.mouseDownPosX = event.clientX;\n        this.isDragging = true;\n    }\n\n    @HostListener('document:mousemove', [ '$event' ])\n    onDrag(event: { clientX: number }) {\n        if (this.isDragging) {\n            this.setVolume(this.calculateVolume(event.clientX));\n        }\n    }\n\n    @HostListener('document:mouseup', [ '$event' ])\n    onStopDrag(event: { clientX: number }) {\n        if (this.isDragging) {\n            this.isDragging = false;\n            if (this.mouseDownPosX === event.clientX) {\n                this.setVolume(this.calculateVolume(event.clientX));\n            }\n        }\n    }\n\n    @HostListener('keydown', ['$event'])\n    arrowAdjustVolume(event: KeyboardEvent) {\n        if (event.keyCode === 38 || event.keyCode === 39) {\n            event.preventDefault();\n            this.setVolume(Math.max(0, Math.min(100,(this.getVolume() * 100) + 10)));\n        }\n        else if (event.keyCode === 37 || event.keyCode === 40) {\n            event.preventDefault();\n            this.setVolume(Math.max(0, Math.min(100,(this.getVolume() * 100) - 10)));\n        }\n    }\n\n    calculateVolume(mousePosX: number) {\n        const recObj = this.volumeBarRef.nativeElement.getBoundingClientRect();\n        const volumeBarOffsetLeft: number = recObj.left;\n        const volumeBarWidth: number = recObj.width;\n        return (mousePosX - volumeBarOffsetLeft) / volumeBarWidth * 100;\n    }\n\n    setVolume(vol: number) {\n        this.target.volume = Math.max(0, Math.min(1, vol / 100));\n        this.ariaValue = this.target.volume * 100;\n    }\n\n    getVolume(): number {\n        return this.target ? this.target.volume : 0;\n    }\n\n    ngOnDestroy() {\n        this.subscriptions.forEach(s => s.unsubscribe());\n    }\n}\n","l":{"1":1,"5":1,"82":1,"94":15,"95":15,"96":15,"99":1,"100":0,"101":0,"104":0,"108":1,"109":2,"110":2,"113":1,"114":0,"117":1,"118":2,"119":2,"124":2,"125":1,"131":4,"132":3,"133":3,"134":2,"141":0,"142":0,"143":0,"145":0,"146":0,"147":0,"151":1,"152":1,"153":1,"154":1,"155":1,"158":1,"159":3,"160":3,"163":1,"164":4,"167":1,"168":0}},
"/Users/jorgeucano/Documents/OSS/videogular2/src/controls/vg-scrub-bar/vg-scrub-bar-current-time/vg-scrub-bar-current-time.ts":{"path":"/Users/jorgeucano/Documents/OSS/videogular2/src/controls/vg-scrub-bar/vg-scrub-bar-current-time/vg-scrub-bar-current-time.ts","statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":1,"column":99}},"2":{"start":{"line":2,"column":0},"end":{"line":2,"column":54}},"3":{"start":{"line":57,"column":4},"end":{"line":59,"column":5}},"4":{"start":{"line":57,"column":40},"end":{"line":57,"column":50}},"5":{"start":{"line":58,"column":8},"end":{"line":58,"column":38}},"6":{"start":{"line":61,"column":4},"end":{"line":68,"column":5}},"7":{"start":{"line":62,"column":8},"end":{"line":67,"column":9}},"8":{"start":{"line":63,"column":12},"end":{"line":63,"column":33}},"9":{"start":{"line":66,"column":12},"end":{"line":66,"column":101}},"10":{"start":{"line":66,"column":78},"end":{"line":66,"column":98}},"11":{"start":{"line":70,"column":4},"end":{"line":72,"column":5}},"12":{"start":{"line":71,"column":8},"end":{"line":71,"column":56}},"13":{"start":{"line":74,"column":4},"end":{"line":76,"column":5}},"14":{"start":{"line":75,"column":8},"end":{"line":75,"column":102}},"15":{"start":{"line":78,"column":4},"end":{"line":80,"column":5}},"16":{"start":{"line":79,"column":8},"end":{"line":79,"column":57}},"17":{"start":{"line":79,"column":40},"end":{"line":79,"column":55}},"18":{"start":{"line":48,"column":13},"end":{"line":48,"column":34}}},"fnMap":{"1":{"name":"VgScrubBarCurrentTime","line":57,"loc":{"start":{"line":57,"column":4},"end":{"line":57,"column":50}}},"2":{"name":"(anonymous_3)","line":61,"loc":{"start":{"line":61,"column":4},"end":{"line":null,"column":-1}}},"3":{"name":"(anonymous_4)","line":66,"loc":{"start":{"line":66,"column":72},"end":{"line":66,"column":77}}},"4":{"name":"(anonymous_5)","line":70,"loc":{"start":{"line":70,"column":4},"end":{"line":null,"column":-1}}},"5":{"name":"(anonymous_6)","line":74,"loc":{"start":{"line":74,"column":4},"end":{"line":null,"column":-1}}},"6":{"name":"(anonymous_7)","line":78,"loc":{"start":{"line":78,"column":4},"end":{"line":null,"column":-1}}},"7":{"name":"(anonymous_8)","line":79,"loc":{"start":{"line":79,"column":35},"end":{"line":79,"column":36}}}},"branchMap":{"1":{"line":62,"type":"if","locations":[{"start":{"line":62,"column":8},"end":{"line":62,"column":7}},{"start":{"line":62,"column":8},"end":{"line":62,"column":7}}]},"2":{"line":75,"type":"cond-expr","locations":[{"start":{"line":75,"column":29},"end":{"line":75,"column":94}},{"start":{"line":75,"column":97},"end":{"line":75,"column":101}}]}},"s":{"1":1,"2":1,"3":1,"4":3,"5":3,"6":1,"7":0,"8":0,"9":0,"10":0,"11":1,"12":1,"13":1,"14":2,"15":1,"16":0,"17":0,"18":1},"b":{"1":[0,0],"2":[2,0]},"f":{"1":3,"2":0,"3":0,"4":1,"5":2,"6":0,"7":0},"code":"import { Component, Input, ElementRef, OnInit, ViewEncapsulation, OnDestroy } from '@angular/core';\nimport { VgAPI } from '../../../core/services/vg-api';\nimport { Subscription } from 'rxjs/Subscription';\n\n@Component({\n    selector: 'vg-scrub-bar-current-time',\n    encapsulation: ViewEncapsulation.None,\n    template: `<div class=\"background\" [style.width]=\"getPercentage()\"></div><span class=\"slider\" *ngIf=\"vgSlider\"></span>`,\n    styles: [ `\n        vg-scrub-bar-current-time {\n            display: flex;\n            width: 100%;\n            height: 5px;\n            pointer-events: none;\n            position: absolute;\n        }\n\n        vg-scrub-bar-current-time .background {\n            background-color: white;\n        }\n\n        vg-controls vg-scrub-bar-current-time {\n            position: absolute;\n            top: calc(50% - 3px);\n            -webkit-border-radius: 2px;\n            -moz-border-radius: 2px;\n            border-radius: 2px;\n        }\n\n        vg-controls vg-scrub-bar-current-time .background {\n            border: 1px solid white;\n            -webkit-border-radius: 2px;\n            -moz-border-radius: 2px;\n            border-radius: 2px;\n        }\n        \n        vg-scrub-bar-current-time .slider{\n            background: white;\n            height: 15px;\n            width: 15px;\n            border-radius: 50%;\n            box-shadow: 0px 0px 10px black;\n            margin-top: -5px;\n            margin-left: -10px;\n        }\n    ` ]\n})\nexport class VgScrubBarCurrentTime implements OnInit, OnDestroy {\n    @Input() vgFor: string;\n    @Input() vgSlider: boolean = false;\n\n    elem: HTMLElement;\n    target: any;\n\n    subscriptions: Subscription[] = [];\n\n    constructor(ref: ElementRef, public API: VgAPI) {\n        this.elem = ref.nativeElement;\n    }\n\n    ngOnInit() {\n        if (this.API.isPlayerReady) {\n            this.onPlayerReady();\n        }\n        else {\n            this.subscriptions.push(this.API.playerReadyEvent.subscribe(() => this.onPlayerReady()));\n        }\n    }\n\n    onPlayerReady() {\n        this.target = this.API.getMediaById(this.vgFor);\n    }\n\n    getPercentage() {\n        return this.target ? ((this.target.time.current * 100) / this.target.time.total) + '%' : '0%';\n    }\n\n    ngOnDestroy() {\n        this.subscriptions.forEach(s => s.unsubscribe());\n    }\n}\n","l":{"1":1,"2":1,"48":1,"57":3,"58":3,"61":1,"62":0,"63":0,"66":0,"70":1,"71":1,"74":1,"75":2,"78":1,"79":0}},
"/Users/jorgeucano/Documents/OSS/videogular2/src/controls/vg-scrub-bar/vg-scrub-bar-cue-points/vg-scrub-bar-cue-points.ts":{"path":"/Users/jorgeucano/Documents/OSS/videogular2/src/controls/vg-scrub-bar/vg-scrub-bar-cue-points/vg-scrub-bar-cue-points.ts","statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":10,"column":23}},"2":{"start":{"line":11,"column":0},"end":{"line":11,"column":54}},"3":{"start":{"line":57,"column":4},"end":{"line":59,"column":5}},"4":{"start":{"line":57,"column":40},"end":{"line":57,"column":50}},"5":{"start":{"line":58,"column":8},"end":{"line":58,"column":38}},"6":{"start":{"line":61,"column":4},"end":{"line":68,"column":5}},"7":{"start":{"line":62,"column":8},"end":{"line":67,"column":9}},"8":{"start":{"line":63,"column":12},"end":{"line":63,"column":33}},"9":{"start":{"line":66,"column":12},"end":{"line":66,"column":101}},"10":{"start":{"line":66,"column":78},"end":{"line":66,"column":98}},"11":{"start":{"line":70,"column":4},"end":{"line":79,"column":5}},"12":{"start":{"line":71,"column":8},"end":{"line":71,"column":56}},"13":{"start":{"line":73,"column":8},"end":{"line":73,"column":68}},"14":{"start":{"line":74,"column":8},"end":{"line":74,"column":90}},"15":{"start":{"line":76,"column":8},"end":{"line":78,"column":9}},"16":{"start":{"line":77,"column":12},"end":{"line":77,"column":36}},"17":{"start":{"line":81,"column":4},"end":{"line":106,"column":5}},"18":{"start":{"line":82,"column":8},"end":{"line":105,"column":9}},"19":{"start":{"line":85,"column":12},"end":{"line":85,"column":32}},"20":{"start":{"line":87,"column":12},"end":{"line":104,"column":13}},"21":{"start":{"line":88,"column":16},"end":{"line":88,"column":133}},"22":{"start":{"line":89,"column":16},"end":{"line":89,"column":86}},"23":{"start":{"line":90,"column":16},"end":{"line":90,"column":35}},"24":{"start":{"line":91,"column":16},"end":{"line":91,"column":39}},"25":{"start":{"line":93,"column":16},"end":{"line":96,"column":17}},"26":{"start":{"line":94,"column":20},"end":{"line":94,"column":93}},"27":{"start":{"line":95,"column":20},"end":{"line":95,"column":123}},"28":{"start":{"line":98,"column":22},"end":{"line":101,"column":18}},"29":{"start":{"line":103,"column":16},"end":{"line":103,"column":59}},"30":{"start":{"line":108,"column":4},"end":{"line":114,"column":5}},"31":{"start":{"line":109,"column":8},"end":{"line":112,"column":9}},"32":{"start":{"line":110,"column":12},"end":{"line":110,"column":47}},"33":{"start":{"line":111,"column":12},"end":{"line":111,"column":19}},"34":{"start":{"line":113,"column":8},"end":{"line":113,"column":32}},"35":{"start":{"line":116,"column":4},"end":{"line":120,"column":5}},"36":{"start":{"line":117,"column":8},"end":{"line":119,"column":9}},"37":{"start":{"line":118,"column":12},"end":{"line":118,"column":35}},"38":{"start":{"line":122,"column":4},"end":{"line":131,"column":5}},"39":{"start":{"line":123,"column":8},"end":{"line":130,"column":9}},"40":{"start":{"line":124,"column":12},"end":{"line":124,"column":71}},"41":{"start":{"line":126,"column":12},"end":{"line":129,"column":13}},"42":{"start":{"line":127,"column":16},"end":{"line":127,"column":57}},"43":{"start":{"line":128,"column":16},"end":{"line":128,"column":39}},"44":{"start":{"line":133,"column":4},"end":{"line":135,"column":5}},"45":{"start":{"line":134,"column":8},"end":{"line":134,"column":57}},"46":{"start":{"line":134,"column":40},"end":{"line":134,"column":55}},"47":{"start":{"line":44,"column":13},"end":{"line":44,"column":32}}},"fnMap":{"1":{"name":"VgScrubBarCuePoints","line":57,"loc":{"start":{"line":57,"column":4},"end":{"line":57,"column":50}}},"2":{"name":"(anonymous_3)","line":61,"loc":{"start":{"line":61,"column":4},"end":{"line":null,"column":-1}}},"3":{"name":"(anonymous_4)","line":66,"loc":{"start":{"line":66,"column":72},"end":{"line":66,"column":77}}},"4":{"name":"(anonymous_5)","line":70,"loc":{"start":{"line":70,"column":4},"end":{"line":null,"column":-1}}},"5":{"name":"(anonymous_6)","line":81,"loc":{"start":{"line":81,"column":4},"end":{"line":null,"column":-1}}},"6":{"name":"(anonymous_7)","line":108,"loc":{"start":{"line":108,"column":4},"end":{"line":null,"column":-1}}},"7":{"name":"(anonymous_8)","line":116,"loc":{"start":{"line":116,"column":4},"end":{"line":116,"column":61}}},"8":{"name":"(anonymous_9)","line":122,"loc":{"start":{"line":122,"column":4},"end":{"line":null,"column":-1}}},"9":{"name":"(anonymous_10)","line":133,"loc":{"start":{"line":133,"column":4},"end":{"line":null,"column":-1}}},"10":{"name":"(anonymous_11)","line":134,"loc":{"start":{"line":134,"column":35},"end":{"line":134,"column":36}}}},"branchMap":{"1":{"line":62,"type":"if","locations":[{"start":{"line":62,"column":8},"end":{"line":62,"column":7}},{"start":{"line":62,"column":8},"end":{"line":62,"column":7}}]},"2":{"line":76,"type":"if","locations":[{"start":{"line":76,"column":8},"end":{"line":76,"column":7}},{"start":{"line":76,"column":8},"end":{"line":76,"column":7}}]},"3":{"line":82,"type":"if","locations":[{"start":{"line":82,"column":8},"end":{"line":82,"column":7}},{"start":{"line":82,"column":8},"end":{"line":82,"column":7}}]},"4":{"line":88,"type":"cond-expr","locations":[{"start":{"line":88,"column":65},"end":{"line":88,"column":94}},{"start":{"line":88,"column":97},"end":{"line":88,"column":132}}]},"5":{"line":93,"type":"if","locations":[{"start":{"line":93,"column":16},"end":{"line":93,"column":15}},{"start":{"line":93,"column":16},"end":{"line":93,"column":15}}]},"6":{"line":93,"type":"binary-expr","locations":[{"start":{"line":93,"column":20},"end":{"line":93,"column":56}},{"start":{"line":93,"column":60},"end":{"line":93,"column":82}}]},"7":{"line":109,"type":"if","locations":[{"start":{"line":109,"column":8},"end":{"line":109,"column":7}},{"start":{"line":109,"column":8},"end":{"line":109,"column":7}}]},"8":{"line":117,"type":"if","locations":[{"start":{"line":117,"column":8},"end":{"line":117,"column":7}},{"start":{"line":117,"column":8},"end":{"line":117,"column":7}}]},"9":{"line":123,"type":"if","locations":[{"start":{"line":123,"column":8},"end":{"line":123,"column":7}},{"start":{"line":123,"column":8},"end":{"line":123,"column":7}}]},"10":{"line":126,"type":"if","locations":[{"start":{"line":126,"column":12},"end":{"line":126,"column":11}},{"start":{"line":126,"column":12},"end":{"line":126,"column":11}}]}},"s":{"1":1,"2":1,"3":1,"4":4,"5":4,"6":1,"7":0,"8":0,"9":0,"10":0,"11":1,"12":1,"13":1,"14":1,"15":1,"16":0,"17":1,"18":3,"19":2,"20":2,"21":6,"22":6,"23":6,"24":6,"25":6,"26":3,"27":3,"28":6,"29":6,"30":1,"31":2,"32":0,"33":0,"34":2,"35":1,"36":3,"37":2,"38":1,"39":0,"40":0,"41":0,"42":0,"43":0,"44":1,"45":0,"46":0,"47":1},"b":{"1":[0,0],"2":[0,1],"3":[2,1],"4":[4,2],"5":[3,3],"6":[6,6],"7":[0,2],"8":[2,1],"9":[0,0],"10":[0,0]},"f":{"1":4,"2":0,"3":0,"4":1,"5":3,"6":2,"7":3,"8":0,"9":0,"10":0},"code":"import {\n    Component,\n    ElementRef,\n    Input,\n    OnChanges,\n    OnDestroy,\n    OnInit,\n    SimpleChange,\n    ViewEncapsulation\n} from '@angular/core';\nimport { VgAPI } from '../../../core/services/vg-api';\nimport { Subscription } from 'rxjs/Subscription';\n\n@Component({\n    selector: 'vg-scrub-bar-cue-points',\n    encapsulation: ViewEncapsulation.None,\n    template: `\n        <div class=\"cue-point-container\">\n            <span *ngFor=\"let cp of cuePoints\" [style.width]=\"cp.$$style?.width\" [style.left]=\"cp.$$style?.left\"\n                  class=\"cue-point\"></span>\n        </div>\n    `,\n    styles: [ `\n        vg-scrub-bar-cue-points {\n            display: flex;\n            width: 100%;\n            height: 5px;\n            pointer-events: none;\n            position: absolute;\n        }\n\n        vg-scrub-bar-cue-points .cue-point-container .cue-point {\n            position: absolute;\n            height: 5px;\n            background-color: rgba(255, 204, 0, 0.7);\n        }\n\n        vg-controls vg-scrub-bar-cue-points {\n            position: absolute;\n            top: calc(50% - 3px);\n        }\n    ` ]\n})\nexport class VgScrubBarCuePoints implements OnInit, OnChanges, OnDestroy {\n    @Input() vgCuePoints: TextTrackCueList;\n    @Input() vgFor: string;\n\n    elem: HTMLElement;\n    target: any;\n    onLoadedMetadataCalled: boolean = false;\n    cuePoints: Array<any> = [];\n\n    subscriptions: Subscription[] = [];\n\n    totalCues = 0;\n\n    constructor(ref: ElementRef, public API: VgAPI) {\n        this.elem = ref.nativeElement;\n    }\n\n    ngOnInit() {\n        if (this.API.isPlayerReady) {\n            this.onPlayerReady();\n        }\n        else {\n            this.subscriptions.push(this.API.playerReadyEvent.subscribe(() => this.onPlayerReady()));\n        }\n    }\n\n    onPlayerReady() {\n        this.target = this.API.getMediaById(this.vgFor);\n\n        let onTimeUpdate = this.target.subscriptions.loadedMetadata;\n        this.subscriptions.push(onTimeUpdate.subscribe(this.onLoadedMetadata.bind(this)));\n\n        if (this.onLoadedMetadataCalled) {\n            this.onLoadedMetadata();\n        }\n    }\n\n    onLoadedMetadata() {\n        if (this.vgCuePoints) {\n            // We need to transform the TextTrackCueList to Array or it doesn't work on IE11/Edge.\n            // See: https://github.com/videogular/videogular2/issues/369\n            this.cuePoints = [];\n\n            for (let i = 0, l = this.vgCuePoints.length; i < l; i++) {\n                let end = (this.vgCuePoints[ i ].endTime >= 0) ? this.vgCuePoints[ i ].endTime : this.vgCuePoints[ i ].startTime + 1;\n                let cuePointDuration = (end - this.vgCuePoints[ i ].startTime) * 1000;\n                let position = '0';\n                let percentWidth = '0';\n\n                if (typeof cuePointDuration === 'number' && this.target.time.total) {\n                    percentWidth = ((cuePointDuration * 100) / this.target.time.total) + \"%\";\n                    position = (this.vgCuePoints[ i ].startTime * 100 / (Math.round(this.target.time.total / 1000))) + \"%\";\n                }\n\n                (<any>this.vgCuePoints[ i ]).$$style = {\n                    width: percentWidth,\n                    left: position\n                };\n\n                this.cuePoints.push(this.vgCuePoints[ i ]);\n            }\n        }\n    }\n\n    updateCuePoints() {\n        if (!this.target) {\n            this.onLoadedMetadataCalled = true;\n            return;\n        }\n        this.onLoadedMetadata();\n    }\n\n    ngOnChanges(changes: { [propName: string]: SimpleChange }) {\n        if (changes[ 'vgCuePoints' ].currentValue) {\n            this.updateCuePoints();\n        }\n    }\n\n    ngDoCheck() {\n        if (this.vgCuePoints) {\n            const changes = this.totalCues !== this.vgCuePoints.length;\n\n            if (changes) {\n                this.totalCues = this.vgCuePoints.length;\n                this.updateCuePoints();\n            }\n        }\n    }\n\n    ngOnDestroy() {\n        this.subscriptions.forEach(s => s.unsubscribe());\n    }\n}\n","l":{"1":1,"11":1,"44":1,"57":4,"58":4,"61":1,"62":0,"63":0,"66":0,"70":1,"71":1,"73":1,"74":1,"76":1,"77":0,"81":1,"82":3,"85":2,"87":2,"88":6,"89":6,"90":6,"91":6,"93":6,"94":3,"95":3,"98":6,"103":6,"108":1,"109":2,"110":0,"111":0,"113":2,"116":1,"117":3,"118":2,"122":1,"123":0,"124":0,"126":0,"127":0,"128":0,"133":1,"134":0}},
"/Users/jorgeucano/Documents/OSS/videogular2/src/core/services/vg-fullscreen-api.ts":{"path":"/Users/jorgeucano/Documents/OSS/videogular2/src/core/services/vg-fullscreen-api.ts","statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":1,"column":68}},"2":{"start":{"line":2,"column":0},"end":{"line":2,"column":37}},"3":{"start":{"line":5,"column":0},"end":{"line":5,"column":45}},"4":{"start":{"line":21,"column":4},"end":{"line":22,"column":5}},"5":{"start":{"line":24,"column":4},"end":{"line":118,"column":5}},"6":{"start":{"line":25,"column":8},"end":{"line":25,"column":38}},"7":{"start":{"line":26,"column":8},"end":{"line":26,"column":29}},"8":{"start":{"line":28,"column":8},"end":{"line":77,"column":10}},"9":{"start":{"line":79,"column":8},"end":{"line":84,"column":9}},"10":{"start":{"line":80,"column":12},"end":{"line":83,"column":13}},"11":{"start":{"line":81,"column":16},"end":{"line":81,"column":48}},"12":{"start":{"line":82,"column":16},"end":{"line":82,"column":22}},"13":{"start":{"line":86,"column":8},"end":{"line":88,"column":9}},"14":{"start":{"line":87,"column":12},"end":{"line":87,"column":36}},"15":{"start":{"line":90,"column":8},"end":{"line":90,"column":51}},"16":{"start":{"line":92,"column":8},"end":{"line":94,"column":9}},"17":{"start":{"line":93,"column":12},"end":{"line":93,"column":19}},"18":{"start":{"line":96,"column":8},"end":{"line":96,"column":29}},"19":{"start":{"line":98,"column":8},"end":{"line":113,"column":9}},"20":{"start":{"line":102,"column":16},"end":{"line":102,"column":44}},"21":{"start":{"line":103,"column":16},"end":{"line":103,"column":22}},"22":{"start":{"line":107,"column":16},"end":{"line":107,"column":67}},"23":{"start":{"line":108,"column":16},"end":{"line":108,"column":22}},"24":{"start":{"line":112,"column":16},"end":{"line":112,"column":40}},"25":{"start":{"line":115,"column":8},"end":{"line":117,"column":11}},"26":{"start":{"line":116,"column":12},"end":{"line":116,"column":38}},"27":{"start":{"line":120,"column":4},"end":{"line":123,"column":5}},"28":{"start":{"line":121,"column":8},"end":{"line":121,"column":64}},"29":{"start":{"line":122,"column":8},"end":{"line":122,"column":56}},"30":{"start":{"line":125,"column":4},"end":{"line":132,"column":5}},"31":{"start":{"line":125,"column":21},"end":{"line":125,"column":40}},"32":{"start":{"line":126,"column":8},"end":{"line":131,"column":9}},"33":{"start":{"line":127,"column":12},"end":{"line":127,"column":24}},"34":{"start":{"line":130,"column":12},"end":{"line":130,"column":34}},"35":{"start":{"line":134,"column":4},"end":{"line":158,"column":5}},"36":{"start":{"line":135,"column":8},"end":{"line":137,"column":9}},"37":{"start":{"line":136,"column":12},"end":{"line":136,"column":42}},"38":{"start":{"line":139,"column":8},"end":{"line":139,"column":33}},"39":{"start":{"line":140,"column":8},"end":{"line":140,"column":43}},"40":{"start":{"line":143,"column":8},"end":{"line":157,"column":9}},"41":{"start":{"line":145,"column":12},"end":{"line":156,"column":13}},"42":{"start":{"line":148,"column":16},"end":{"line":150,"column":17}},"43":{"start":{"line":149,"column":20},"end":{"line":149,"column":59}},"44":{"start":{"line":152,"column":16},"end":{"line":152,"column":52}},"45":{"start":{"line":155,"column":16},"end":{"line":155,"column":70}},"46":{"start":{"line":160,"column":4},"end":{"line":162,"column":5}},"47":{"start":{"line":161,"column":8},"end":{"line":161,"column":40}},"48":{"start":{"line":164,"column":4},"end":{"line":172,"column":5}},"49":{"start":{"line":165,"column":8},"end":{"line":165,"column":34}},"50":{"start":{"line":166,"column":8},"end":{"line":166,"column":44}},"51":{"start":{"line":169,"column":8},"end":{"line":171,"column":9}},"52":{"start":{"line":170,"column":12},"end":{"line":170,"column":45}},"53":{"start":{"line":8,"column":13},"end":{"line":8,"column":28}}},"fnMap":{"1":{"name":"VgFullscreenAPI","line":21,"loc":{"start":{"line":21,"column":4},"end":{"line":null,"column":-1}}},"2":{"name":"(anonymous_3)","line":24,"loc":{"start":{"line":24,"column":4},"end":{"line":24,"column":54}}},"3":{"name":"(anonymous_4)","line":115,"loc":{"start":{"line":115,"column":109},"end":{"line":null,"column":-1}}},"4":{"name":"(anonymous_5)","line":120,"loc":{"start":{"line":120,"column":4},"end":{"line":null,"column":-1}}},"5":{"name":"(anonymous_6)","line":125,"loc":{"start":{"line":125,"column":4},"end":{"line":125,"column":40}}},"6":{"name":"(anonymous_7)","line":134,"loc":{"start":{"line":134,"column":4},"end":{"line":134,"column":21}}},"7":{"name":"(anonymous_8)","line":160,"loc":{"start":{"line":160,"column":4},"end":{"line":160,"column":38}}},"8":{"name":"(anonymous_9)","line":164,"loc":{"start":{"line":164,"column":4},"end":{"line":null,"column":-1}}}},"branchMap":{"1":{"line":80,"type":"if","locations":[{"start":{"line":80,"column":12},"end":{"line":80,"column":11}},{"start":{"line":80,"column":12},"end":{"line":80,"column":11}}]},"2":{"line":86,"type":"if","locations":[{"start":{"line":86,"column":8},"end":{"line":86,"column":7}},{"start":{"line":86,"column":8},"end":{"line":86,"column":7}}]},"3":{"line":92,"type":"if","locations":[{"start":{"line":92,"column":8},"end":{"line":92,"column":7}},{"start":{"line":92,"column":8},"end":{"line":92,"column":7}}]},"4":{"line":101,"type":"switch","locations":[{"start":{"line":101,"column":12},"end":{"line":103,"column":22}},{"start":{"line":106,"column":12},"end":{"line":108,"column":22}},{"start":{"line":111,"column":12},"end":{"line":112,"column":40}}]},"5":{"line":125,"type":"if","locations":[{"start":{"line":125,"column":21},"end":{"line":125,"column":20}},{"start":{"line":125,"column":21},"end":{"line":125,"column":20}}]},"6":{"line":126,"type":"if","locations":[{"start":{"line":126,"column":8},"end":{"line":126,"column":7}},{"start":{"line":126,"column":8},"end":{"line":126,"column":7}}]},"7":{"line":135,"type":"if","locations":[{"start":{"line":135,"column":8},"end":{"line":135,"column":7}},{"start":{"line":135,"column":8},"end":{"line":135,"column":7}}]},"8":{"line":143,"type":"if","locations":[{"start":{"line":143,"column":8},"end":{"line":143,"column":7}},{"start":{"line":143,"column":8},"end":{"line":143,"column":7}}]},"9":{"line":143,"type":"binary-expr","locations":[{"start":{"line":143,"column":12},"end":{"line":143,"column":28}},{"start":{"line":143,"column":32},"end":{"line":143,"column":53}}]},"10":{"line":145,"type":"if","locations":[{"start":{"line":145,"column":12},"end":{"line":145,"column":11}},{"start":{"line":145,"column":12},"end":{"line":145,"column":11}}]},"11":{"line":148,"type":"if","locations":[{"start":{"line":148,"column":16},"end":{"line":148,"column":15}},{"start":{"line":148,"column":16},"end":{"line":148,"column":15}}]},"12":{"line":148,"type":"binary-expr","locations":[{"start":{"line":148,"column":21},"end":{"line":148,"column":43}},{"start":{"line":148,"column":47},"end":{"line":148,"column":78}},{"start":{"line":148,"column":83},"end":{"line":148,"column":104}}]},"13":{"line":169,"type":"if","locations":[{"start":{"line":169,"column":8},"end":{"line":169,"column":7}},{"start":{"line":169,"column":8},"end":{"line":169,"column":7}}]},"14":{"line":169,"type":"binary-expr","locations":[{"start":{"line":169,"column":12},"end":{"line":169,"column":28}},{"start":{"line":169,"column":32},"end":{"line":169,"column":53}}]}},"s":{"1":1,"2":1,"3":1,"4":1,"5":13,"6":12,"7":12,"8":12,"9":12,"10":24,"11":12,"12":12,"13":12,"14":0,"15":12,"16":12,"17":0,"18":12,"19":12,"20":0,"21":0,"22":0,"23":0,"24":12,"25":12,"26":0,"27":1,"28":0,"29":0,"30":1,"31":5,"32":3,"33":1,"34":2,"35":1,"36":4,"37":2,"38":4,"39":4,"40":4,"41":3,"42":2,"43":0,"44":2,"45":1,"46":1,"47":1,"48":1,"49":2,"50":2,"51":2,"52":1,"53":1},"b":{"1":[12,12],"2":[0,12],"3":[0,12],"4":[0,0,12],"5":[2,1],"6":[1,2],"7":[2,2],"8":[3,1],"9":[4,4],"10":[2,1],"11":[0,2],"12":[2,0,2],"13":[1,1],"14":[2,2]},"f":{"1":24,"2":12,"3":0,"4":0,"5":3,"6":4,"7":1,"8":2},"code":"import { EventEmitter, Injectable, QueryList } from '@angular/core';\nimport { VgUtils } from './vg-utils';\nimport { VgMedia } from '../vg-media/vg-media';\nimport { Subscription } from 'rxjs/Subscription';\nimport { Observable } from 'rxjs/Observable';\n\n@Injectable()\nexport class VgFullscreenAPI {\n    polyfill: any;\n    onchange: string;\n    onerror: string;\n    nativeFullscreen: boolean = true;\n    isFullscreen: boolean = false;\n    isAvailable: boolean;\n    videogularElement: HTMLElement;\n    medias: QueryList<VgMedia>;\n\n    fsChangeSubscription: Subscription;\n    onChangeFullscreen: EventEmitter<any> = new EventEmitter();\n\n    constructor() {\n    }\n\n    init(elem: HTMLElement, medias: QueryList<VgMedia>) {\n        this.videogularElement = elem;\n        this.medias = medias;\n\n        const APIs = {\n            w3: {\n                enabled: 'fullscreenEnabled',\n                element: 'fullscreenElement',\n                request: 'requestFullscreen',\n                exit: 'exitFullscreen',\n                onchange: 'fullscreenchange',\n                onerror: 'fullscreenerror'\n            },\n            newWebkit: {\n                enabled: 'webkitFullscreenEnabled',\n                element: 'webkitFullscreenElement',\n                request: 'webkitRequestFullscreen',\n                exit: 'webkitExitFullscreen',\n                onchange: 'webkitfullscreenchange',\n                onerror: 'webkitfullscreenerror'\n            },\n            oldWebkit: {\n                enabled: 'webkitIsFullScreen',\n                element: 'webkitCurrentFullScreenElement',\n                request: 'webkitRequestFullScreen',\n                exit: 'webkitCancelFullScreen',\n                onchange: 'webkitfullscreenchange',\n                onerror: 'webkitfullscreenerror'\n            },\n            moz: {\n                enabled: 'mozFullScreen',\n                element: 'mozFullScreenElement',\n                request: 'mozRequestFullScreen',\n                exit: 'mozCancelFullScreen',\n                onchange: 'mozfullscreenchange',\n                onerror: 'mozfullscreenerror'\n            },\n            ios: {\n                enabled: 'webkitFullscreenEnabled',\n                element: 'webkitFullscreenElement',\n                request: 'webkitEnterFullscreen',\n                exit: 'webkitExitFullscreen',\n                onchange: 'webkitendfullscreen', // Hack for iOS: webkitfullscreenchange it's not firing\n                onerror: 'webkitfullscreenerror'\n            },\n            ms: {\n                enabled: 'msFullscreenEnabled',\n                element: 'msFullscreenElement',\n                request: 'msRequestFullscreen',\n                exit: 'msExitFullscreen',\n                onchange: 'MSFullscreenChange',\n                onerror: 'MSFullscreenError'\n            }\n        };\n\n        for (let browser in APIs) {\n            if (APIs[ browser ].enabled in document) {\n                this.polyfill = APIs[ browser ];\n                break;\n            }\n        }\n\n        if (VgUtils.isiOSDevice()) {\n            this.polyfill = APIs.ios\n        }\n\n        this.isAvailable = (this.polyfill != null);\n\n        if (this.polyfill == null) {\n            return;\n        }\n\n        let fsElemDispatcher;\n\n        switch (this.polyfill.onchange) {\n            // Mozilla dispatches the fullscreen change event from document, not the element\n            // See: https://bugzilla.mozilla.org/show_bug.cgi?id=724816#c3\n            case 'mozfullscreenchange':\n                fsElemDispatcher = document;\n                break;\n\n            // iOS dispatches the fullscreen change event from video element\n            case 'webkitendfullscreen':\n                fsElemDispatcher = this.medias.toArray()[ 0 ].elem;\n                break;\n\n            // HTML5 implementation dispatches the fullscreen change event from the element\n            default:\n                fsElemDispatcher = elem;\n        }\n\n        this.fsChangeSubscription = Observable.fromEvent(fsElemDispatcher, this.polyfill.onchange).subscribe(() => {\n            this.onFullscreenChange();\n        });\n    }\n\n    onFullscreenChange() {\n        this.isFullscreen = !!document[ this.polyfill.element ];\n        this.onChangeFullscreen.next(this.isFullscreen);\n    }\n\n    toggleFullscreen(element: any = null) {\n        if (this.isFullscreen) {\n            this.exit();\n        }\n        else {\n            this.request(element);\n        }\n    }\n\n    request(elem: any) {\n        if (!elem) {\n            elem = this.videogularElement;\n        }\n\n        this.isFullscreen = true;\n        this.onChangeFullscreen.next(true);\n\n        // Perform native full screen support\n        if (this.isAvailable && this.nativeFullscreen) {\n            // Fullscreen for mobile devices\n            if (VgUtils.isMobileDevice()) {\n                // We should make fullscreen the video object if it doesn't have native fullscreen support\n                // Fallback! We can't set vg-player on fullscreen, only video/audio objects\n                if ((!this.polyfill.enabled && elem === this.videogularElement) || VgUtils.isiOSDevice()) {\n                    elem = this.medias.toArray()[ 0 ].elem;\n                }\n\n                this.enterElementInFullScreen(elem);\n            }\n            else {\n                this.enterElementInFullScreen(this.videogularElement);\n            }\n        }\n    }\n\n    enterElementInFullScreen(elem: any) {\n        elem[ this.polyfill.request ]();\n    }\n\n    exit() {\n        this.isFullscreen = false;\n        this.onChangeFullscreen.next(false);\n\n        // Exit from native fullscreen\n        if (this.isAvailable && this.nativeFullscreen) {\n            document[ this.polyfill.exit ]();\n        }\n    }\n}\n","l":{"1":1,"2":1,"5":1,"8":1,"21":1,"24":13,"25":12,"26":12,"28":12,"79":12,"80":24,"81":12,"82":12,"86":12,"87":0,"90":12,"92":12,"93":0,"96":12,"98":12,"102":0,"103":0,"107":0,"108":0,"112":12,"115":12,"116":0,"120":1,"121":0,"122":0,"125":5,"126":3,"127":1,"130":2,"134":1,"135":4,"136":2,"139":4,"140":4,"143":4,"145":3,"148":2,"149":0,"152":2,"155":1,"160":1,"161":1,"164":1,"165":2,"166":2,"169":2,"170":1}},
"/Users/jorgeucano/Documents/OSS/videogular2/src/core/services/vg-utils.ts":{"path":"/Users/jorgeucano/Documents/OSS/videogular2/src/core/services/vg-utils.ts","statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":1,"column":41}},"2":{"start":{"line":10,"column":11},"end":{"line":25,"column":5}},"3":{"start":{"line":11,"column":8},"end":{"line":11,"column":23}},"4":{"start":{"line":12,"column":8},"end":{"line":12,"column":33}},"5":{"start":{"line":14,"column":8},"end":{"line":14,"column":54}},"6":{"start":{"line":16,"column":8},"end":{"line":22,"column":9}},"7":{"start":{"line":17,"column":12},"end":{"line":17,"column":86}},"8":{"start":{"line":19,"column":12},"end":{"line":21,"column":13}},"9":{"start":{"line":20,"column":16},"end":{"line":20,"column":43}},"10":{"start":{"line":24,"column":8},"end":{"line":24,"column":22}},"11":{"start":{"line":28,"column":11},"end":{"line":30,"column":5}},"12":{"start":{"line":29,"column":8},"end":{"line":29,"column":111}},"13":{"start":{"line":32,"column":11},"end":{"line":34,"column":5}},"14":{"start":{"line":33,"column":8},"end":{"line":33,"column":123}},"15":{"start":{"line":36,"column":11},"end":{"line":38,"column":5}},"16":{"start":{"line":37,"column":8},"end":{"line":37,"column":97}},"17":{"start":{"line":4,"column":13},"end":{"line":4,"column":20}}},"fnMap":{"1":{"name":"(anonymous_3)","line":10,"loc":{"start":{"line":10,"column":4},"end":{"line":null,"column":-1}}},"2":{"name":"(anonymous_4)","line":28,"loc":{"start":{"line":28,"column":4},"end":{"line":null,"column":-1}}},"3":{"name":"(anonymous_5)","line":32,"loc":{"start":{"line":32,"column":4},"end":{"line":null,"column":-1}}},"4":{"name":"(anonymous_6)","line":36,"loc":{"start":{"line":36,"column":4},"end":{"line":null,"column":-1}}}},"branchMap":{"1":{"line":19,"type":"if","locations":[{"start":{"line":19,"column":12},"end":{"line":19,"column":11}},{"start":{"line":19,"column":12},"end":{"line":19,"column":11}}]},"2":{"line":29,"type":"binary-expr","locations":[{"start":{"line":29,"column":16},"end":{"line":29,"column":57}},{"start":{"line":29,"column":63},"end":{"line":29,"column":109}}]},"3":{"line":33,"type":"binary-expr","locations":[{"start":{"line":33,"column":16},"end":{"line":33,"column":60}},{"start":{"line":33,"column":64},"end":{"line":33,"column":121}}]},"4":{"line":37,"type":"binary-expr","locations":[{"start":{"line":37,"column":15},"end":{"line":37,"column":53}},{"start":{"line":37,"column":57},"end":{"line":37,"column":96}}]}},"s":{"1":1,"2":1,"3":2,"4":2,"5":2,"6":2,"7":46,"8":46,"9":1,"10":2,"11":1,"12":2,"13":1,"14":15,"15":1,"16":1,"17":1},"b":{"1":[1,45],"2":[2,1],"3":[15,0],"4":[1,0]},"f":{"1":2,"2":2,"3":15,"4":1},"code":"import {Injectable} from '@angular/core';\n\n@Injectable()\nexport class VgUtils {\n    /**\n     * Inspired by Paul Irish\n     * https://gist.github.com/paulirish/211209\n     * @returns {number}\n     */\n    static getZIndex():number {\n        let zIndex = 1;\n        let elementZIndex:number;\n\n        let tags = document.getElementsByTagName('*');\n\n        for (let i = 0, l = tags.length; i < l; i++) {\n            elementZIndex = parseInt(window.getComputedStyle(tags[i])[\"z-index\"], 10);\n\n            if (elementZIndex > zIndex) {\n                zIndex = elementZIndex + 1;\n            }\n        }\n\n        return zIndex;\n    }\n\n    // Very simple mobile detection, not 100% reliable\n    static isMobileDevice() {\n        return (typeof window.orientation !== \"undefined\") || (navigator.userAgent.indexOf(\"IEMobile\") !== -1);\n    };\n\n    static isiOSDevice() {\n        return (navigator.userAgent.match(/ip(hone|ad|od)/i) && !navigator.userAgent.match(/(iemobile)[\\/\\s]?([\\w\\.]*)/i));\n    };\n\n    static isCordova() {\n        return document.URL.indexOf('http://') === -1 && document.URL.indexOf('https://') === -1;\n    };\n}\n","l":{"1":1,"4":1,"10":1,"11":2,"12":2,"14":2,"16":2,"17":46,"19":46,"20":1,"24":2,"28":1,"29":2,"32":1,"33":15,"36":1,"37":1}},
"/Users/jorgeucano/Documents/OSS/videogular2/src/controls/vg-fullscreen/vg-fullscreen.ts":{"path":"/Users/jorgeucano/Documents/OSS/videogular2/src/controls/vg-fullscreen/vg-fullscreen.ts","statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":1,"column":106}},"2":{"start":{"line":2,"column":0},"end":{"line":2,"column":51}},"3":{"start":{"line":3,"column":0},"end":{"line":3,"column":72}},"4":{"start":{"line":51,"column":4},"end":{"line":54,"column":5}},"5":{"start":{"line":51,"column":40},"end":{"line":51,"column":50}},"6":{"start":{"line":51,"column":59},"end":{"line":51,"column":81}},"7":{"start":{"line":52,"column":8},"end":{"line":52,"column":38}},"8":{"start":{"line":53,"column":8},"end":{"line":53,"column":109}},"9":{"start":{"line":56,"column":4},"end":{"line":63,"column":5}},"10":{"start":{"line":57,"column":8},"end":{"line":62,"column":9}},"11":{"start":{"line":58,"column":12},"end":{"line":58,"column":33}},"12":{"start":{"line":61,"column":12},"end":{"line":61,"column":101}},"13":{"start":{"line":61,"column":78},"end":{"line":61,"column":98}},"14":{"start":{"line":65,"column":4},"end":{"line":67,"column":5}},"15":{"start":{"line":66,"column":8},"end":{"line":66,"column":56}},"16":{"start":{"line":69,"column":4},"end":{"line":72,"column":5}},"17":{"start":{"line":70,"column":8},"end":{"line":70,"column":68}},"18":{"start":{"line":71,"column":8},"end":{"line":71,"column":36}},"19":{"start":{"line":76,"column":8},"end":{"line":76,"column":37}},"20":{"start":{"line":82,"column":8},"end":{"line":85,"column":9}},"21":{"start":{"line":83,"column":12},"end":{"line":83,"column":35}},"22":{"start":{"line":84,"column":12},"end":{"line":84,"column":41}},"23":{"start":{"line":88,"column":4},"end":{"line":96,"column":5}},"24":{"start":{"line":89,"column":8},"end":{"line":89,"column":34}},"25":{"start":{"line":91,"column":8},"end":{"line":93,"column":9}},"26":{"start":{"line":92,"column":12},"end":{"line":92,"column":27}},"27":{"start":{"line":95,"column":8},"end":{"line":95,"column":45}},"28":{"start":{"line":98,"column":4},"end":{"line":100,"column":5}},"29":{"start":{"line":99,"column":8},"end":{"line":99,"column":57}},"30":{"start":{"line":99,"column":40},"end":{"line":99,"column":55}},"31":{"start":{"line":41,"column":13},"end":{"line":41,"column":25}}},"fnMap":{"1":{"name":"VgFullscreen","line":51,"loc":{"start":{"line":51,"column":4},"end":{"line":51,"column":81}}},"2":{"name":"(anonymous_3)","line":56,"loc":{"start":{"line":56,"column":4},"end":{"line":null,"column":-1}}},"3":{"name":"(anonymous_4)","line":61,"loc":{"start":{"line":61,"column":72},"end":{"line":61,"column":77}}},"4":{"name":"(anonymous_5)","line":65,"loc":{"start":{"line":65,"column":4},"end":{"line":null,"column":-1}}},"5":{"name":"(anonymous_6)","line":69,"loc":{"start":{"line":69,"column":4},"end":{"line":69,"column":39}}},"6":{"name":"(anonymous_7)","line":75,"loc":{"start":{"line":75,"column":11},"end":{"line":null,"column":-1}}},"7":{"name":"(anonymous_8)","line":80,"loc":{"start":{"line":80,"column":13},"end":{"line":80,"column":34}}},"8":{"name":"(anonymous_9)","line":88,"loc":{"start":{"line":88,"column":4},"end":{"line":null,"column":-1}}},"9":{"name":"(anonymous_10)","line":98,"loc":{"start":{"line":98,"column":4},"end":{"line":null,"column":-1}}},"10":{"name":"(anonymous_11)","line":99,"loc":{"start":{"line":99,"column":35},"end":{"line":99,"column":36}}}},"branchMap":{"1":{"line":57,"type":"if","locations":[{"start":{"line":57,"column":8},"end":{"line":57,"column":7}},{"start":{"line":57,"column":8},"end":{"line":57,"column":7}}]},"2":{"line":70,"type":"cond-expr","locations":[{"start":{"line":70,"column":35},"end":{"line":70,"column":51}},{"start":{"line":70,"column":54},"end":{"line":70,"column":67}}]},"3":{"line":82,"type":"if","locations":[{"start":{"line":82,"column":8},"end":{"line":82,"column":7}},{"start":{"line":82,"column":8},"end":{"line":82,"column":7}}]},"4":{"line":82,"type":"binary-expr","locations":[{"start":{"line":82,"column":12},"end":{"line":82,"column":32}},{"start":{"line":82,"column":36},"end":{"line":82,"column":56}}]},"5":{"line":91,"type":"if","locations":[{"start":{"line":91,"column":8},"end":{"line":91,"column":7}},{"start":{"line":91,"column":8},"end":{"line":91,"column":7}}]}},"s":{"1":1,"2":1,"3":1,"4":1,"5":3,"6":3,"7":3,"8":3,"9":1,"10":0,"11":0,"12":0,"13":0,"14":1,"15":1,"16":1,"17":0,"18":0,"19":2,"20":0,"21":0,"22":0,"23":1,"24":2,"25":2,"26":1,"27":2,"28":1,"29":0,"30":0,"31":1},"b":{"1":[0,0],"2":[0,0],"3":[0,0],"4":[0,0],"5":[1,1]},"f":{"1":3,"2":0,"3":0,"4":1,"5":0,"6":2,"7":0,"8":2,"9":0,"10":0},"code":"import { Component, ElementRef, HostListener, OnDestroy, OnInit, ViewEncapsulation } from '@angular/core';\nimport { VgAPI } from '../../core/services/vg-api';\nimport { VgFullscreenAPI } from '../../core/services/vg-fullscreen-api';\nimport { Subscription } from 'rxjs/Subscription';\n\n\n@Component({\n    selector: 'vg-fullscreen',\n    encapsulation: ViewEncapsulation.None,\n    template: `\n        <div class=\"icon\"\n             [class.vg-icon-fullscreen]=\"!isFullscreen\"\n             [class.vg-icon-fullscreen_exit]=\"isFullscreen\"\n             tabindex=\"0\"\n             role=\"button\"\n             aria-label=\"fullscreen button\"\n             [attr.aria-valuetext]=\"ariaValue\">\n        </div>`,\n    styles: [ `\n        vg-fullscreen {\n            -webkit-touch-callout: none;\n            -webkit-user-select: none;\n            -khtml-user-select: none;\n            -moz-user-select: none;\n            -ms-user-select: none;\n            user-select: none;\n            display: flex;\n            justify-content: center;\n            height: 50px;\n            width: 50px;\n            cursor: pointer;\n            color: white;\n            line-height: 50px;\n        }\n\n        vg-fullscreen .icon {\n            pointer-events: none;\n        }\n    ` ]\n})\nexport class VgFullscreen implements OnInit, OnDestroy {\n    elem: HTMLElement;\n    vgFor: string;\n    target: Object;\n    isFullscreen: boolean = false;\n\n    subscriptions: Subscription[] = [];\n\n    ariaValue = 'normal mode';\n\n    constructor(ref: ElementRef, public API: VgAPI, public fsAPI: VgFullscreenAPI) {\n        this.elem = ref.nativeElement;\n        this.subscriptions.push(this.fsAPI.onChangeFullscreen.subscribe(this.onChangeFullscreen.bind(this)));\n    }\n\n    ngOnInit() {\n        if (this.API.isPlayerReady) {\n            this.onPlayerReady();\n        }\n        else {\n            this.subscriptions.push(this.API.playerReadyEvent.subscribe(() => this.onPlayerReady()));\n        }\n    }\n\n    onPlayerReady() {\n        this.target = this.API.getMediaById(this.vgFor);\n    }\n\n    onChangeFullscreen(fsState: boolean) {\n        this.ariaValue = fsState ? 'fullscren mode' : 'normal mode';\n        this.isFullscreen = fsState;\n    }\n\n    @HostListener('click')\n    onClick() {\n        this.changeFullscreenState();\n    }\n\n    @HostListener('keydown', ['$event'])\n    onKeyDown(event: KeyboardEvent) {\n        // On press Enter (13) or Space (32)\n        if (event.keyCode === 13 || event.keyCode === 32) {\n            event.preventDefault();\n            this.changeFullscreenState();\n        }\n    }\n\n    changeFullscreenState() {\n        let element = this.target;\n\n        if (this.target instanceof VgAPI) {\n            element = null;\n        }\n\n        this.fsAPI.toggleFullscreen(element);\n    }\n\n    ngOnDestroy() {\n        this.subscriptions.forEach(s => s.unsubscribe());\n    }\n}\n","l":{"1":1,"2":1,"3":1,"41":1,"51":3,"52":3,"53":3,"56":1,"57":0,"58":0,"61":0,"65":1,"66":1,"69":1,"70":0,"71":0,"76":2,"82":0,"83":0,"84":0,"88":1,"89":2,"91":2,"92":1,"95":2,"98":1,"99":0}},
"/Users/jorgeucano/Documents/OSS/videogular2/src/overlay-play/vg-overlay-play.ts":{"path":"/Users/jorgeucano/Documents/OSS/videogular2/src/overlay-play/vg-overlay-play.ts","statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":4,"column":23}},"2":{"start":{"line":5,"column":0},"end":{"line":5,"column":48}},"3":{"start":{"line":6,"column":0},"end":{"line":6,"column":52}},"4":{"start":{"line":8,"column":0},"end":{"line":8,"column":69}},"5":{"start":{"line":9,"column":0},"end":{"line":9,"column":71}},"6":{"start":{"line":80,"column":4},"end":{"line":82,"column":5}},"7":{"start":{"line":80,"column":40},"end":{"line":80,"column":50}},"8":{"start":{"line":80,"column":59},"end":{"line":80,"column":81}},"9":{"start":{"line":80,"column":91},"end":{"line":80,"column":123}},"10":{"start":{"line":81,"column":8},"end":{"line":81,"column":38}},"11":{"start":{"line":84,"column":4},"end":{"line":91,"column":5}},"12":{"start":{"line":85,"column":8},"end":{"line":90,"column":9}},"13":{"start":{"line":86,"column":12},"end":{"line":86,"column":33}},"14":{"start":{"line":89,"column":12},"end":{"line":89,"column":101}},"15":{"start":{"line":89,"column":78},"end":{"line":89,"column":98}},"16":{"start":{"line":93,"column":4},"end":{"line":102,"column":5}},"17":{"start":{"line":94,"column":8},"end":{"line":94,"column":56}},"18":{"start":{"line":95,"column":8},"end":{"line":95,"column":109}},"19":{"start":{"line":96,"column":8},"end":{"line":96,"column":104}},"20":{"start":{"line":97,"column":8},"end":{"line":101,"column":10}},"21":{"start":{"line":99,"column":31},"end":{"line":99,"column":63}},"22":{"start":{"line":104,"column":4},"end":{"line":106,"column":5}},"23":{"start":{"line":105,"column":8},"end":{"line":105,"column":39}},"24":{"start":{"line":108,"column":4},"end":{"line":112,"column":5}},"25":{"start":{"line":109,"column":8},"end":{"line":111,"column":9}},"26":{"start":{"line":110,"column":12},"end":{"line":110,"column":46}},"27":{"start":{"line":114,"column":4},"end":{"line":116,"column":5}},"28":{"start":{"line":115,"column":8},"end":{"line":115,"column":40}},"29":{"start":{"line":120,"column":8},"end":{"line":120,"column":36}},"30":{"start":{"line":122,"column":8},"end":{"line":131,"column":9}},"31":{"start":{"line":124,"column":16},"end":{"line":124,"column":36}},"32":{"start":{"line":125,"column":16},"end":{"line":125,"column":22}},"33":{"start":{"line":129,"column":16},"end":{"line":129,"column":35}},"34":{"start":{"line":130,"column":16},"end":{"line":130,"column":22}},"35":{"start":{"line":134,"column":4},"end":{"line":152,"column":5}},"36":{"start":{"line":135,"column":8},"end":{"line":135,"column":39}},"37":{"start":{"line":137,"column":8},"end":{"line":149,"column":9}},"38":{"start":{"line":138,"column":12},"end":{"line":148,"column":13}},"39":{"start":{"line":139,"column":16},"end":{"line":144,"column":17}},"40":{"start":{"line":140,"column":20},"end":{"line":143,"column":21}},"41":{"start":{"line":141,"column":24},"end":{"line":141,"column":52}},"42":{"start":{"line":142,"column":24},"end":{"line":142,"column":30}},"43":{"start":{"line":147,"column":16},"end":{"line":147,"column":42}},"44":{"start":{"line":151,"column":8},"end":{"line":151,"column":21}},"45":{"start":{"line":154,"column":4},"end":{"line":156,"column":5}},"46":{"start":{"line":155,"column":8},"end":{"line":155,"column":57}},"47":{"start":{"line":155,"column":40},"end":{"line":155,"column":55}},"48":{"start":{"line":68,"column":13},"end":{"line":68,"column":26}}},"fnMap":{"1":{"name":"VgOverlayPlay","line":80,"loc":{"start":{"line":80,"column":4},"end":{"line":80,"column":123}}},"2":{"name":"(anonymous_3)","line":84,"loc":{"start":{"line":84,"column":4},"end":{"line":null,"column":-1}}},"3":{"name":"(anonymous_4)","line":89,"loc":{"start":{"line":89,"column":72},"end":{"line":89,"column":77}}},"4":{"name":"(anonymous_5)","line":93,"loc":{"start":{"line":93,"column":4},"end":{"line":null,"column":-1}}},"5":{"name":"(anonymous_6)","line":99,"loc":{"start":{"line":99,"column":16},"end":{"line":99,"column":27}}},"6":{"name":"(anonymous_7)","line":104,"loc":{"start":{"line":104,"column":4},"end":{"line":104,"column":30}}},"7":{"name":"(anonymous_8)","line":108,"loc":{"start":{"line":108,"column":4},"end":{"line":108,"column":39}}},"8":{"name":"(anonymous_9)","line":114,"loc":{"start":{"line":114,"column":4},"end":{"line":114,"column":34}}},"9":{"name":"(anonymous_10)","line":119,"loc":{"start":{"line":119,"column":11},"end":{"line":null,"column":-1}}},"10":{"name":"(anonymous_11)","line":134,"loc":{"start":{"line":134,"column":4},"end":{"line":null,"column":-1}}},"11":{"name":"(anonymous_12)","line":154,"loc":{"start":{"line":154,"column":4},"end":{"line":null,"column":-1}}},"12":{"name":"(anonymous_13)","line":155,"loc":{"start":{"line":155,"column":35},"end":{"line":155,"column":36}}}},"branchMap":{"1":{"line":85,"type":"if","locations":[{"start":{"line":85,"column":8},"end":{"line":85,"column":7}},{"start":{"line":85,"column":8},"end":{"line":85,"column":7}}]},"2":{"line":109,"type":"if","locations":[{"start":{"line":109,"column":8},"end":{"line":109,"column":7}},{"start":{"line":109,"column":8},"end":{"line":109,"column":7}}]},"3":{"line":123,"type":"switch","locations":[{"start":{"line":123,"column":12},"end":{"line":125,"column":22}},{"start":{"line":127,"column":12},"end":{"line":127,"column":36}},{"start":{"line":128,"column":12},"end":{"line":130,"column":22}}]},"4":{"line":137,"type":"if","locations":[{"start":{"line":137,"column":8},"end":{"line":137,"column":7}},{"start":{"line":137,"column":8},"end":{"line":137,"column":7}}]},"5":{"line":138,"type":"if","locations":[{"start":{"line":138,"column":12},"end":{"line":138,"column":11}},{"start":{"line":138,"column":12},"end":{"line":138,"column":11}}]},"6":{"line":140,"type":"if","locations":[{"start":{"line":140,"column":20},"end":{"line":140,"column":19}},{"start":{"line":140,"column":20},"end":{"line":140,"column":19}}]}},"s":{"1":1,"2":1,"3":1,"4":1,"5":1,"6":1,"7":6,"8":6,"9":6,"10":6,"11":1,"12":0,"13":0,"14":0,"15":0,"16":2,"17":1,"18":1,"19":1,"20":1,"21":0,"22":1,"23":0,"24":1,"25":0,"26":0,"27":1,"28":0,"29":2,"30":2,"31":1,"32":1,"33":1,"34":1,"35":1,"36":3,"37":3,"38":3,"39":2,"40":6,"41":1,"42":1,"43":1,"44":3,"45":1,"46":0,"47":0,"48":1},"b":{"1":[0,0],"2":[0,0],"3":[1,1,1],"4":[3,0],"5":[2,1],"6":[1,5]},"f":{"1":6,"2":0,"3":0,"4":1,"5":0,"6":0,"7":0,"8":0,"9":2,"10":3,"11":0,"12":0},"code":"import {\n    Component, OnInit, Input, ElementRef, HostListener, ViewEncapsulation, OnDestroy,\n    HostBinding\n} from '@angular/core';\nimport { VgAPI } from '../core/services/vg-api';\nimport { VgStates } from '../core/states/vg-states';\nimport { Subscription } from 'rxjs/Subscription';\nimport { VgFullscreenAPI } from '../core/services/vg-fullscreen-api';\nimport { VgControlsHidden } from '../core/services/vg-controls-hidden';\n\n@Component({\n    selector: 'vg-overlay-play',\n    encapsulation: ViewEncapsulation.None,\n    template: `<div class=\"vg-overlay-play\"\n                    [class.native-fullscreen]=\"isNativeFullscreen\"\n                    [class.controls-hidden]=\"areControlsHidden\">\n                   <div class=\"overlay-play-container\"\n                        [class.vg-icon-play_arrow]=\"getState() !== 'playing'\">\n                   </div>\n               </div>`,\n    styles: [ `\n        vg-overlay-play {\n            z-index: 200;\n        }\n\n        vg-overlay-play.is-buffering {\n            display: none;\n        }\n\n        vg-overlay-play .vg-overlay-play {\n            transition: all 0.5s;\n            cursor: pointer;\n            position: absolute;\n            display: block;\n            color: white;\n            width: 100%;\n            height: 100%;\n            font-size: 80px;\n            filter: alpha(opacity=60);\n            opacity: 0.6;\n        }\n\n        vg-overlay-play .vg-overlay-play.native-fullscreen.controls-hidden {\n            cursor: none;\n        }\n\n        vg-overlay-play .vg-overlay-play .overlay-play-container.vg-icon-play_arrow {\n            pointer-events: none;\n            width: 100%;\n            height: 100%;\n            position: absolute;\n            display: flex;\n            align-items: center;\n            justify-content: center;\n            font-size: 80px;\n        }\n\n        vg-overlay-play .vg-overlay-play:hover {\n            filter: alpha(opacity=100);\n            opacity: 1;\n        }\n\n        vg-overlay-play .vg-overlay-play:hover .overlay-play-container.vg-icon-play_arrow:before {\n            transform: scale(1.2);\n        }\n    ` ]\n})\nexport class VgOverlayPlay implements OnInit, OnDestroy {\n    @Input() vgFor: string;\n    elem: HTMLElement;\n    target: any;\n\n    isNativeFullscreen: boolean = false;\n    areControlsHidden: boolean = false;\n\n    subscriptions: Subscription[] = [];\n\n    @HostBinding('class.is-buffering') isBuffering: boolean = false;\n\n    constructor(ref: ElementRef, public API: VgAPI, public fsAPI: VgFullscreenAPI, private controlsHidden: VgControlsHidden) {\n        this.elem = ref.nativeElement;\n    }\n\n    ngOnInit() {\n        if (this.API.isPlayerReady) {\n            this.onPlayerReady();\n        }\n        else {\n            this.subscriptions.push(this.API.playerReadyEvent.subscribe(() => this.onPlayerReady()));\n        }\n    }\n\n    onPlayerReady() {\n        this.target = this.API.getMediaById(this.vgFor);\n        this.subscriptions.push(this.fsAPI.onChangeFullscreen.subscribe(this.onChangeFullscreen.bind(this)));\n        this.subscriptions.push(this.controlsHidden.isHidden.subscribe(this.onHideControls.bind(this)));\n        this.subscriptions.push(\n            this.target.subscriptions.bufferDetected.subscribe(\n                isBuffering => this.onUpdateBuffer(isBuffering)\n            )\n        );\n    }\n\n    onUpdateBuffer(isBuffering) {\n        this.isBuffering = isBuffering;\n    }\n\n    onChangeFullscreen(fsState: boolean) {\n        if (this.fsAPI.nativeFullscreen) {\n            this.isNativeFullscreen = fsState;\n        }\n    }\n\n    onHideControls(hidden: boolean) {\n        this.areControlsHidden = hidden;\n    }\n\n    @HostListener('click')\n    onClick() {\n        let state = this.getState();\n\n        switch (state) {\n            case VgStates.VG_PLAYING:\n                this.target.pause();\n                break;\n\n            case VgStates.VG_PAUSED:\n            case VgStates.VG_ENDED:\n                this.target.play();\n                break;\n        }\n    }\n\n    getState() {\n        let state = VgStates.VG_PAUSED;\n\n        if (this.target) {\n            if (this.target.state instanceof Array) {\n                for (let i = 0, l = this.target.state.length; i < l; i++) {\n                    if (this.target.state[ i ] === VgStates.VG_PLAYING) {\n                        state = VgStates.VG_PLAYING;\n                        break;\n                    }\n                }\n            }\n            else {\n                state = this.target.state;\n            }\n        }\n\n        return state;\n    }\n\n    ngOnDestroy() {\n        this.subscriptions.forEach(s => s.unsubscribe());\n    }\n}\n","l":{"1":1,"5":1,"6":1,"8":1,"9":1,"68":1,"80":6,"81":6,"84":1,"85":0,"86":0,"89":0,"93":2,"94":1,"95":1,"96":1,"97":1,"99":0,"104":1,"105":0,"108":1,"109":0,"110":0,"114":1,"115":0,"120":2,"122":2,"124":1,"125":1,"129":1,"130":1,"134":1,"135":3,"137":3,"138":3,"139":2,"140":6,"141":1,"142":1,"147":1,"151":3,"154":1,"155":0}},
"/Users/jorgeucano/Documents/OSS/videogular2/src/controls/vg-time-display/vg-time-display.ts":{"path":"/Users/jorgeucano/Documents/OSS/videogular2/src/controls/vg-time-display/vg-time-display.ts","statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":1,"column":120}},"2":{"start":{"line":2,"column":0},"end":{"line":2,"column":51}},"3":{"start":{"line":8,"column":4},"end":{"line":30,"column":5}},"4":{"start":{"line":9,"column":8},"end":{"line":9,"column":35}},"5":{"start":{"line":10,"column":8},"end":{"line":10,"column":28}},"6":{"start":{"line":11,"column":8},"end":{"line":11,"column":53}},"7":{"start":{"line":12,"column":8},"end":{"line":12,"column":53}},"8":{"start":{"line":13,"column":8},"end":{"line":13,"column":51}},"9":{"start":{"line":15,"column":8},"end":{"line":17,"column":9}},"10":{"start":{"line":16,"column":12},"end":{"line":16,"column":26}},"11":{"start":{"line":18,"column":8},"end":{"line":20,"column":9}},"12":{"start":{"line":19,"column":12},"end":{"line":19,"column":26}},"13":{"start":{"line":21,"column":8},"end":{"line":23,"column":9}},"14":{"start":{"line":22,"column":12},"end":{"line":22,"column":26}},"15":{"start":{"line":25,"column":8},"end":{"line":25,"column":51}},"16":{"start":{"line":26,"column":8},"end":{"line":26,"column":51}},"17":{"start":{"line":27,"column":8},"end":{"line":27,"column":51}},"18":{"start":{"line":29,"column":8},"end":{"line":29,"column":22}},"19":{"start":{"line":7,"column":13},"end":{"line":7,"column":22}},"20":{"start":{"line":70,"column":4},"end":{"line":72,"column":5}},"21":{"start":{"line":70,"column":40},"end":{"line":70,"column":50}},"22":{"start":{"line":71,"column":8},"end":{"line":71,"column":38}},"23":{"start":{"line":74,"column":4},"end":{"line":81,"column":5}},"24":{"start":{"line":75,"column":8},"end":{"line":80,"column":9}},"25":{"start":{"line":76,"column":12},"end":{"line":76,"column":33}},"26":{"start":{"line":79,"column":12},"end":{"line":79,"column":101}},"27":{"start":{"line":79,"column":78},"end":{"line":79,"column":98}},"28":{"start":{"line":83,"column":4},"end":{"line":85,"column":5}},"29":{"start":{"line":84,"column":8},"end":{"line":84,"column":56}},"30":{"start":{"line":87,"column":4},"end":{"line":96,"column":5}},"31":{"start":{"line":88,"column":8},"end":{"line":88,"column":18}},"32":{"start":{"line":90,"column":8},"end":{"line":93,"column":9}},"33":{"start":{"line":91,"column":12},"end":{"line":91,"column":64}},"34":{"start":{"line":92,"column":12},"end":{"line":92,"column":55}},"35":{"start":{"line":95,"column":8},"end":{"line":95,"column":17}},"36":{"start":{"line":98,"column":4},"end":{"line":100,"column":5}},"37":{"start":{"line":99,"column":8},"end":{"line":99,"column":57}},"38":{"start":{"line":99,"column":40},"end":{"line":99,"column":55}},"39":{"start":{"line":60,"column":13},"end":{"line":60,"column":26}}},"fnMap":{"1":{"name":"(anonymous_3)","line":8,"loc":{"start":{"line":8,"column":4},"end":{"line":8,"column":43}}},"2":{"name":"VgTimeDisplay","line":70,"loc":{"start":{"line":70,"column":4},"end":{"line":70,"column":50}}},"3":{"name":"(anonymous_7)","line":74,"loc":{"start":{"line":74,"column":4},"end":{"line":null,"column":-1}}},"4":{"name":"(anonymous_8)","line":79,"loc":{"start":{"line":79,"column":72},"end":{"line":79,"column":77}}},"5":{"name":"(anonymous_9)","line":83,"loc":{"start":{"line":83,"column":4},"end":{"line":null,"column":-1}}},"6":{"name":"(anonymous_10)","line":87,"loc":{"start":{"line":87,"column":4},"end":{"line":null,"column":-1}}},"7":{"name":"(anonymous_11)","line":98,"loc":{"start":{"line":98,"column":4},"end":{"line":null,"column":-1}}},"8":{"name":"(anonymous_12)","line":99,"loc":{"start":{"line":99,"column":35},"end":{"line":99,"column":36}}}},"branchMap":{"1":{"line":15,"type":"if","locations":[{"start":{"line":15,"column":8},"end":{"line":15,"column":7}},{"start":{"line":15,"column":8},"end":{"line":15,"column":7}}]},"2":{"line":18,"type":"if","locations":[{"start":{"line":18,"column":8},"end":{"line":18,"column":7}},{"start":{"line":18,"column":8},"end":{"line":18,"column":7}}]},"3":{"line":21,"type":"if","locations":[{"start":{"line":21,"column":8},"end":{"line":21,"column":7}},{"start":{"line":21,"column":8},"end":{"line":21,"column":7}}]},"4":{"line":75,"type":"if","locations":[{"start":{"line":75,"column":8},"end":{"line":75,"column":7}},{"start":{"line":75,"column":8},"end":{"line":75,"column":7}}]},"5":{"line":90,"type":"if","locations":[{"start":{"line":90,"column":8},"end":{"line":90,"column":7}},{"start":{"line":90,"column":8},"end":{"line":90,"column":7}}]},"6":{"line":92,"type":"cond-expr","locations":[{"start":{"line":92,"column":49},"end":{"line":92,"column":50}},{"start":{"line":92,"column":53},"end":{"line":92,"column":54}}]},"7":{"line":92,"type":"binary-expr","locations":[{"start":{"line":92,"column":16},"end":{"line":92,"column":24}},{"start":{"line":92,"column":28},"end":{"line":92,"column":46}}]}},"s":{"1":1,"2":1,"3":1,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":1,"20":1,"21":5,"22":5,"23":1,"24":0,"25":0,"26":0,"27":0,"28":1,"29":1,"30":1,"31":3,"32":3,"33":2,"34":2,"35":3,"36":1,"37":0,"38":0,"39":1},"b":{"1":[0,0],"2":[0,0],"3":[0,0],"4":[0,0],"5":[2,1],"6":[1,1],"7":[2,1]},"f":{"1":0,"2":5,"3":0,"4":0,"5":1,"6":3,"7":0,"8":0},"code":"import { Component, Input, ElementRef, OnInit, PipeTransform, Pipe, ViewEncapsulation, OnDestroy } from '@angular/core';\nimport { VgAPI } from '../../core/services/vg-api';\nimport { Subscription } from 'rxjs/Subscription';\n\n// Workaround until we can use UTC with Angular Date Pipe\n@Pipe({ name: 'vgUtc' })\nexport class VgUtcPipe implements PipeTransform {\n    transform(value: number, format: string): string {\n        let date = new Date(value);\n        let result = format;\n        let ss: string|number = date.getUTCSeconds();\n        let mm: string|number = date.getUTCMinutes();\n        let hh: string|number = date.getUTCHours();\n\n        if (ss < 10) {\n            ss = '0' + ss;\n        }\n        if (mm < 10) {\n            mm = '0' + mm;\n        }\n        if (hh < 10) {\n            hh = '0' + hh;\n        }\n\n        result = result.replace(/ss/g, <string>ss);\n        result = result.replace(/mm/g, <string>mm);\n        result = result.replace(/hh/g, <string>hh);\n\n        return result;\n    }\n}\n\n@Component({\n    selector: 'vg-time-display',\n    encapsulation: ViewEncapsulation.None,\n    template: `\n        <span *ngIf=\"target?.isLive\">LIVE</span>\n        <span *ngIf=\"!target?.isLive\">{{ getTime() | vgUtc:vgFormat }}</span>\n        <ng-content></ng-content>\n    `,\n    styles: [ `\n        vg-time-display {\n            -webkit-touch-callout: none;\n            -webkit-user-select: none;\n            -moz-user-select: none;\n            -ms-user-select: none;\n            user-select: none;\n            display: flex;\n            justify-content: center;\n            height: 50px;\n            width: 60px;\n            cursor: pointer;\n            color: white;\n            line-height: 50px;\n            pointer-events: none;\n            font-family: Helvetica Neue, Helvetica, Arial, sans-serif;\n        }\n    ` ]\n})\nexport class VgTimeDisplay implements OnInit, OnDestroy {\n    @Input() vgFor: string;\n    @Input() vgProperty: string = 'current';\n    @Input() vgFormat: string = 'mm:ss';\n\n    elem: HTMLElement;\n    target: any;\n\n    subscriptions: Subscription[] = [];\n\n    constructor(ref: ElementRef, public API: VgAPI) {\n        this.elem = ref.nativeElement;\n    }\n\n    ngOnInit() {\n        if (this.API.isPlayerReady) {\n            this.onPlayerReady();\n        }\n        else {\n            this.subscriptions.push(this.API.playerReadyEvent.subscribe(() => this.onPlayerReady()));\n        }\n    }\n\n    onPlayerReady() {\n        this.target = this.API.getMediaById(this.vgFor);\n    }\n\n    getTime() {\n        let t = 0;\n\n        if (this.target) {\n            t = Math.round(this.target.time[ this.vgProperty ]);\n            t = isNaN(t) || this.target.isLive ? 0 : t;\n        }\n\n        return t;\n    }\n\n    ngOnDestroy() {\n        this.subscriptions.forEach(s => s.unsubscribe());\n    }\n}\n","l":{"1":1,"2":1,"7":1,"8":1,"9":0,"10":0,"11":0,"12":0,"13":0,"15":0,"16":0,"18":0,"19":0,"21":0,"22":0,"25":0,"26":0,"27":0,"29":0,"60":1,"70":5,"71":5,"74":1,"75":0,"76":0,"79":0,"83":1,"84":1,"87":1,"88":3,"90":3,"91":2,"92":2,"95":3,"98":1,"99":0}},
"/Users/jorgeucano/Documents/OSS/videogular2/src/controls/vg-controls.ts":{"path":"/Users/jorgeucano/Documents/OSS/videogular2/src/controls/vg-controls.ts","statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":4,"column":23}},"2":{"start":{"line":5,"column":0},"end":{"line":5,"column":45}},"3":{"start":{"line":6,"column":0},"end":{"line":6,"column":48}},"4":{"start":{"line":7,"column":0},"end":{"line":7,"column":73}},"5":{"start":{"line":8,"column":0},"end":{"line":8,"column":39}},"6":{"start":{"line":9,"column":0},"end":{"line":9,"column":52}},"7":{"start":{"line":53,"column":4},"end":{"line":55,"column":5}},"8":{"start":{"line":53,"column":24},"end":{"line":53,"column":34}},"9":{"start":{"line":53,"column":44},"end":{"line":53,"column":59}},"10":{"start":{"line":53,"column":69},"end":{"line":53,"column":93}},"11":{"start":{"line":54,"column":8},"end":{"line":54,"column":38}},"12":{"start":{"line":57,"column":4},"end":{"line":70,"column":5}},"13":{"start":{"line":58,"column":8},"end":{"line":58,"column":86}},"14":{"start":{"line":59,"column":8},"end":{"line":59,"column":75}},"15":{"start":{"line":61,"column":8},"end":{"line":61,"column":88}},"16":{"start":{"line":62,"column":8},"end":{"line":62,"column":76}},"17":{"start":{"line":64,"column":8},"end":{"line":69,"column":9}},"18":{"start":{"line":65,"column":12},"end":{"line":65,"column":33}},"19":{"start":{"line":68,"column":12},"end":{"line":68,"column":101}},"20":{"start":{"line":68,"column":78},"end":{"line":68,"column":98}},"21":{"start":{"line":72,"column":4},"end":{"line":79,"column":5}},"22":{"start":{"line":73,"column":8},"end":{"line":73,"column":56}},"23":{"start":{"line":75,"column":8},"end":{"line":75,"column":98}},"24":{"start":{"line":76,"column":8},"end":{"line":76,"column":100}},"25":{"start":{"line":77,"column":8},"end":{"line":77,"column":106}},"26":{"start":{"line":78,"column":8},"end":{"line":78,"column":102}},"27":{"start":{"line":81,"column":4},"end":{"line":88,"column":5}},"28":{"start":{"line":82,"column":8},"end":{"line":87,"column":9}},"29":{"start":{"line":83,"column":12},"end":{"line":83,"column":24}},"30":{"start":{"line":86,"column":12},"end":{"line":86,"column":24}},"31":{"start":{"line":90,"column":4},"end":{"line":94,"column":5}},"32":{"start":{"line":91,"column":8},"end":{"line":93,"column":9}},"33":{"start":{"line":92,"column":12},"end":{"line":92,"column":24}},"34":{"start":{"line":96,"column":4},"end":{"line":100,"column":5}},"35":{"start":{"line":97,"column":8},"end":{"line":97,"column":33}},"36":{"start":{"line":98,"column":8},"end":{"line":98,"column":34}},"37":{"start":{"line":99,"column":8},"end":{"line":99,"column":33}},"38":{"start":{"line":102,"column":4},"end":{"line":104,"column":5}},"39":{"start":{"line":103,"column":8},"end":{"line":103,"column":35}},"40":{"start":{"line":106,"column":4},"end":{"line":108,"column":5}},"41":{"start":{"line":107,"column":8},"end":{"line":107,"column":38}},"42":{"start":{"line":110,"column":4},"end":{"line":115,"column":5}},"43":{"start":{"line":111,"column":8},"end":{"line":114,"column":9}},"44":{"start":{"line":112,"column":12},"end":{"line":112,"column":37}},"45":{"start":{"line":113,"column":12},"end":{"line":113,"column":29}},"46":{"start":{"line":117,"column":4},"end":{"line":125,"column":5}},"47":{"start":{"line":118,"column":8},"end":{"line":118,"column":33}},"48":{"start":{"line":119,"column":8},"end":{"line":119,"column":34}},"49":{"start":{"line":120,"column":8},"end":{"line":120,"column":33}},"50":{"start":{"line":122,"column":8},"end":{"line":124,"column":9}},"51":{"start":{"line":123,"column":12},"end":{"line":123,"column":29}},"52":{"start":{"line":127,"column":12},"end":{"line":134,"column":5}},"53":{"start":{"line":127,"column":4},"end":{"line":134,"column":5}},"54":{"start":{"line":128,"column":8},"end":{"line":133,"column":9}},"55":{"start":{"line":129,"column":12},"end":{"line":132,"column":43}},"56":{"start":{"line":130,"column":16},"end":{"line":130,"column":41}},"57":{"start":{"line":131,"column":16},"end":{"line":131,"column":40}},"58":{"start":{"line":136,"column":4},"end":{"line":138,"column":5}},"59":{"start":{"line":137,"column":8},"end":{"line":137,"column":57}},"60":{"start":{"line":137,"column":40},"end":{"line":137,"column":55}},"61":{"start":{"line":37,"column":13},"end":{"line":37,"column":23}}},"fnMap":{"1":{"name":"VgControls","line":53,"loc":{"start":{"line":53,"column":4},"end":{"line":53,"column":93}}},"2":{"name":"(anonymous_3)","line":57,"loc":{"start":{"line":57,"column":4},"end":{"line":null,"column":-1}}},"3":{"name":"(anonymous_4)","line":68,"loc":{"start":{"line":68,"column":72},"end":{"line":68,"column":77}}},"4":{"name":"(anonymous_5)","line":72,"loc":{"start":{"line":72,"column":4},"end":{"line":null,"column":-1}}},"5":{"name":"(anonymous_6)","line":81,"loc":{"start":{"line":81,"column":4},"end":{"line":null,"column":-1}}},"6":{"name":"(anonymous_7)","line":90,"loc":{"start":{"line":90,"column":4},"end":{"line":null,"column":-1}}},"7":{"name":"(anonymous_8)","line":96,"loc":{"start":{"line":96,"column":4},"end":{"line":null,"column":-1}}},"8":{"name":"(anonymous_9)","line":102,"loc":{"start":{"line":102,"column":4},"end":{"line":null,"column":-1}}},"9":{"name":"(anonymous_10)","line":106,"loc":{"start":{"line":106,"column":4},"end":{"line":null,"column":-1}}},"10":{"name":"(anonymous_11)","line":110,"loc":{"start":{"line":110,"column":4},"end":{"line":null,"column":-1}}},"11":{"name":"(anonymous_12)","line":117,"loc":{"start":{"line":117,"column":4},"end":{"line":null,"column":-1}}},"12":{"name":"(anonymous_13)","line":127,"loc":{"start":{"line":127,"column":4},"end":{"line":null,"column":-1}}},"13":{"name":"(anonymous_14)","line":129,"loc":{"start":{"line":129,"column":36},"end":{"line":null,"column":-1}}},"14":{"name":"(anonymous_15)","line":136,"loc":{"start":{"line":136,"column":4},"end":{"line":null,"column":-1}}},"15":{"name":"(anonymous_16)","line":137,"loc":{"start":{"line":137,"column":35},"end":{"line":137,"column":36}}}},"branchMap":{"1":{"line":64,"type":"if","locations":[{"start":{"line":64,"column":8},"end":{"line":64,"column":7}},{"start":{"line":64,"column":8},"end":{"line":64,"column":7}}]},"2":{"line":82,"type":"if","locations":[{"start":{"line":82,"column":8},"end":{"line":82,"column":7}},{"start":{"line":82,"column":8},"end":{"line":82,"column":7}}]},"3":{"line":91,"type":"if","locations":[{"start":{"line":91,"column":8},"end":{"line":91,"column":7}},{"start":{"line":91,"column":8},"end":{"line":91,"column":7}}]},"4":{"line":111,"type":"if","locations":[{"start":{"line":111,"column":8},"end":{"line":111,"column":7}},{"start":{"line":111,"column":8},"end":{"line":111,"column":7}}]},"5":{"line":122,"type":"if","locations":[{"start":{"line":122,"column":8},"end":{"line":122,"column":7}},{"start":{"line":122,"column":8},"end":{"line":122,"column":7}}]},"6":{"line":128,"type":"if","locations":[{"start":{"line":128,"column":8},"end":{"line":128,"column":7}},{"start":{"line":128,"column":8},"end":{"line":128,"column":7}}]}},"s":{"1":1,"2":1,"3":1,"4":1,"5":1,"6":1,"7":1,"8":10,"9":10,"10":10,"11":10,"12":2,"13":1,"14":1,"15":1,"16":1,"17":1,"18":0,"19":1,"20":0,"21":1,"22":0,"23":0,"24":0,"25":0,"26":0,"27":1,"28":2,"29":1,"30":1,"31":1,"32":1,"33":1,"34":1,"35":1,"36":1,"37":1,"38":1,"39":0,"40":1,"41":0,"42":1,"43":3,"44":2,"45":2,"46":1,"47":1,"48":1,"49":1,"50":1,"51":0,"52":1,"53":2,"54":2,"55":1,"56":1,"57":1,"58":1,"59":0,"60":0,"61":1},"b":{"1":[0,1],"2":[1,1],"3":[1,0],"4":[2,1],"5":[0,1],"6":[1,1]},"f":{"1":10,"2":1,"3":0,"4":0,"5":2,"6":1,"7":1,"8":0,"9":0,"10":3,"11":1,"12":2,"13":1,"14":0,"15":0},"code":"import {\n    Component, Input, OnInit, ElementRef, HostBinding, AfterViewInit, ViewEncapsulation,\n    EventEmitter, Output\n} from '@angular/core';\nimport { Observable } from 'rxjs/Observable';\nimport { VgAPI } from '../core/services/vg-api';\nimport { VgControlsHidden } from './../core/services/vg-controls-hidden';\nimport 'rxjs/add/observable/fromEvent';\nimport { VgStates } from '../core/states/vg-states';\nimport { Subscription } from 'rxjs/Subscription';\n\n@Component({\n    selector: 'vg-controls',\n    encapsulation: ViewEncapsulation.None,\n    template: `<ng-content></ng-content>`,\n    styles: [ `\n        vg-controls {\n            position: absolute;\n            display: flex;\n            width: 100%;\n            height: 50px;\n            z-index: 300;\n            bottom: 0;\n            background-color: rgba(0, 0, 0, 0.5);\n            -webkit-transition: bottom 1s;\n            -khtml-transition: bottom 1s;\n            -moz-transition: bottom 1s;\n            -ms-transition: bottom 1s;\n            transition: bottom 1s;\n        }\n\n        vg-controls.hide {  \n            bottom: -50px;\n        }\n    `]\n})\nexport class VgControls implements OnInit, AfterViewInit {\n    elem: HTMLElement;\n    target: any;\n\n    @HostBinding('style.pointer-events') isAdsPlaying: string = 'initial';\n    @HostBinding('class.hide') hideControls: boolean = false;\n\n    @Input() vgFor: string;\n    @Input() vgAutohide: boolean = false;\n    @Input() vgAutohideTime: number = 3;\n\n    private timer: any;\n    private hideTimer: any;\n\n    subscriptions: Subscription[] = [];\n\n    constructor(private API: VgAPI, private ref: ElementRef, private hidden: VgControlsHidden) {\n        this.elem = ref.nativeElement;\n    }\n\n    ngOnInit() {\n        let mouseMove = Observable.fromEvent(this.API.videogularElement, 'mousemove');\n        this.subscriptions.push(mouseMove.subscribe(this.show.bind(this)));\n\n        let touchStart = Observable.fromEvent(this.API.videogularElement, 'touchstart');\n        this.subscriptions.push(touchStart.subscribe(this.show.bind(this)));\n\n        if (this.API.isPlayerReady) {\n            this.onPlayerReady();\n        }\n        else {\n            this.subscriptions.push(this.API.playerReadyEvent.subscribe(() => this.onPlayerReady()));\n        }\n    }\n\n    onPlayerReady() {\n        this.target = this.API.getMediaById(this.vgFor);\n\n        this.subscriptions.push(this.target.subscriptions.play.subscribe(this.onPlay.bind(this)));\n        this.subscriptions.push(this.target.subscriptions.pause.subscribe(this.onPause.bind(this)));\n        this.subscriptions.push(this.target.subscriptions.startAds.subscribe(this.onStartAds.bind(this)));\n        this.subscriptions.push(this.target.subscriptions.endAds.subscribe(this.onEndAds.bind(this)));\n    }\n\n    ngAfterViewInit() {\n        if (this.vgAutohide) {\n            this.hide();\n        }\n        else {\n            this.show();\n        }\n    }\n\n    onPlay() {\n        if (this.vgAutohide) {\n            this.hide();\n        }\n    }\n\n    onPause() {\n        clearTimeout(this.timer);\n        this.hideControls = false;\n        this.hidden.state(false);\n    }\n\n    onStartAds() {\n        this.isAdsPlaying = 'none';\n    }\n\n    onEndAds() {\n        this.isAdsPlaying = 'initial';\n    }\n\n    hide() {\n        if (this.vgAutohide) {\n            clearTimeout(this.timer);\n            this.hideAsync();\n        }\n    }\n\n    show() {\n        clearTimeout(this.timer);\n        this.hideControls = false;\n        this.hidden.state(false);\n\n        if (this.vgAutohide) {\n            this.hideAsync();\n        }\n    }\n\n    private hideAsync() {\n        if (this.API.state === VgStates.VG_PLAYING) {\n            this.timer = setTimeout(() => {\n                this.hideControls = true;\n                this.hidden.state(true);\n            }, this.vgAutohideTime * 1000);\n        }\n    }\n\n    ngOnDestroy() {\n        this.subscriptions.forEach(s => s.unsubscribe());\n    }\n}\n","l":{"1":1,"5":1,"6":1,"7":1,"8":1,"9":1,"37":1,"53":10,"54":10,"57":2,"58":1,"59":1,"61":1,"62":1,"64":1,"65":0,"68":1,"72":1,"73":0,"75":0,"76":0,"77":0,"78":0,"81":1,"82":2,"83":1,"86":1,"90":1,"91":1,"92":1,"96":1,"97":1,"98":1,"99":1,"102":1,"103":0,"106":1,"107":0,"110":1,"111":3,"112":2,"113":2,"117":1,"118":1,"119":1,"120":1,"122":1,"123":0,"127":2,"128":2,"129":1,"130":1,"131":1,"136":1,"137":0}},
"/Users/jorgeucano/Documents/OSS/videogular2/src/core/vg-cue-points/vg-cue-points.ts":{"path":"/Users/jorgeucano/Documents/OSS/videogular2/src/core/vg-cue-points/vg-cue-points.ts","statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":1,"column":95}},"2":{"start":{"line":2,"column":0},"end":{"line":2,"column":47}},"3":{"start":{"line":3,"column":0},"end":{"line":3,"column":45}},"4":{"start":{"line":4,"column":0},"end":{"line":4,"column":39}},"5":{"start":{"line":21,"column":4},"end":{"line":22,"column":5}},"6":{"start":{"line":21,"column":23},"end":{"line":21,"column":38}},"7":{"start":{"line":24,"column":4},"end":{"line":27,"column":5}},"8":{"start":{"line":25,"column":8},"end":{"line":25,"column":84}},"9":{"start":{"line":26,"column":8},"end":{"line":26,"column":74}},"10":{"start":{"line":29,"column":4},"end":{"line":35,"column":5}},"11":{"start":{"line":30,"column":8},"end":{"line":30,"column":59}},"12":{"start":{"line":32,"column":8},"end":{"line":32,"column":43}},"13":{"start":{"line":34,"column":8},"end":{"line":34,"column":35}},"14":{"start":{"line":37,"column":4},"end":{"line":47,"column":5}},"15":{"start":{"line":38,"column":8},"end":{"line":38,"column":61}},"16":{"start":{"line":38,"column":44},"end":{"line":38,"column":59}},"17":{"start":{"line":40,"column":8},"end":{"line":46,"column":9}},"18":{"start":{"line":41,"column":12},"end":{"line":41,"column":77}},"19":{"start":{"line":42,"column":12},"end":{"line":42,"column":84}},"20":{"start":{"line":44,"column":12},"end":{"line":44,"column":75}},"21":{"start":{"line":45,"column":12},"end":{"line":45,"column":82}},"22":{"start":{"line":49,"column":4},"end":{"line":51,"column":5}},"23":{"start":{"line":50,"column":8},"end":{"line":50,"column":48}},"24":{"start":{"line":53,"column":4},"end":{"line":55,"column":5}},"25":{"start":{"line":54,"column":8},"end":{"line":54,"column":47}},"26":{"start":{"line":57,"column":4},"end":{"line":67,"column":5}},"27":{"start":{"line":58,"column":8},"end":{"line":66,"column":9}},"28":{"start":{"line":59,"column":12},"end":{"line":59,"column":88}},"29":{"start":{"line":61,"column":12},"end":{"line":65,"column":13}},"30":{"start":{"line":62,"column":16},"end":{"line":62,"column":74}},"31":{"start":{"line":63,"column":16},"end":{"line":63,"column":80}},"32":{"start":{"line":64,"column":16},"end":{"line":64,"column":72}},"33":{"start":{"line":69,"column":4},"end":{"line":71,"column":5}},"34":{"start":{"line":70,"column":8},"end":{"line":70,"column":57}},"35":{"start":{"line":70,"column":40},"end":{"line":70,"column":55}},"36":{"start":{"line":10,"column":13},"end":{"line":10,"column":24}}},"fnMap":{"1":{"name":"VgCuePoints","line":21,"loc":{"start":{"line":21,"column":4},"end":{"line":21,"column":38}}},"2":{"name":"(anonymous_3)","line":24,"loc":{"start":{"line":24,"column":4},"end":{"line":null,"column":-1}}},"3":{"name":"(anonymous_4)","line":29,"loc":{"start":{"line":29,"column":4},"end":{"line":29,"column":21}}},"4":{"name":"(anonymous_5)","line":37,"loc":{"start":{"line":37,"column":4},"end":{"line":37,"column":40}}},"5":{"name":"(anonymous_6)","line":38,"loc":{"start":{"line":38,"column":39},"end":{"line":38,"column":40}}},"6":{"name":"(anonymous_7)","line":49,"loc":{"start":{"line":49,"column":4},"end":{"line":49,"column":22}}},"7":{"name":"(anonymous_8)","line":53,"loc":{"start":{"line":53,"column":4},"end":{"line":53,"column":21}}},"8":{"name":"(anonymous_9)","line":57,"loc":{"start":{"line":57,"column":4},"end":{"line":null,"column":-1}}},"9":{"name":"(anonymous_10)","line":69,"loc":{"start":{"line":69,"column":4},"end":{"line":null,"column":-1}}},"10":{"name":"(anonymous_11)","line":70,"loc":{"start":{"line":70,"column":35},"end":{"line":70,"column":36}}}},"branchMap":{"1":{"line":58,"type":"if","locations":[{"start":{"line":58,"column":8},"end":{"line":58,"column":7}},{"start":{"line":58,"column":8},"end":{"line":58,"column":7}}]},"2":{"line":61,"type":"if","locations":[{"start":{"line":61,"column":12},"end":{"line":61,"column":11}},{"start":{"line":61,"column":12},"end":{"line":61,"column":11}}]}},"s":{"1":1,"2":1,"3":1,"4":1,"5":1,"6":3,"7":1,"8":1,"9":1,"10":1,"11":0,"12":0,"13":0,"14":1,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":1,"23":1,"24":1,"25":1,"26":1,"27":0,"28":0,"29":0,"30":0,"31":0,"32":0,"33":1,"34":0,"35":0,"36":1},"b":{"1":[0,0],"2":[0,0]},"f":{"1":3,"2":1,"3":0,"4":0,"5":0,"6":1,"7":1,"8":0,"9":0,"10":0},"code":"import { Directive, ElementRef, EventEmitter, OnDestroy, OnInit, Output } from '@angular/core';\nimport { VgEvents } from '../events/vg-events';\nimport { Observable } from 'rxjs/Observable';\nimport 'rxjs/add/observable/fromEvent';\nimport { Subscription } from 'rxjs/Subscription';\n\n@Directive({\n    selector: '[vgCuePoints]'\n})\nexport class VgCuePoints implements OnInit, OnDestroy {\n    @Output('onEnterCuePoint') onEnterCuePoint: EventEmitter<any> = new EventEmitter();\n    @Output('onUpdateCuePoint') onUpdateCuePoint: EventEmitter<any> = new EventEmitter();\n    @Output('onExitCuePoint') onExitCuePoint: EventEmitter<any> = new EventEmitter();\n    @Output('onCompleteCuePoint') onCompleteCuePoint: EventEmitter<any> = new EventEmitter();\n\n    subscriptions: Subscription[] = [];\n    cuesSubscriptions: Subscription[] = [];\n\n    totalCues = 0;\n\n    constructor(public ref: ElementRef) {\n    }\n\n    ngOnInit() {\n        let onLoad = Observable.fromEvent(this.ref.nativeElement, VgEvents.VG_LOAD);\n        this.subscriptions.push(onLoad.subscribe(this.onLoad.bind(this)));\n    }\n\n    onLoad(event: any) {\n        let cues: TextTrackCue[] = event.target.track.cues;\n\n        this.ref.nativeElement.cues = cues;\n\n        this.updateCuePoints(cues);\n    }\n\n    updateCuePoints(cues: TextTrackCue[]) {\n        this.cuesSubscriptions.forEach(s => s.unsubscribe());\n\n        for (let i = 0, l = cues.length; i < l; i++) {\n            let onEnter = Observable.fromEvent(cues[ i ], VgEvents.VG_ENTER);\n            this.cuesSubscriptions.push(onEnter.subscribe(this.onEnter.bind(this)));\n\n            let onExit = Observable.fromEvent(cues[ i ], VgEvents.VG_EXIT);\n            this.cuesSubscriptions.push(onExit.subscribe(this.onExit.bind(this)));\n        }\n    }\n\n    onEnter(event: any) {\n        this.onEnterCuePoint.next(event.target);\n    }\n\n    onExit(event: any) {\n        this.onExitCuePoint.next(event.target);\n    }\n\n    ngDoCheck() {\n        if (this.ref.nativeElement.cues) {\n            const changes = this.totalCues !== this.ref.nativeElement.track.cues.length;\n\n            if (changes) {\n                this.totalCues = this.ref.nativeElement.track.cues.length;\n                this.ref.nativeElement.cues = this.ref.nativeElement.track.cues;\n                this.updateCuePoints(this.ref.nativeElement.track.cues);\n            }\n        }\n    }\n\n    ngOnDestroy() {\n        this.subscriptions.forEach(s => s.unsubscribe());\n    }\n}\n","l":{"1":1,"2":1,"3":1,"4":1,"10":1,"21":3,"24":1,"25":1,"26":1,"29":1,"30":0,"32":0,"34":0,"37":1,"38":0,"40":0,"41":0,"42":0,"44":0,"45":0,"49":1,"50":1,"53":1,"54":1,"57":1,"58":0,"59":0,"61":0,"62":0,"63":0,"64":0,"69":1,"70":0}},
"/Users/jorgeucano/Documents/OSS/videogular2/src/core/events/vg-events.ts":{"path":"/Users/jorgeucano/Documents/OSS/videogular2/src/core/events/vg-events.ts","statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":1,"column":41}},"2":{"start":{"line":4,"column":13},"end":{"line":4,"column":21}}},"fnMap":{},"branchMap":{},"s":{"1":1,"2":1},"b":{},"f":{},"code":"import {Injectable} from '@angular/core';\n\n@Injectable()\nexport class VgEvents {\n    static VG_ABORT: string = 'abort';\n    static VG_CAN_PLAY: string = 'canplay';\n    static VG_CAN_PLAY_THROUGH: string = 'canplaythrough';\n    static VG_DURATION_CHANGE: string = 'durationchange';\n    static VG_EMPTIED: string = 'emptied';\n    static VG_ENCRYPTED: string = 'encrypted';\n    static VG_ENDED: string = 'ended';\n    static VG_ERROR: string = 'error';\n    static VG_LOADED_DATA: string = 'loadeddata';\n    static VG_LOADED_METADATA: string = 'loadedmetadata';\n    static VG_LOAD_START: string = 'loadstart';\n    static VG_PAUSE: string = 'pause';\n    static VG_PLAY: string = 'play';\n    static VG_PLAYING: string = 'playing';\n    static VG_PROGRESS: string = 'progress';\n    static VG_RATE_CHANGE: string = 'ratechange';\n    static VG_SEEK: string = 'seek';\n    static VG_SEEKED: string = 'seeked';\n    static VG_SEEKING: string = 'seeking';\n    static VG_STALLED: string = 'stalled';\n    static VG_SUSPEND: string = 'suspend';\n    static VG_TIME_UPDATE: string = 'timeupdate';\n    static VG_VOLUME_CHANGE: string = 'volumechange';\n    static VG_WAITING: string = 'waiting';\n    \n    static VG_LOAD: string = 'load';\n    static VG_ENTER: string = 'enter';\n    static VG_EXIT: string = 'exit';\n\n    static VG_START_ADS: string = 'startads';\n    static VG_END_ADS: string = 'endads';\n}\n","l":{"1":1,"4":1}},
"/Users/jorgeucano/Documents/OSS/videogular2/src/controls/vg-scrub-bar/vg-scrub-bar.ts":{"path":"/Users/jorgeucano/Documents/OSS/videogular2/src/controls/vg-scrub-bar/vg-scrub-bar.ts","statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":4,"column":23}},"2":{"start":{"line":5,"column":0},"end":{"line":5,"column":51}},"3":{"start":{"line":6,"column":0},"end":{"line":6,"column":76}},"4":{"start":{"line":7,"column":0},"end":{"line":7,"column":55}},"5":{"start":{"line":97,"column":4},"end":{"line":100,"column":5}},"6":{"start":{"line":97,"column":40},"end":{"line":97,"column":50}},"7":{"start":{"line":98,"column":8},"end":{"line":98,"column":38}},"8":{"start":{"line":99,"column":8},"end":{"line":99,"column":109}},"9":{"start":{"line":99,"column":81},"end":{"line":99,"column":106}},"10":{"start":{"line":102,"column":4},"end":{"line":109,"column":5}},"11":{"start":{"line":103,"column":8},"end":{"line":108,"column":9}},"12":{"start":{"line":104,"column":12},"end":{"line":104,"column":33}},"13":{"start":{"line":107,"column":12},"end":{"line":107,"column":101}},"14":{"start":{"line":107,"column":78},"end":{"line":107,"column":98}},"15":{"start":{"line":111,"column":4},"end":{"line":113,"column":5}},"16":{"start":{"line":112,"column":8},"end":{"line":112,"column":56}},"17":{"start":{"line":115,"column":14},"end":{"line":123,"column":5}},"18":{"start":{"line":116,"column":8},"end":{"line":122,"column":9}},"19":{"start":{"line":117,"column":12},"end":{"line":117,"column":34}},"20":{"start":{"line":118,"column":12},"end":{"line":120,"column":13}},"21":{"start":{"line":119,"column":16},"end":{"line":119,"column":39}},"22":{"start":{"line":121,"column":12},"end":{"line":121,"column":32}},"23":{"start":{"line":125,"column":14},"end":{"line":131,"column":5}},"24":{"start":{"line":126,"column":8},"end":{"line":130,"column":9}},"25":{"start":{"line":127,"column":12},"end":{"line":127,"column":95}},"26":{"start":{"line":128,"column":12},"end":{"line":128,"column":81}},"27":{"start":{"line":129,"column":12},"end":{"line":129,"column":51}},"28":{"start":{"line":133,"column":14},"end":{"line":143,"column":5}},"29":{"start":{"line":134,"column":8},"end":{"line":134,"column":31}},"30":{"start":{"line":135,"column":8},"end":{"line":142,"column":9}},"31":{"start":{"line":136,"column":12},"end":{"line":136,"column":95}},"32":{"start":{"line":137,"column":12},"end":{"line":137,"column":51}},"33":{"start":{"line":138,"column":12},"end":{"line":141,"column":13}},"34":{"start":{"line":139,"column":16},"end":{"line":139,"column":40}},"35":{"start":{"line":140,"column":16},"end":{"line":140,"column":35}},"36":{"start":{"line":145,"column":14},"end":{"line":151,"column":5}},"37":{"start":{"line":146,"column":8},"end":{"line":146,"column":31}},"38":{"start":{"line":147,"column":8},"end":{"line":150,"column":9}},"39":{"start":{"line":148,"column":12},"end":{"line":148,"column":36}},"40":{"start":{"line":149,"column":12},"end":{"line":149,"column":31}},"41":{"start":{"line":153,"column":14},"end":{"line":161,"column":5}},"42":{"start":{"line":154,"column":8},"end":{"line":154,"column":35}},"43":{"start":{"line":155,"column":8},"end":{"line":155,"column":40}},"44":{"start":{"line":156,"column":8},"end":{"line":159,"column":9}},"45":{"start":{"line":157,"column":12},"end":{"line":157,"column":45}},"46":{"start":{"line":158,"column":12},"end":{"line":158,"column":43}},"47":{"start":{"line":160,"column":8},"end":{"line":160,"column":53}},"48":{"start":{"line":165,"column":8},"end":{"line":172,"column":9}},"49":{"start":{"line":166,"column":12},"end":{"line":171,"column":13}},"50":{"start":{"line":167,"column":16},"end":{"line":167,"column":45}},"51":{"start":{"line":170,"column":16},"end":{"line":170,"column":33}},"52":{"start":{"line":177,"column":8},"end":{"line":179,"column":9}},"53":{"start":{"line":178,"column":12},"end":{"line":178,"column":42}},"54":{"start":{"line":184,"column":8},"end":{"line":186,"column":9}},"55":{"start":{"line":185,"column":12},"end":{"line":185,"column":41}},"56":{"start":{"line":191,"column":8},"end":{"line":193,"column":9}},"57":{"start":{"line":192,"column":12},"end":{"line":192,"column":41}},"58":{"start":{"line":198,"column":8},"end":{"line":205,"column":9}},"59":{"start":{"line":199,"column":12},"end":{"line":204,"column":13}},"60":{"start":{"line":200,"column":16},"end":{"line":200,"column":58}},"61":{"start":{"line":203,"column":16},"end":{"line":203,"column":33}},"62":{"start":{"line":210,"column":8},"end":{"line":212,"column":9}},"63":{"start":{"line":211,"column":12},"end":{"line":211,"column":55}},"64":{"start":{"line":217,"column":8},"end":{"line":219,"column":9}},"65":{"start":{"line":218,"column":12},"end":{"line":218,"column":28}},"66":{"start":{"line":224,"column":8},"end":{"line":226,"column":9}},"67":{"start":{"line":225,"column":12},"end":{"line":225,"column":28}},"68":{"start":{"line":231,"column":8},"end":{"line":233,"column":9}},"69":{"start":{"line":232,"column":12},"end":{"line":232,"column":28}},"70":{"start":{"line":238,"column":8},"end":{"line":245,"column":9}},"71":{"start":{"line":239,"column":12},"end":{"line":239,"column":35}},"72":{"start":{"line":240,"column":12},"end":{"line":240,"column":82}},"73":{"start":{"line":242,"column":13},"end":{"line":245,"column":9}},"74":{"start":{"line":243,"column":12},"end":{"line":243,"column":35}},"75":{"start":{"line":244,"column":12},"end":{"line":244,"column":82}},"76":{"start":{"line":248,"column":4},"end":{"line":250,"column":5}},"77":{"start":{"line":249,"column":8},"end":{"line":249,"column":102}},"78":{"start":{"line":252,"column":4},"end":{"line":254,"column":5}},"79":{"start":{"line":253,"column":8},"end":{"line":253,"column":33}},"80":{"start":{"line":256,"column":4},"end":{"line":258,"column":5}},"81":{"start":{"line":257,"column":8},"end":{"line":257,"column":57}},"82":{"start":{"line":257,"column":40},"end":{"line":257,"column":55}},"83":{"start":{"line":84,"column":13},"end":{"line":84,"column":23}}},"fnMap":{"1":{"name":"VgScrubBar","line":97,"loc":{"start":{"line":97,"column":4},"end":{"line":97,"column":91}}},"2":{"name":"(anonymous_3)","line":99,"loc":{"start":{"line":99,"column":73},"end":{"line":99,"column":77}}},"3":{"name":"(anonymous_4)","line":102,"loc":{"start":{"line":102,"column":4},"end":{"line":null,"column":-1}}},"4":{"name":"(anonymous_5)","line":107,"loc":{"start":{"line":107,"column":72},"end":{"line":107,"column":77}}},"5":{"name":"(anonymous_6)","line":111,"loc":{"start":{"line":111,"column":4},"end":{"line":null,"column":-1}}},"6":{"name":"(anonymous_7)","line":115,"loc":{"start":{"line":115,"column":4},"end":{"line":null,"column":-1}}},"7":{"name":"(anonymous_8)","line":125,"loc":{"start":{"line":125,"column":4},"end":{"line":125,"column":37}}},"8":{"name":"(anonymous_9)","line":133,"loc":{"start":{"line":133,"column":4},"end":{"line":133,"column":36}}},"9":{"name":"(anonymous_10)","line":145,"loc":{"start":{"line":145,"column":4},"end":{"line":null,"column":-1}}},"10":{"name":"(anonymous_11)","line":153,"loc":{"start":{"line":153,"column":4},"end":{"line":153,"column":39}}},"11":{"name":"(anonymous_12)","line":164,"loc":{"start":{"line":164,"column":23},"end":{"line":164,"column":35}}},"12":{"name":"(anonymous_13)","line":176,"loc":{"start":{"line":176,"column":23},"end":{"line":176,"column":35}}},"13":{"name":"(anonymous_14)","line":183,"loc":{"start":{"line":183,"column":22},"end":{"line":183,"column":34}}},"14":{"name":"(anonymous_15)","line":190,"loc":{"start":{"line":190,"column":21},"end":{"line":190,"column":33}}},"15":{"name":"(anonymous_16)","line":197,"loc":{"start":{"line":197,"column":24},"end":{"line":197,"column":36}}},"16":{"name":"(anonymous_17)","line":209,"loc":{"start":{"line":209,"column":23},"end":{"line":209,"column":35}}},"17":{"name":"(anonymous_18)","line":216,"loc":{"start":{"line":216,"column":25},"end":{"line":216,"column":37}}},"18":{"name":"(anonymous_19)","line":223,"loc":{"start":{"line":223,"column":22},"end":{"line":223,"column":34}}},"19":{"name":"(anonymous_20)","line":230,"loc":{"start":{"line":230,"column":24},"end":{"line":230,"column":36}}},"20":{"name":"(anonymous_21)","line":237,"loc":{"start":{"line":237,"column":21},"end":{"line":237,"column":42}}},"21":{"name":"(anonymous_22)","line":248,"loc":{"start":{"line":248,"column":4},"end":{"line":null,"column":-1}}},"22":{"name":"(anonymous_23)","line":252,"loc":{"start":{"line":252,"column":4},"end":{"line":252,"column":32}}},"23":{"name":"(anonymous_24)","line":256,"loc":{"start":{"line":256,"column":4},"end":{"line":null,"column":-1}}},"24":{"name":"(anonymous_25)","line":257,"loc":{"start":{"line":257,"column":35},"end":{"line":257,"column":36}}}},"branchMap":{"1":{"line":103,"type":"if","locations":[{"start":{"line":103,"column":8},"end":{"line":103,"column":7}},{"start":{"line":103,"column":8},"end":{"line":103,"column":7}}]},"2":{"line":116,"type":"if","locations":[{"start":{"line":116,"column":8},"end":{"line":116,"column":7}},{"start":{"line":116,"column":8},"end":{"line":116,"column":7}}]},"3":{"line":118,"type":"if","locations":[{"start":{"line":118,"column":12},"end":{"line":118,"column":11}},{"start":{"line":118,"column":12},"end":{"line":118,"column":11}}]},"4":{"line":126,"type":"if","locations":[{"start":{"line":126,"column":8},"end":{"line":126,"column":7}},{"start":{"line":126,"column":8},"end":{"line":126,"column":7}}]},"5":{"line":135,"type":"if","locations":[{"start":{"line":135,"column":8},"end":{"line":135,"column":7}},{"start":{"line":135,"column":8},"end":{"line":135,"column":7}}]},"6":{"line":138,"type":"if","locations":[{"start":{"line":138,"column":12},"end":{"line":138,"column":11}},{"start":{"line":138,"column":12},"end":{"line":138,"column":11}}]},"7":{"line":147,"type":"if","locations":[{"start":{"line":147,"column":8},"end":{"line":147,"column":7}},{"start":{"line":147,"column":8},"end":{"line":147,"column":7}}]},"8":{"line":165,"type":"if","locations":[{"start":{"line":165,"column":8},"end":{"line":165,"column":7}},{"start":{"line":165,"column":8},"end":{"line":165,"column":7}}]},"9":{"line":166,"type":"if","locations":[{"start":{"line":166,"column":12},"end":{"line":166,"column":11}},{"start":{"line":166,"column":12},"end":{"line":166,"column":11}}]},"10":{"line":177,"type":"if","locations":[{"start":{"line":177,"column":8},"end":{"line":177,"column":7}},{"start":{"line":177,"column":8},"end":{"line":177,"column":7}}]},"11":{"line":177,"type":"binary-expr","locations":[{"start":{"line":177,"column":12},"end":{"line":177,"column":31}},{"start":{"line":177,"column":35},"end":{"line":177,"column":48}},{"start":{"line":177,"column":52},"end":{"line":177,"column":66}}]},"12":{"line":184,"type":"if","locations":[{"start":{"line":184,"column":8},"end":{"line":184,"column":7}},{"start":{"line":184,"column":8},"end":{"line":184,"column":7}}]},"13":{"line":184,"type":"binary-expr","locations":[{"start":{"line":184,"column":12},"end":{"line":184,"column":31}},{"start":{"line":184,"column":35},"end":{"line":184,"column":48}},{"start":{"line":184,"column":52},"end":{"line":184,"column":66}}]},"14":{"line":191,"type":"if","locations":[{"start":{"line":191,"column":8},"end":{"line":191,"column":7}},{"start":{"line":191,"column":8},"end":{"line":191,"column":7}}]},"15":{"line":191,"type":"binary-expr","locations":[{"start":{"line":191,"column":12},"end":{"line":191,"column":31}},{"start":{"line":191,"column":35},"end":{"line":191,"column":48}}]},"16":{"line":198,"type":"if","locations":[{"start":{"line":198,"column":8},"end":{"line":198,"column":7}},{"start":{"line":198,"column":8},"end":{"line":198,"column":7}}]},"17":{"line":199,"type":"if","locations":[{"start":{"line":199,"column":12},"end":{"line":199,"column":11}},{"start":{"line":199,"column":12},"end":{"line":199,"column":11}}]},"18":{"line":210,"type":"if","locations":[{"start":{"line":210,"column":8},"end":{"line":210,"column":7}},{"start":{"line":210,"column":8},"end":{"line":210,"column":7}}]},"19":{"line":210,"type":"binary-expr","locations":[{"start":{"line":210,"column":12},"end":{"line":210,"column":31}},{"start":{"line":210,"column":35},"end":{"line":210,"column":48}},{"start":{"line":210,"column":52},"end":{"line":210,"column":66}}]},"20":{"line":217,"type":"if","locations":[{"start":{"line":217,"column":8},"end":{"line":217,"column":7}},{"start":{"line":217,"column":8},"end":{"line":217,"column":7}}]},"21":{"line":217,"type":"binary-expr","locations":[{"start":{"line":217,"column":12},"end":{"line":217,"column":31}},{"start":{"line":217,"column":35},"end":{"line":217,"column":48}}]},"22":{"line":224,"type":"if","locations":[{"start":{"line":224,"column":8},"end":{"line":224,"column":7}},{"start":{"line":224,"column":8},"end":{"line":224,"column":7}}]},"23":{"line":224,"type":"binary-expr","locations":[{"start":{"line":224,"column":12},"end":{"line":224,"column":31}},{"start":{"line":224,"column":35},"end":{"line":224,"column":48}}]},"24":{"line":231,"type":"if","locations":[{"start":{"line":231,"column":8},"end":{"line":231,"column":7}},{"start":{"line":231,"column":8},"end":{"line":231,"column":7}}]},"25":{"line":231,"type":"binary-expr","locations":[{"start":{"line":231,"column":12},"end":{"line":231,"column":31}},{"start":{"line":231,"column":35},"end":{"line":231,"column":48}}]},"26":{"line":238,"type":"if","locations":[{"start":{"line":238,"column":8},"end":{"line":238,"column":7}},{"start":{"line":238,"column":8},"end":{"line":238,"column":7}}]},"27":{"line":238,"type":"binary-expr","locations":[{"start":{"line":238,"column":12},"end":{"line":238,"column":32}},{"start":{"line":238,"column":36},"end":{"line":238,"column":56}}]},"28":{"line":242,"type":"if","locations":[{"start":{"line":242,"column":13},"end":{"line":242,"column":12}},{"start":{"line":242,"column":13},"end":{"line":242,"column":12}}]},"29":{"line":242,"type":"binary-expr","locations":[{"start":{"line":242,"column":17},"end":{"line":242,"column":37}},{"start":{"line":242,"column":41},"end":{"line":242,"column":61}}]},"30":{"line":249,"type":"cond-expr","locations":[{"start":{"line":249,"column":29},"end":{"line":249,"column":94}},{"start":{"line":249,"column":97},"end":{"line":249,"column":101}}]}},"s":{"1":1,"2":1,"3":1,"4":1,"5":13,"6":12,"7":12,"8":12,"9":2,"10":1,"11":0,"12":0,"13":0,"14":0,"15":1,"16":1,"17":1,"18":2,"19":2,"20":2,"21":1,"22":2,"23":1,"24":2,"25":2,"26":2,"27":2,"28":1,"29":3,"30":3,"31":3,"32":3,"33":3,"34":0,"35":0,"36":1,"37":3,"38":3,"39":0,"40":0,"41":1,"42":2,"43":2,"44":2,"45":0,"46":0,"47":2,"48":1,"49":1,"50":0,"51":1,"52":2,"53":1,"54":2,"55":1,"56":2,"57":1,"58":2,"59":2,"60":1,"61":1,"62":2,"63":1,"64":2,"65":1,"66":2,"67":1,"68":2,"69":1,"70":0,"71":0,"72":0,"73":0,"74":0,"75":0,"76":1,"77":0,"78":1,"79":2,"80":1,"81":0,"82":0,"83":1},"b":{"1":[0,0],"2":[2,0],"3":[1,1],"4":[2,0],"5":[3,0],"6":[0,3],"7":[0,3],"8":[1,0],"9":[0,1],"10":[1,1],"11":[2,2,1],"12":[1,1],"13":[2,2,1],"14":[1,1],"15":[2,2],"16":[2,0],"17":[1,1],"18":[1,1],"19":[2,2,1],"20":[1,1],"21":[2,2],"22":[1,1],"23":[2,2],"24":[1,1],"25":[2,2],"26":[0,0],"27":[0,0],"28":[0,0],"29":[0,0],"30":[0,0]},"f":{"1":12,"2":2,"3":0,"4":0,"5":1,"6":2,"7":2,"8":3,"9":3,"10":2,"11":1,"12":2,"13":2,"14":2,"15":2,"16":2,"17":2,"18":2,"19":2,"20":0,"21":0,"22":2,"23":0,"24":0},"code":"import {\n    Component, ElementRef, Input, HostListener, OnInit, ViewEncapsulation, HostBinding,\n    OnDestroy\n} from '@angular/core';\nimport { VgAPI } from '../../core/services/vg-api';\nimport { VgControlsHidden } from './../../core/services/vg-controls-hidden';\nimport { VgStates } from '../../core/states/vg-states';\nimport { Subscription } from 'rxjs/Subscription';\n\n@Component({\n    selector: 'vg-scrub-bar',\n    encapsulation: ViewEncapsulation.None,\n    template: `\n        <div class=\"scrubBar\"\n             tabindex=\"0\"\n             role=\"slider\"\n             aria-label=\"scrub bar\"\n             aria-level=\"polite\"\n             [attr.aria-valuenow]=\"getPercentage()\"\n             aria-valuemin=\"0\"\n             aria-valuemax=\"100\"\n             [attr.aria-valuetext]=\"getPercentage() + '%'\">\n            <ng-content></ng-content>\n        </div>\n        \n    `,\n    styles: [ `\n        vg-scrub-bar {\n            -webkit-touch-callout: none;\n            -webkit-user-select: none;\n            -moz-user-select: none;\n            -ms-user-select: none;\n            user-select: none;\n            position: absolute;\n            width: 100%;\n            height: 5px;\n            bottom: 50px;\n            margin: 0;\n            cursor: pointer;\n            align-items: center;\n            background: rgba(0, 0, 0, 0.75);\n            z-index: 250;\n            -webkit-transition: bottom 1s, opacity 0.5s;\n            -khtml-transition: bottom 1s, opacity 0.5s;\n            -moz-transition: bottom 1s, opacity 0.5s;\n            -ms-transition: bottom 1s, opacity 0.5s;\n            transition: bottom 1s, opacity 0.5s;\n        }\n        \n        vg-scrub-bar .scrubBar {\n            position: relative;\n            display: flex;\n            flex-grow: 1;\n            align-items: center;\n            height: 100%;\n        }\n\n        vg-controls vg-scrub-bar {\n            position: relative;\n            bottom: 0;\n            background: transparent;\n            height: 50px;\n            flex-grow: 1;\n            flex-basis: 0;\n            margin: 0 10px;\n            -webkit-transition: initial;\n            -khtml-transition: initial;\n            -moz-transition: initial;\n            -ms-transition: initial;\n            transition: initial;\n        }\n\n        vg-scrub-bar.hide {\n            bottom: 0;\n            opacity: 0;\n        }\n\n        vg-controls vg-scrub-bar.hide {\n            bottom: initial;\n            opacity: initial;\n        }\n    ` ]\n})\nexport class VgScrubBar implements OnInit, OnDestroy {\n    @HostBinding('class.hide') hideScrubBar: boolean = false;\n\n    @Input() vgFor: string;\n    @Input() vgSlider: boolean = true;\n\n    elem: HTMLElement;\n    target: any;\n    isSeeking: boolean = false;\n    wasPlaying: boolean = false;\n\n    subscriptions: Subscription[] = [];\n\n    constructor(ref: ElementRef, public API: VgAPI, vgControlsHiddenState: VgControlsHidden) {\n        this.elem = ref.nativeElement;\n        this.subscriptions.push(vgControlsHiddenState.isHidden.subscribe(hide => this.onHideScrubBar(hide)));\n    }\n\n    ngOnInit() {\n        if (this.API.isPlayerReady) {\n            this.onPlayerReady();\n        }\n        else {\n            this.subscriptions.push(this.API.playerReadyEvent.subscribe(() => this.onPlayerReady()));\n        }\n    }\n\n    onPlayerReady() {\n        this.target = this.API.getMediaById(this.vgFor);\n    }\n\n    protected seekStart() {\n        if (this.target.canPlay) {\n            this.isSeeking = true;\n            if (this.target.state === VgStates.VG_PLAYING) {\n                this.wasPlaying = true;\n            }\n            this.target.pause();\n        }\n    }\n\n    protected seekMove(offset: number) {\n        if (this.isSeeking) {\n            let percentage = Math.max(Math.min(offset * 100 / this.elem.scrollWidth, 99.9), 0);\n            this.target.time.current = percentage * this.target.time.total / 100;\n            this.target.seekTime(percentage, true);\n        }\n    }\n\n    protected seekEnd(offset: number) {\n        this.isSeeking = false;\n        if (this.target.canPlay) {\n            let percentage = Math.max(Math.min(offset * 100 / this.elem.scrollWidth, 99.9), 0);\n            this.target.seekTime(percentage, true);\n            if (this.wasPlaying) {\n                this.wasPlaying = false;\n                this.target.play();\n            }\n        }\n    }\n\n    protected touchEnd() {\n        this.isSeeking = false;\n        if (this.wasPlaying) {\n            this.wasPlaying = false;\n            this.target.play();\n        }\n    }\n\n    protected getTouchOffset(event: any) {\n        let offsetLeft: number = 0;\n        let element: any = event.target;\n        while (element) {\n            offsetLeft += element.offsetLeft;\n            element = element.offsetParent;\n        }\n        return event.touches[ 0 ].pageX - offsetLeft;\n    }\n\n    @HostListener('mousedown', [ '$event' ])\n    onMouseDownScrubBar($event: any) {\n        if (!this.target.isLive) {\n            if (!this.vgSlider) {\n                this.seekEnd($event.offsetX);\n            }\n            else {\n                this.seekStart();\n            }\n        }\n    }\n\n    @HostListener('mousemove', [ '$event' ])\n    onMouseMoveScrubBar($event: any) {\n        if (!this.target.isLive && this.vgSlider && this.isSeeking) {\n            this.seekMove($event.offsetX);\n        }\n    }\n\n    @HostListener('mouseout', [ '$event' ])\n    onMouseOutScrubBar($event: any) {\n        if (!this.target.isLive && this.vgSlider && this.isSeeking) {\n            this.seekEnd($event.offsetX);\n        }\n    }\n\n    @HostListener('mouseup', [ '$event' ])\n    onMouseUpScrubBar($event: any) {\n        if (!this.target.isLive && this.vgSlider) {\n            this.seekEnd($event.offsetX);\n        }\n    }\n\n    @HostListener('touchstart', [ '$event' ])\n    onTouchStartScrubBar($event: any) {\n        if (!this.target.isLive) {\n            if (!this.vgSlider) {\n                this.seekEnd(this.getTouchOffset($event));\n            }\n            else {\n                this.seekStart();\n            }\n        }\n    }\n\n    @HostListener('touchmove', [ '$event' ])\n    onTouchMoveScrubBar($event: any) {\n        if (!this.target.isLive && this.vgSlider && this.isSeeking) {\n            this.seekMove(this.getTouchOffset($event));\n        }\n    }\n\n    @HostListener('touchcancel', [ '$event' ])\n    onTouchCancelScrubBar($event: any) {\n        if (!this.target.isLive && this.vgSlider) {\n            this.touchEnd();\n        }\n    }\n\n    @HostListener('touchend', [ '$event' ])\n    onTouchEndScrubBar($event: any) {\n        if (!this.target.isLive && this.vgSlider) {\n            this.touchEnd();\n        }\n    }\n\n    @HostListener('touchleave', [ '$event' ])\n    onTouchLeaveScrubBar($event: any) {\n        if (!this.target.isLive && this.vgSlider) {\n            this.touchEnd();\n        }\n    }\n\n    @HostListener('keydown', ['$event'])\n    arrowAdjustVolume(event: KeyboardEvent) {\n        if (event.keyCode === 38 || event.keyCode === 39) {\n            event.preventDefault();\n            this.target.seekTime((this.target.time.current + 5000) / 1000, false);\n        }\n        else if (event.keyCode === 37 || event.keyCode === 40) {\n            event.preventDefault();\n            this.target.seekTime((this.target.time.current - 5000) / 1000, false);\n        }\n    }\n\n    getPercentage() {\n        return this.target ? ((this.target.time.current * 100) / this.target.time.total) + '%' : '0%';\n    }\n\n    onHideScrubBar(hide: boolean) {\n        this.hideScrubBar = hide;\n    }\n\n    ngOnDestroy() {\n        this.subscriptions.forEach(s => s.unsubscribe());\n    }\n}\n","l":{"1":1,"5":1,"6":1,"7":1,"84":1,"97":13,"98":12,"99":12,"102":1,"103":0,"104":0,"107":0,"111":1,"112":1,"115":1,"116":2,"117":2,"118":2,"119":1,"121":2,"125":1,"126":2,"127":2,"128":2,"129":2,"133":1,"134":3,"135":3,"136":3,"137":3,"138":3,"139":0,"140":0,"145":1,"146":3,"147":3,"148":0,"149":0,"153":1,"154":2,"155":2,"156":2,"157":0,"158":0,"160":2,"165":1,"166":1,"167":0,"170":1,"177":2,"178":1,"184":2,"185":1,"191":2,"192":1,"198":2,"199":2,"200":1,"203":1,"210":2,"211":1,"217":2,"218":1,"224":2,"225":1,"231":2,"232":1,"238":0,"239":0,"240":0,"242":0,"243":0,"244":0,"248":1,"249":0,"252":1,"253":2,"256":1,"257":0}},
"/Users/jorgeucano/Documents/OSS/videogular2/src/core/vg-media/vg-media.ts":{"path":"/Users/jorgeucano/Documents/OSS/videogular2/src/core/vg-media/vg-media.ts","statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":1,"column":99}},"2":{"start":{"line":3,"column":0},"end":{"line":3,"column":45}},"3":{"start":{"line":4,"column":0},"end":{"line":4,"column":66}},"4":{"start":{"line":7,"column":0},"end":{"line":7,"column":47}},"5":{"start":{"line":8,"column":0},"end":{"line":8,"column":43}},"6":{"start":{"line":9,"column":0},"end":{"line":9,"column":47}},"7":{"start":{"line":10,"column":0},"end":{"line":10,"column":39}},"8":{"start":{"line":12,"column":0},"end":{"line":12,"column":39}},"9":{"start":{"line":13,"column":0},"end":{"line":13,"column":43}},"10":{"start":{"line":67,"column":4},"end":{"line":69,"column":5}},"11":{"start":{"line":67,"column":24},"end":{"line":67,"column":34}},"12":{"start":{"line":67,"column":44},"end":{"line":67,"column":66}},"13":{"start":{"line":71,"column":4},"end":{"line":154,"column":5}},"14":{"start":{"line":72,"column":8},"end":{"line":78,"column":9}},"15":{"start":{"line":74,"column":12},"end":{"line":74,"column":37}},"16":{"start":{"line":77,"column":12},"end":{"line":77,"column":42}},"17":{"start":{"line":81,"column":8},"end":{"line":81,"column":37}},"18":{"start":{"line":83,"column":8},"end":{"line":131,"column":10}},"19":{"start":{"line":117,"column":20},"end":{"line":119,"column":23}},"20":{"start":{"line":118,"column":24},"end":{"line":118,"column":49}},"21":{"start":{"line":121,"column":20},"end":{"line":121,"column":90}},"22":{"start":{"line":123,"column":20},"end":{"line":125,"column":22}},"23":{"start":{"line":124,"column":24},"end":{"line":124,"column":44}},"24":{"start":{"line":133,"column":8},"end":{"line":133,"column":93}},"25":{"start":{"line":134,"column":8},"end":{"line":134,"column":90}},"26":{"start":{"line":135,"column":8},"end":{"line":135,"column":111}},"27":{"start":{"line":136,"column":8},"end":{"line":136,"column":109}},"28":{"start":{"line":137,"column":8},"end":{"line":137,"column":87}},"29":{"start":{"line":138,"column":8},"end":{"line":138,"column":93}},"30":{"start":{"line":139,"column":8},"end":{"line":139,"column":87}},"31":{"start":{"line":140,"column":8},"end":{"line":140,"column":95}},"32":{"start":{"line":141,"column":8},"end":{"line":141,"column":81}},"33":{"start":{"line":142,"column":8},"end":{"line":142,"column":84}},"34":{"start":{"line":143,"column":8},"end":{"line":143,"column":99}},"35":{"start":{"line":144,"column":8},"end":{"line":144,"column":105}},"36":{"start":{"line":145,"column":8},"end":{"line":145,"column":84}},"37":{"start":{"line":147,"column":8},"end":{"line":153,"column":9}},"38":{"start":{"line":148,"column":12},"end":{"line":152,"column":14}},"39":{"start":{"line":150,"column":20},"end":{"line":150,"column":39}},"40":{"start":{"line":156,"column":4},"end":{"line":175,"column":5}},"41":{"start":{"line":157,"column":8},"end":{"line":157,"column":52}},"42":{"start":{"line":159,"column":8},"end":{"line":163,"column":9}},"43":{"start":{"line":160,"column":12},"end":{"line":162,"column":13}},"44":{"start":{"line":161,"column":16},"end":{"line":161,"column":80}},"45":{"start":{"line":165,"column":8},"end":{"line":174,"column":22}},"46":{"start":{"line":166,"column":13},"end":{"line":166,"column":22}},"47":{"start":{"line":167,"column":16},"end":{"line":167,"column":92}},"48":{"start":{"line":167,"column":61},"end":{"line":167,"column":90}},"49":{"start":{"line":169,"column":16},"end":{"line":172,"column":17}},"50":{"start":{"line":170,"column":20},"end":{"line":170,"column":37}},"51":{"start":{"line":171,"column":20},"end":{"line":171,"column":56}},"52":{"start":{"line":177,"column":4},"end":{"line":202,"column":5}},"53":{"start":{"line":178,"column":8},"end":{"line":201,"column":10}},"54":{"start":{"line":180,"column":16},"end":{"line":199,"column":17}},"55":{"start":{"line":181,"column":20},"end":{"line":198,"column":21}},"56":{"start":{"line":182,"column":24},"end":{"line":182,"column":99}},"57":{"start":{"line":184,"column":24},"end":{"line":197,"column":25}},"58":{"start":{"line":185,"column":28},"end":{"line":185,"column":86}},"59":{"start":{"line":187,"column":28},"end":{"line":187,"column":41}},"60":{"start":{"line":188,"column":28},"end":{"line":188,"column":61}},"61":{"start":{"line":189,"column":28},"end":{"line":189,"column":84}},"62":{"start":{"line":192,"column":28},"end":{"line":196,"column":29}},"63":{"start":{"line":193,"column":32},"end":{"line":193,"column":44}},"64":{"start":{"line":194,"column":32},"end":{"line":194,"column":64}},"65":{"start":{"line":195,"column":32},"end":{"line":195,"column":59}},"66":{"start":{"line":204,"column":4},"end":{"line":220,"column":5}},"67":{"start":{"line":206,"column":8},"end":{"line":219,"column":9}},"68":{"start":{"line":207,"column":12},"end":{"line":207,"column":51}},"69":{"start":{"line":209,"column":12},"end":{"line":218,"column":13}},"70":{"start":{"line":211,"column":16},"end":{"line":214,"column":17}},"71":{"start":{"line":212,"column":20},"end":{"line":212,"column":37}},"72":{"start":{"line":213,"column":20},"end":{"line":213,"column":26}},"73":{"start":{"line":215,"column":19},"end":{"line":218,"column":13}},"74":{"start":{"line":216,"column":16},"end":{"line":216,"column":33}},"75":{"start":{"line":217,"column":16},"end":{"line":217,"column":22}},"76":{"start":{"line":222,"column":4},"end":{"line":233,"column":5}},"77":{"start":{"line":223,"column":8},"end":{"line":223,"column":29}},"78":{"start":{"line":224,"column":8},"end":{"line":224,"column":37}},"79":{"start":{"line":227,"column":8},"end":{"line":227,"column":31}},"80":{"start":{"line":228,"column":8},"end":{"line":228,"column":37}},"81":{"start":{"line":229,"column":8},"end":{"line":229,"column":56}},"82":{"start":{"line":232,"column":8},"end":{"line":232,"column":50}},"83":{"start":{"line":232,"column":25},"end":{"line":232,"column":44}},"84":{"start":{"line":235,"column":4},"end":{"line":253,"column":5}},"85":{"start":{"line":237,"column":8},"end":{"line":239,"column":9}},"86":{"start":{"line":238,"column":12},"end":{"line":238,"column":19}},"87":{"start":{"line":241,"column":8},"end":{"line":241,"column":47}},"88":{"start":{"line":244,"column":8},"end":{"line":252,"column":9}},"89":{"start":{"line":245,"column":12},"end":{"line":251,"column":19}},"90":{"start":{"line":247,"column":20},"end":{"line":247,"column":44}},"91":{"start":{"line":255,"column":4},"end":{"line":266,"column":5}},"92":{"start":{"line":257,"column":8},"end":{"line":265,"column":9}},"93":{"start":{"line":258,"column":12},"end":{"line":261,"column":19}},"94":{"start":{"line":260,"column":20},"end":{"line":260,"column":41}},"95":{"start":{"line":264,"column":12},"end":{"line":264,"column":33}},"96":{"start":{"line":268,"column":4},"end":{"line":277,"column":5}},"97":{"start":{"line":270,"column":8},"end":{"line":270,"column":31}},"98":{"start":{"line":272,"column":8},"end":{"line":274,"column":9}},"99":{"start":{"line":273,"column":12},"end":{"line":273,"column":37}},"100":{"start":{"line":276,"column":8},"end":{"line":276,"column":22}},"101":{"start":{"line":279,"column":4},"end":{"line":281,"column":5}},"102":{"start":{"line":280,"column":8},"end":{"line":280,"column":37}},"103":{"start":{"line":283,"column":4},"end":{"line":286,"column":5}},"104":{"start":{"line":289,"column":8},"end":{"line":289,"column":40}},"105":{"start":{"line":284,"column":8},"end":{"line":284,"column":43}},"106":{"start":{"line":292,"column":4},"end":{"line":294,"column":5}},"107":{"start":{"line":297,"column":8},"end":{"line":297,"column":35}},"108":{"start":{"line":293,"column":8},"end":{"line":293,"column":37}},"109":{"start":{"line":300,"column":4},"end":{"line":302,"column":5}},"110":{"start":{"line":305,"column":8},"end":{"line":305,"column":41}},"111":{"start":{"line":301,"column":8},"end":{"line":301,"column":41}},"112":{"start":{"line":308,"column":4},"end":{"line":310,"column":5}},"113":{"start":{"line":309,"column":8},"end":{"line":309,"column":37}},"114":{"start":{"line":312,"column":4},"end":{"line":314,"column":5}},"115":{"start":{"line":313,"column":8},"end":{"line":313,"column":39}},"116":{"start":{"line":316,"column":4},"end":{"line":321,"column":5}},"117":{"start":{"line":317,"column":8},"end":{"line":317,"column":38}},"118":{"start":{"line":318,"column":8},"end":{"line":318,"column":56}},"119":{"start":{"line":319,"column":8},"end":{"line":319,"column":28}},"120":{"start":{"line":320,"column":8},"end":{"line":320,"column":33}},"121":{"start":{"line":323,"column":4},"end":{"line":328,"column":5}},"122":{"start":{"line":324,"column":8},"end":{"line":324,"column":38}},"123":{"start":{"line":325,"column":8},"end":{"line":325,"column":56}},"124":{"start":{"line":326,"column":8},"end":{"line":326,"column":35}},"125":{"start":{"line":327,"column":8},"end":{"line":327,"column":33}},"126":{"start":{"line":330,"column":4},"end":{"line":345,"column":5}},"127":{"start":{"line":331,"column":8},"end":{"line":331,"column":37}},"128":{"start":{"line":333,"column":8},"end":{"line":337,"column":10}},"129":{"start":{"line":339,"column":8},"end":{"line":339,"column":40}},"130":{"start":{"line":342,"column":8},"end":{"line":342,"column":51}},"131":{"start":{"line":343,"column":8},"end":{"line":343,"column":39}},"132":{"start":{"line":344,"column":8},"end":{"line":344,"column":33}},"133":{"start":{"line":347,"column":4},"end":{"line":350,"column":5}},"134":{"start":{"line":348,"column":8},"end":{"line":348,"column":30}},"135":{"start":{"line":349,"column":8},"end":{"line":349,"column":33}},"136":{"start":{"line":352,"column":4},"end":{"line":356,"column":5}},"137":{"start":{"line":353,"column":8},"end":{"line":353,"column":32}},"138":{"start":{"line":354,"column":8},"end":{"line":354,"column":39}},"139":{"start":{"line":355,"column":8},"end":{"line":355,"column":33}},"140":{"start":{"line":358,"column":4},"end":{"line":361,"column":5}},"141":{"start":{"line":359,"column":8},"end":{"line":359,"column":41}},"142":{"start":{"line":360,"column":8},"end":{"line":360,"column":33}},"143":{"start":{"line":363,"column":4},"end":{"line":374,"column":5}},"144":{"start":{"line":364,"column":8},"end":{"line":364,"column":41}},"145":{"start":{"line":366,"column":8},"end":{"line":370,"column":9}},"146":{"start":{"line":367,"column":12},"end":{"line":369,"column":13}},"147":{"start":{"line":368,"column":16},"end":{"line":368,"column":33}},"148":{"start":{"line":372,"column":8},"end":{"line":372,"column":32}},"149":{"start":{"line":373,"column":8},"end":{"line":373,"column":33}},"150":{"start":{"line":376,"column":4},"end":{"line":387,"column":5}},"151":{"start":{"line":377,"column":8},"end":{"line":377,"column":40}},"152":{"start":{"line":379,"column":8},"end":{"line":383,"column":9}},"153":{"start":{"line":380,"column":12},"end":{"line":382,"column":13}},"154":{"start":{"line":381,"column":16},"end":{"line":381,"column":52}},"155":{"start":{"line":385,"column":8},"end":{"line":385,"column":31}},"156":{"start":{"line":386,"column":8},"end":{"line":386,"column":33}},"157":{"start":{"line":389,"column":4},"end":{"line":402,"column":5}},"158":{"start":{"line":390,"column":8},"end":{"line":390,"column":43}},"159":{"start":{"line":392,"column":8},"end":{"line":396,"column":10}},"160":{"start":{"line":398,"column":8},"end":{"line":400,"column":9}},"161":{"start":{"line":399,"column":12},"end":{"line":399,"column":65}},"162":{"start":{"line":401,"column":8},"end":{"line":401,"column":33}},"163":{"start":{"line":404,"column":4},"end":{"line":411,"column":5}},"164":{"start":{"line":405,"column":8},"end":{"line":405,"column":43}},"165":{"start":{"line":407,"column":8},"end":{"line":409,"column":9}},"166":{"start":{"line":408,"column":12},"end":{"line":408,"column":65}},"167":{"start":{"line":410,"column":8},"end":{"line":410,"column":33}},"168":{"start":{"line":413,"column":4},"end":{"line":416,"column":5}},"169":{"start":{"line":415,"column":8},"end":{"line":415,"column":33}},"170":{"start":{"line":418,"column":4},"end":{"line":421,"column":5}},"171":{"start":{"line":420,"column":8},"end":{"line":420,"column":33}},"172":{"start":{"line":424,"column":4},"end":{"line":442,"column":5}},"173":{"start":{"line":425,"column":8},"end":{"line":425,"column":46}},"174":{"start":{"line":426,"column":8},"end":{"line":426,"column":47}},"175":{"start":{"line":428,"column":8},"end":{"line":430,"column":9}},"176":{"start":{"line":429,"column":12},"end":{"line":429,"column":41}},"177":{"start":{"line":432,"column":8},"end":{"line":434,"column":9}},"178":{"start":{"line":433,"column":12},"end":{"line":433,"column":42}},"179":{"start":{"line":437,"column":8},"end":{"line":439,"column":9}},"180":{"start":{"line":438,"column":12},"end":{"line":438,"column":60}},"181":{"start":{"line":441,"column":8},"end":{"line":441,"column":47}},"182":{"start":{"line":444,"column":4},"end":{"line":450,"column":5}},"183":{"start":{"line":445,"column":8},"end":{"line":449,"column":10}},"184":{"start":{"line":447,"column":16},"end":{"line":447,"column":35}},"185":{"start":{"line":452,"column":4},"end":{"line":460,"column":5}},"186":{"start":{"line":453,"column":8},"end":{"line":455,"column":9}},"187":{"start":{"line":454,"column":12},"end":{"line":454,"column":55}},"188":{"start":{"line":457,"column":8},"end":{"line":457,"column":38}},"189":{"start":{"line":459,"column":8},"end":{"line":459,"column":56}},"190":{"start":{"line":462,"column":4},"end":{"line":474,"column":5}},"191":{"start":{"line":462,"column":27},"end":{"line":462,"column":52}},"192":{"start":{"line":463,"column":8},"end":{"line":463,"column":26}},"193":{"start":{"line":464,"column":8},"end":{"line":464,"column":44}},"194":{"start":{"line":466,"column":8},"end":{"line":471,"column":9}},"195":{"start":{"line":467,"column":12},"end":{"line":467,"column":44}},"196":{"start":{"line":470,"column":12},"end":{"line":470,"column":27}},"197":{"start":{"line":473,"column":8},"end":{"line":473,"column":34}},"198":{"start":{"line":476,"column":4},"end":{"line":483,"column":5}},"199":{"start":{"line":477,"column":8},"end":{"line":477,"column":84}},"200":{"start":{"line":479,"column":8},"end":{"line":481,"column":9}},"201":{"start":{"line":480,"column":12},"end":{"line":480,"column":33}},"202":{"start":{"line":482,"column":8},"end":{"line":482,"column":24}},"203":{"start":{"line":485,"column":4},"end":{"line":513,"column":5}},"204":{"start":{"line":486,"column":8},"end":{"line":486,"column":30}},"205":{"start":{"line":487,"column":8},"end":{"line":487,"column":39}},"206":{"start":{"line":488,"column":8},"end":{"line":488,"column":38}},"207":{"start":{"line":489,"column":8},"end":{"line":489,"column":45}},"208":{"start":{"line":490,"column":8},"end":{"line":490,"column":45}},"209":{"start":{"line":491,"column":8},"end":{"line":491,"column":38}},"210":{"start":{"line":492,"column":8},"end":{"line":492,"column":39}},"211":{"start":{"line":493,"column":8},"end":{"line":493,"column":36}},"212":{"start":{"line":494,"column":8},"end":{"line":494,"column":38}},"213":{"start":{"line":495,"column":8},"end":{"line":495,"column":35}},"214":{"start":{"line":496,"column":8},"end":{"line":496,"column":36}},"215":{"start":{"line":497,"column":8},"end":{"line":497,"column":41}},"216":{"start":{"line":498,"column":8},"end":{"line":498,"column":43}},"217":{"start":{"line":499,"column":8},"end":{"line":499,"column":36}},"218":{"start":{"line":501,"column":8},"end":{"line":503,"column":9}},"219":{"start":{"line":502,"column":12},"end":{"line":502,"column":55}},"220":{"start":{"line":505,"column":8},"end":{"line":507,"column":9}},"221":{"start":{"line":506,"column":12},"end":{"line":506,"column":48}},"222":{"start":{"line":509,"column":8},"end":{"line":509,"column":39}},"223":{"start":{"line":510,"column":8},"end":{"line":510,"column":42}},"224":{"start":{"line":512,"column":8},"end":{"line":512,"column":39}},"225":{"start":{"line":18,"column":13},"end":{"line":18,"column":20}}},"fnMap":{"1":{"name":"VgMedia","line":67,"loc":{"start":{"line":67,"column":4},"end":{"line":67,"column":66}}},"2":{"name":"(anonymous_3)","line":71,"loc":{"start":{"line":71,"column":4},"end":{"line":null,"column":-1}}},"3":{"name":"(anonymous_4)","line":115,"loc":{"start":{"line":115,"column":16},"end":{"line":115,"column":30}}},"4":{"name":"(anonymous_5)","line":117,"loc":{"start":{"line":117,"column":54},"end":{"line":117,"column":64}}},"5":{"name":"(anonymous_6)","line":123,"loc":{"start":{"line":123,"column":27},"end":{"line":null,"column":-1}}},"6":{"name":"(anonymous_7)","line":149,"loc":{"start":{"line":149,"column":16},"end":{"line":null,"column":-1}}},"7":{"name":"(anonymous_8)","line":156,"loc":{"start":{"line":156,"column":4},"end":{"line":null,"column":-1}}},"8":{"name":"(anonymous_9)","line":166,"loc":{"start":{"line":166,"column":12},"end":{"line":null,"column":-1}}},"9":{"name":"(anonymous_10)","line":167,"loc":{"start":{"line":167,"column":52},"end":{"line":167,"column":57}}},"10":{"name":"(anonymous_11)","line":177,"loc":{"start":{"line":177,"column":4},"end":{"line":null,"column":-1}}},"11":{"name":"(anonymous_12)","line":179,"loc":{"start":{"line":179,"column":12},"end":{"line":null,"column":-1}}},"12":{"name":"(anonymous_13)","line":204,"loc":{"start":{"line":204,"column":4},"end":{"line":204,"column":47}}},"13":{"name":"(anonymous_14)","line":222,"loc":{"start":{"line":222,"column":4},"end":{"line":null,"column":-1}}},"14":{"name":"(anonymous_15)","line":232,"loc":{"start":{"line":232,"column":19},"end":{"line":232,"column":24}}},"15":{"name":"(anonymous_16)","line":235,"loc":{"start":{"line":235,"column":4},"end":{"line":null,"column":-1}}},"16":{"name":"(anonymous_17)","line":246,"loc":{"start":{"line":246,"column":22},"end":{"line":null,"column":-1}}},"17":{"name":"(anonymous_18)","line":249,"loc":{"start":{"line":249,"column":23},"end":{"line":null,"column":-1}}},"18":{"name":"(anonymous_19)","line":255,"loc":{"start":{"line":255,"column":4},"end":{"line":null,"column":-1}}},"19":{"name":"(anonymous_20)","line":259,"loc":{"start":{"line":259,"column":22},"end":{"line":null,"column":-1}}},"20":{"name":"(anonymous_21)","line":268,"loc":{"start":{"line":268,"column":4},"end":{"line":null,"column":-1}}},"21":{"name":"(anonymous_22)","line":279,"loc":{"start":{"line":279,"column":4},"end":{"line":null,"column":-1}}},"22":{"name":"(anonymous_23)","line":288,"loc":{"start":{"line":288,"column":4},"end":{"line":null,"column":-1}}},"23":{"name":"(anonymous_24)","line":283,"loc":{"start":{"line":283,"column":4},"end":{"line":283,"column":27}}},"24":{"name":"(anonymous_25)","line":296,"loc":{"start":{"line":296,"column":4},"end":{"line":null,"column":-1}}},"25":{"name":"(anonymous_26)","line":292,"loc":{"start":{"line":292,"column":4},"end":{"line":292,"column":21}}},"26":{"name":"(anonymous_27)","line":304,"loc":{"start":{"line":304,"column":4},"end":{"line":null,"column":-1}}},"27":{"name":"(anonymous_28)","line":300,"loc":{"start":{"line":300,"column":4},"end":{"line":300,"column":25}}},"28":{"name":"(anonymous_29)","line":308,"loc":{"start":{"line":308,"column":4},"end":{"line":null,"column":-1}}},"29":{"name":"(anonymous_30)","line":312,"loc":{"start":{"line":312,"column":4},"end":{"line":null,"column":-1}}},"30":{"name":"(anonymous_31)","line":316,"loc":{"start":{"line":316,"column":4},"end":{"line":316,"column":24}}},"31":{"name":"(anonymous_32)","line":323,"loc":{"start":{"line":323,"column":4},"end":{"line":323,"column":31}}},"32":{"name":"(anonymous_33)","line":330,"loc":{"start":{"line":330,"column":4},"end":{"line":330,"column":29}}},"33":{"name":"(anonymous_34)","line":347,"loc":{"start":{"line":347,"column":4},"end":{"line":347,"column":21}}},"34":{"name":"(anonymous_35)","line":352,"loc":{"start":{"line":352,"column":4},"end":{"line":352,"column":25}}},"35":{"name":"(anonymous_36)","line":358,"loc":{"start":{"line":358,"column":4},"end":{"line":358,"column":29}}},"36":{"name":"(anonymous_37)","line":363,"loc":{"start":{"line":363,"column":4},"end":{"line":363,"column":21}}},"37":{"name":"(anonymous_38)","line":376,"loc":{"start":{"line":376,"column":4},"end":{"line":376,"column":22}}},"38":{"name":"(anonymous_39)","line":389,"loc":{"start":{"line":389,"column":4},"end":{"line":389,"column":27}}},"39":{"name":"(anonymous_40)","line":404,"loc":{"start":{"line":404,"column":4},"end":{"line":404,"column":25}}},"40":{"name":"(anonymous_41)","line":413,"loc":{"start":{"line":413,"column":4},"end":{"line":413,"column":29}}},"41":{"name":"(anonymous_42)","line":418,"loc":{"start":{"line":418,"column":4},"end":{"line":418,"column":22}}},"42":{"name":"(anonymous_43)","line":424,"loc":{"start":{"line":424,"column":4},"end":{"line":null,"column":-1}}},"43":{"name":"(anonymous_44)","line":444,"loc":{"start":{"line":444,"column":4},"end":{"line":null,"column":-1}}},"44":{"name":"(anonymous_45)","line":446,"loc":{"start":{"line":446,"column":12},"end":{"line":null,"column":-1}}},"45":{"name":"(anonymous_46)","line":452,"loc":{"start":{"line":452,"column":4},"end":{"line":null,"column":-1}}},"46":{"name":"(anonymous_47)","line":462,"loc":{"start":{"line":462,"column":4},"end":{"line":462,"column":52}}},"47":{"name":"(anonymous_48)","line":476,"loc":{"start":{"line":476,"column":4},"end":{"line":476,"column":102}}},"48":{"name":"(anonymous_49)","line":485,"loc":{"start":{"line":485,"column":4},"end":{"line":null,"column":-1}}}},"branchMap":{"1":{"line":72,"type":"if","locations":[{"start":{"line":72,"column":8},"end":{"line":72,"column":7}},{"start":{"line":72,"column":8},"end":{"line":72,"column":7}}]},"2":{"line":147,"type":"if","locations":[{"start":{"line":147,"column":8},"end":{"line":147,"column":7}},{"start":{"line":147,"column":8},"end":{"line":147,"column":7}}]},"3":{"line":160,"type":"if","locations":[{"start":{"line":160,"column":12},"end":{"line":160,"column":11}},{"start":{"line":160,"column":12},"end":{"line":160,"column":11}}]},"4":{"line":169,"type":"if","locations":[{"start":{"line":169,"column":16},"end":{"line":169,"column":15}},{"start":{"line":169,"column":16},"end":{"line":169,"column":15}}]},"5":{"line":169,"type":"binary-expr","locations":[{"start":{"line":169,"column":20},"end":{"line":169,"column":28}},{"start":{"line":169,"column":32},"end":{"line":169,"column":54}}]},"6":{"line":181,"type":"if","locations":[{"start":{"line":181,"column":20},"end":{"line":181,"column":19}},{"start":{"line":181,"column":20},"end":{"line":181,"column":19}}]},"7":{"line":184,"type":"if","locations":[{"start":{"line":184,"column":24},"end":{"line":184,"column":23}},{"start":{"line":184,"column":24},"end":{"line":184,"column":23}}]},"8":{"line":184,"type":"binary-expr","locations":[{"start":{"line":184,"column":28},"end":{"line":184,"column":39}},{"start":{"line":184,"column":43},"end":{"line":184,"column":53}}]},"9":{"line":192,"type":"if","locations":[{"start":{"line":192,"column":28},"end":{"line":192,"column":27}},{"start":{"line":192,"column":28},"end":{"line":192,"column":27}}]},"10":{"line":209,"type":"if","locations":[{"start":{"line":209,"column":12},"end":{"line":209,"column":11}},{"start":{"line":209,"column":12},"end":{"line":209,"column":11}}]},"11":{"line":209,"type":"binary-expr","locations":[{"start":{"line":209,"column":16},"end":{"line":209,"column":41}},{"start":{"line":209,"column":45},"end":{"line":209,"column":72}}]},"12":{"line":211,"type":"if","locations":[{"start":{"line":211,"column":16},"end":{"line":211,"column":15}},{"start":{"line":211,"column":16},"end":{"line":211,"column":15}}]},"13":{"line":211,"type":"binary-expr","locations":[{"start":{"line":211,"column":20},"end":{"line":211,"column":37}},{"start":{"line":211,"column":41},"end":{"line":211,"column":69}},{"start":{"line":211,"column":73},"end":{"line":211,"column":111}}]},"14":{"line":215,"type":"if","locations":[{"start":{"line":215,"column":19},"end":{"line":215,"column":18}},{"start":{"line":215,"column":19},"end":{"line":215,"column":18}}]},"15":{"line":215,"type":"binary-expr","locations":[{"start":{"line":215,"column":23},"end":{"line":215,"column":47}},{"start":{"line":215,"column":51},"end":{"line":215,"column":74}},{"start":{"line":215,"column":78},"end":{"line":215,"column":133}}]},"16":{"line":237,"type":"if","locations":[{"start":{"line":237,"column":8},"end":{"line":237,"column":7}},{"start":{"line":237,"column":8},"end":{"line":237,"column":7}}]},"17":{"line":237,"type":"binary-expr","locations":[{"start":{"line":237,"column":12},"end":{"line":237,"column":28}},{"start":{"line":237,"column":33},"end":{"line":237,"column":66}},{"start":{"line":237,"column":70},"end":{"line":237,"column":102}}]},"18":{"line":244,"type":"if","locations":[{"start":{"line":244,"column":8},"end":{"line":244,"column":7}},{"start":{"line":244,"column":8},"end":{"line":244,"column":7}}]},"19":{"line":244,"type":"binary-expr","locations":[{"start":{"line":244,"column":12},"end":{"line":244,"column":28}},{"start":{"line":244,"column":32},"end":{"line":244,"column":53}},{"start":{"line":244,"column":57},"end":{"line":244,"column":79}}]},"20":{"line":257,"type":"if","locations":[{"start":{"line":257,"column":8},"end":{"line":257,"column":7}},{"start":{"line":257,"column":8},"end":{"line":257,"column":7}}]},"21":{"line":272,"type":"if","locations":[{"start":{"line":272,"column":8},"end":{"line":272,"column":7}},{"start":{"line":272,"column":8},"end":{"line":272,"column":7}}]},"22":{"line":366,"type":"if","locations":[{"start":{"line":366,"column":8},"end":{"line":366,"column":7}},{"start":{"line":366,"column":8},"end":{"line":366,"column":7}}]},"23":{"line":367,"type":"if","locations":[{"start":{"line":367,"column":12},"end":{"line":367,"column":11}},{"start":{"line":367,"column":12},"end":{"line":367,"column":11}}]},"24":{"line":367,"type":"binary-expr","locations":[{"start":{"line":367,"column":16},"end":{"line":367,"column":38}},{"start":{"line":367,"column":42},"end":{"line":367,"column":70}}]},"25":{"line":379,"type":"if","locations":[{"start":{"line":379,"column":8},"end":{"line":379,"column":7}},{"start":{"line":379,"column":8},"end":{"line":379,"column":7}}]},"26":{"line":380,"type":"if","locations":[{"start":{"line":380,"column":12},"end":{"line":380,"column":11}},{"start":{"line":380,"column":12},"end":{"line":380,"column":11}}]},"27":{"line":398,"type":"if","locations":[{"start":{"line":398,"column":8},"end":{"line":398,"column":7}},{"start":{"line":398,"column":8},"end":{"line":398,"column":7}}]},"28":{"line":407,"type":"if","locations":[{"start":{"line":407,"column":8},"end":{"line":407,"column":7}},{"start":{"line":407,"column":8},"end":{"line":407,"column":7}}]},"29":{"line":428,"type":"if","locations":[{"start":{"line":428,"column":8},"end":{"line":428,"column":7}},{"start":{"line":428,"column":8},"end":{"line":428,"column":7}}]},"30":{"line":428,"type":"binary-expr","locations":[{"start":{"line":428,"column":12},"end":{"line":428,"column":34}},{"start":{"line":428,"column":38},"end":{"line":428,"column":87}}]},"31":{"line":432,"type":"if","locations":[{"start":{"line":432,"column":8},"end":{"line":432,"column":7}},{"start":{"line":432,"column":8},"end":{"line":432,"column":7}}]},"32":{"line":432,"type":"binary-expr","locations":[{"start":{"line":432,"column":12},"end":{"line":432,"column":33}},{"start":{"line":432,"column":37},"end":{"line":432,"column":86}}]},"33":{"line":437,"type":"if","locations":[{"start":{"line":437,"column":8},"end":{"line":437,"column":7}},{"start":{"line":437,"column":8},"end":{"line":437,"column":7}}]},"34":{"line":453,"type":"if","locations":[{"start":{"line":453,"column":8},"end":{"line":453,"column":7}},{"start":{"line":453,"column":8},"end":{"line":453,"column":7}}]},"35":{"line":462,"type":"if","locations":[{"start":{"line":462,"column":27},"end":{"line":462,"column":26}},{"start":{"line":462,"column":27},"end":{"line":462,"column":26}}]},"36":{"line":466,"type":"if","locations":[{"start":{"line":466,"column":8},"end":{"line":466,"column":7}},{"start":{"line":466,"column":8},"end":{"line":466,"column":7}}]},"37":{"line":479,"type":"if","locations":[{"start":{"line":479,"column":8},"end":{"line":479,"column":7}},{"start":{"line":479,"column":8},"end":{"line":479,"column":7}}]},"38":{"line":501,"type":"if","locations":[{"start":{"line":501,"column":8},"end":{"line":501,"column":7}},{"start":{"line":501,"column":8},"end":{"line":501,"column":7}}]},"39":{"line":505,"type":"if","locations":[{"start":{"line":505,"column":8},"end":{"line":505,"column":7}},{"start":{"line":505,"column":8},"end":{"line":505,"column":7}}]}},"s":{"1":1,"2":1,"3":1,"4":1,"5":1,"6":1,"7":1,"8":1,"9":1,"10":1,"11":29,"12":29,"13":1,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":0,"25":0,"26":0,"27":0,"28":0,"29":0,"30":0,"31":0,"32":0,"33":0,"34":0,"35":0,"36":0,"37":0,"38":0,"39":0,"40":1,"41":0,"42":0,"43":0,"44":0,"45":0,"46":0,"47":0,"48":0,"49":0,"50":0,"51":0,"52":1,"53":0,"54":0,"55":0,"56":0,"57":0,"58":0,"59":0,"60":0,"61":0,"62":0,"63":0,"64":0,"65":0,"66":1,"67":1,"68":1,"69":1,"70":1,"71":1,"72":1,"73":0,"74":0,"75":0,"76":2,"77":1,"78":1,"79":1,"80":1,"81":1,"82":1,"83":1,"84":2,"85":1,"86":0,"87":1,"88":1,"89":0,"90":0,"91":2,"92":1,"93":0,"94":0,"95":1,"96":1,"97":3,"98":3,"99":3,"100":3,"101":1,"102":4,"103":1,"104":6,"105":1,"106":1,"107":1,"108":1,"109":1,"110":1,"111":1,"112":1,"113":7,"114":1,"115":0,"116":1,"117":5,"118":5,"119":5,"120":5,"121":1,"122":1,"123":1,"124":1,"125":1,"126":1,"127":1,"128":1,"129":1,"130":1,"131":1,"132":1,"133":1,"134":1,"135":1,"136":1,"137":1,"138":1,"139":1,"140":1,"141":1,"142":1,"143":1,"144":1,"145":1,"146":0,"147":0,"148":1,"149":1,"150":1,"151":1,"152":1,"153":0,"154":0,"155":1,"156":1,"157":1,"158":2,"159":2,"160":2,"161":1,"162":2,"163":1,"164":2,"165":2,"166":1,"167":2,"168":1,"169":0,"170":1,"171":0,"172":1,"173":1,"174":1,"175":1,"176":0,"177":1,"178":0,"179":1,"180":1,"181":1,"182":2,"183":1,"184":1,"185":1,"186":2,"187":0,"188":2,"189":2,"190":1,"191":0,"192":0,"193":0,"194":0,"195":0,"196":0,"197":0,"198":1,"199":0,"200":0,"201":0,"202":0,"203":1,"204":0,"205":0,"206":0,"207":0,"208":0,"209":0,"210":0,"211":0,"212":0,"213":0,"214":0,"215":0,"216":0,"217":0,"218":0,"219":0,"220":0,"221":0,"222":0,"223":0,"224":0,"225":1},"b":{"1":[0,0],"2":[0,0],"3":[0,0],"4":[0,0],"5":[0,0],"6":[0,0],"7":[0,0],"8":[0,0],"9":[0,0],"10":[1,0],"11":[1,1],"12":[1,0],"13":[1,1,1],"14":[0,0],"15":[0,0,0],"16":[0,1],"17":[1,1,0],"18":[0,1],"19":[1,0,0],"20":[0,1],"21":[3,0],"22":[0,1],"23":[0,0],"24":[0,0],"25":[0,1],"26":[0,0],"27":[1,1],"28":[1,1],"29":[0,1],"30":[1,1],"31":[0,1],"32":[1,0],"33":[1,0],"34":[0,2],"35":[0,0],"36":[0,0],"37":[0,0],"38":[0,0],"39":[0,0]},"f":{"1":29,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":1,"13":1,"14":1,"15":1,"16":0,"17":0,"18":1,"19":0,"20":3,"21":4,"22":6,"23":1,"24":1,"25":1,"26":1,"27":1,"28":7,"29":0,"30":5,"31":1,"32":1,"33":1,"34":1,"35":1,"36":1,"37":1,"38":2,"39":2,"40":0,"41":0,"42":1,"43":1,"44":1,"45":2,"46":0,"47":0,"48":0},"code":"import { ChangeDetectorRef, ElementRef, OnInit, Directive, Input, OnDestroy } from \"@angular/core\";\nimport { IPlayable, IMediaSubscriptions } from \"./i-playable\";\nimport { Observable } from \"rxjs/Observable\";\nimport { TimerObservable } from \"rxjs/observable/TimerObservable\";\nimport { Subscription } from \"rxjs/Subscription\";\nimport { Observer } from \"rxjs/Observer\";\nimport { VgStates } from '../states/vg-states';\nimport { VgAPI } from '../services/vg-api';\nimport { VgEvents } from '../events/vg-events';\nimport { Subject } from 'rxjs/Subject';\n\nimport 'rxjs/add/observable/fromEvent';\nimport 'rxjs/add/observable/combineLatest';\n\n@Directive({\n    selector: '[vgMedia]'\n})\nexport class VgMedia implements OnInit, OnDestroy, IPlayable {\n    elem: any;\n\n    @Input() vgMedia: any;\n    @Input() vgMaster: boolean;\n\n    state: string = VgStates.VG_PAUSED;\n\n    time: any = { current: 0, total: 0, left: 0 };\n    buffer: any = { end: 0 };\n    subscriptions: IMediaSubscriptions | any;\n\n    canPlay: boolean = false;\n    canPlayThrough: boolean = false;\n    isBufferDetected: boolean = false;\n    isMetadataLoaded: boolean = false;\n    isReadyToPlay: boolean = false;\n    isWaiting: boolean = false;\n    isCompleted: boolean = false;\n    isLive: boolean = false;\n\n\n    checkInterval: number = 200;\n    currentPlayPos: number = 0;\n    lastPlayPos: number = 0;\n\n    checkBufferSubscription: any;\n    syncSubscription: Subscription;\n    canPlayAllSubscription: any;\n    playAtferSync: boolean = false;\n\n    mutationObs: Subscription;\n    canPlayObs: Subscription;\n    canPlayThroughObs: Subscription;\n    loadedMetadataObs: Subscription;\n    waitingObs: Subscription;\n    progressObs: Subscription;\n    endedObs: Subscription;\n    playingObs: Subscription;\n    playObs: Subscription;\n    pauseObs: Subscription;\n    timeUpdateObs: Subscription;\n    volumeChangeObs: Subscription;\n    errorObs: Subscription;\n\n    bufferDetected: Subject<boolean> = new Subject();\n\n    playPromise: Promise<any>;\n\n    constructor(private api: VgAPI, private ref: ChangeDetectorRef) {\n\n    }\n\n    ngOnInit() {\n        if (this.vgMedia.nodeName) {\n            // It's a native element\n            this.elem = this.vgMedia;\n        } else {\n            // It's an Angular Class\n            this.elem = this.vgMedia.elem;\n        }\n\n        // Just in case we're creating this vgMedia dynamically register again into API\n        this.api.registerMedia(this);\n\n        this.subscriptions = {\n            // Native events\n            abort: Observable.fromEvent(<any>this.elem, VgEvents.VG_ABORT),\n            canPlay: Observable.fromEvent(<any>this.elem, VgEvents.VG_CAN_PLAY),\n            canPlayThrough: Observable.fromEvent(<any>this.elem, VgEvents.VG_CAN_PLAY_THROUGH),\n            durationChange: Observable.fromEvent(<any>this.elem, VgEvents.VG_DURATION_CHANGE),\n            emptied: Observable.fromEvent(<any>this.elem, VgEvents.VG_EMPTIED),\n            encrypted: Observable.fromEvent(<any>this.elem, VgEvents.VG_ENCRYPTED),\n            ended: Observable.fromEvent(<any>this.elem, VgEvents.VG_ENDED),\n            error: Observable.fromEvent(<any>this.elem, VgEvents.VG_ERROR),\n            loadedData: Observable.fromEvent(<any>this.elem, VgEvents.VG_LOADED_DATA),\n            loadedMetadata: Observable.fromEvent(<any>this.elem, VgEvents.VG_LOADED_METADATA),\n            loadStart: Observable.fromEvent(<any>this.elem, VgEvents.VG_LOAD_START),\n            pause: Observable.fromEvent(<any>this.elem, VgEvents.VG_PAUSE),\n            play: Observable.fromEvent(<any>this.elem, VgEvents.VG_PLAY),\n            playing: Observable.fromEvent(<any>this.elem, VgEvents.VG_PLAYING),\n            progress: Observable.fromEvent(<any>this.elem, VgEvents.VG_PROGRESS),\n            rateChange: Observable.fromEvent(<any>this.elem, VgEvents.VG_RATE_CHANGE),\n            seeked: Observable.fromEvent(<any>this.elem, VgEvents.VG_SEEKED),\n            seeking: Observable.fromEvent(<any>this.elem, VgEvents.VG_SEEKING),\n            stalled: Observable.fromEvent(<any>this.elem, VgEvents.VG_STALLED),\n            suspend: Observable.fromEvent(<any>this.elem, VgEvents.VG_SUSPEND),\n            timeUpdate: Observable.fromEvent(<any>this.elem, VgEvents.VG_TIME_UPDATE),\n            volumeChange: Observable.fromEvent(<any>this.elem, VgEvents.VG_VOLUME_CHANGE),\n            waiting: Observable.fromEvent(<any>this.elem, VgEvents.VG_WAITING),\n\n            // Advertisement only events\n            startAds: Observable.fromEvent(<any>window, VgEvents.VG_START_ADS),\n            endAds: Observable.fromEvent(<any>window, VgEvents.VG_END_ADS),\n\n            // See changes on <source> child elements to reload the video file\n            mutation: Observable.create(\n                (observer: any) => {\n\n                    let domObs = new MutationObserver((mutations) => {\n                        observer.next(mutations);\n                    });\n\n                    domObs.observe(<any>this.elem, { childList: true, attributes: true });\n\n                    return () => {\n                        domObs.disconnect();\n                    };\n                }\n            ),\n\n            // Custom buffering detection\n            bufferDetected: this.bufferDetected\n        };\n\n        this.mutationObs = this.subscriptions.mutation.subscribe(this.onMutation.bind(this));\n        this.canPlayObs = this.subscriptions.canPlay.subscribe(this.onCanPlay.bind(this));\n        this.canPlayThroughObs = this.subscriptions.canPlayThrough.subscribe(this.onCanPlayThrough.bind(this));\n        this.loadedMetadataObs = this.subscriptions.loadedMetadata.subscribe(this.onLoadMetadata.bind(this));\n        this.waitingObs = this.subscriptions.waiting.subscribe(this.onWait.bind(this));\n        this.progressObs = this.subscriptions.progress.subscribe(this.onProgress.bind(this));\n        this.endedObs = this.subscriptions.ended.subscribe(this.onComplete.bind(this));\n        this.playingObs = this.subscriptions.playing.subscribe(this.onStartPlaying.bind(this));\n        this.playObs = this.subscriptions.play.subscribe(this.onPlay.bind(this));\n        this.pauseObs = this.subscriptions.pause.subscribe(this.onPause.bind(this));\n        this.timeUpdateObs = this.subscriptions.timeUpdate.subscribe(this.onTimeUpdate.bind(this));\n        this.volumeChangeObs = this.subscriptions.volumeChange.subscribe(this.onVolumeChange.bind(this));\n        this.errorObs = this.subscriptions.error.subscribe(this.onError.bind(this));\n\n        if (this.vgMaster) {\n            this.api.playerReadyEvent.subscribe(\n                () => {\n                    this.prepareSync();\n                }\n            );\n        }\n    }\n\n    prepareSync() {\n        let canPlayAll: Array<Observable<any>> = [];\n\n        for (let media in this.api.medias) {\n            if (this.api.medias[ media ]) {\n                canPlayAll.push(this.api.medias[ media ].subscriptions.canPlay);\n            }\n        }\n\n        this.canPlayAllSubscription = Observable.combineLatest(canPlayAll,\n            (...params) => {\n                let allReady: boolean = params.some(event => event.target.readyState === 4);\n\n                if (allReady && !this.syncSubscription) {\n                    this.startSync();\n                    this.syncSubscription.unsubscribe();\n                }\n            }\n        ).subscribe();\n    }\n\n    startSync() {\n        this.syncSubscription = TimerObservable.create(0, 1000).subscribe(\n            () => {\n                for (let media in this.api.medias) {\n                    if (this.api.medias[ media ] !== this) {\n                        let diff: number = this.api.medias[ media ].currentTime - this.currentTime;\n\n                        if (diff < -0.3 || diff > 0.3) {\n                            this.playAtferSync = (this.state === VgStates.VG_PLAYING);\n\n                            this.pause();\n                            this.api.medias[ media ].pause();\n                            this.api.medias[ media ].currentTime = this.currentTime;\n                        }\n                        else {\n                            if (this.playAtferSync) {\n                                this.play();\n                                this.api.medias[ media ].play();\n                                this.playAtferSync = false;\n                            }\n                        }\n                    }\n                }\n            }\n        );\n    }\n\n    onMutation(mutations: Array<MutationRecord>) {\n        // Detect changes only for source elements or src attribute\n        for (let i=0, l=mutations.length; i<l; i++) {\n            let mut: MutationRecord = mutations[i];\n\n            if (mut.type === 'attributes' && mut.attributeName === 'src') {\n                // Only load src file if it's not a blob (for DASH / HLS sources)\n                if (mut.target['src'] && mut.target['src'].length > 0 && mut.target['src'].indexOf('blob:') < 0) {\n                    this.loadMedia();\n                    break;\n                }\n            } else if (mut.type === 'childList' && mut.removedNodes.length && mut.removedNodes[0].nodeName.toLowerCase() === 'source') {\n                this.loadMedia();\n                break;\n            }\n        }\n    }\n\n    loadMedia() {\n        this.vgMedia.pause();\n        this.vgMedia.currentTime = 0;\n\n        // Start buffering until we can play the media file\n        this.stopBufferCheck();\n        this.isBufferDetected = true;\n        this.bufferDetected.next(this.isBufferDetected);\n\n        // TODO: This is ugly, we should find something cleaner. For some reason a TimerObservable doesn't works.\n        setTimeout(() => this.vgMedia.load(), 10);\n    }\n\n    play() {\n        // short-circuit if already playing\n        if (this.playPromise || (this.state !== VgStates.VG_PAUSED && this.state !== VgStates.VG_ENDED)) {\n            return;\n        }\n\n        this.playPromise = this.vgMedia.play();\n\n        // browser has async play promise\n        if (this.playPromise && this.playPromise.then && this.playPromise.catch) {\n            this.playPromise\n                .then(() => {\n                    this.playPromise = null;\n                })\n                .catch(() => {\n                    // deliberately empty for the sake of eating console noise\n                });\n        }\n    }\n\n    pause() {\n        // browser has async play promise\n        if (this.playPromise) {\n            this.playPromise\n                .then(() => {\n                    this.vgMedia.pause();\n                });\n        }\n        else {\n            this.vgMedia.pause();\n        }\n    }\n\n    get id() {\n        // We should return undefined if vgMedia still doesn't exist\n        let result = undefined;\n\n        if (this.vgMedia) {\n            result = this.vgMedia.id;\n        }\n\n        return result;\n    }\n\n    get duration() {\n        return this.vgMedia.duration;\n    }\n\n    set currentTime(seconds) {\n        this.vgMedia.currentTime = seconds;\n        // this.elem.dispatchEvent(new CustomEvent(VgEvents.VG_SEEK));\n    }\n\n    get currentTime() {\n        return this.vgMedia.currentTime;\n    }\n\n    set volume(volume) {\n        this.vgMedia.volume = volume;\n    }\n\n    get volume() {\n        return this.vgMedia.volume;\n    }\n\n    set playbackRate(rate) {\n        this.vgMedia.playbackRate = rate;\n    }\n\n    get playbackRate() {\n        return this.vgMedia.playbackRate;\n    }\n\n    get buffered() {\n        return this.vgMedia.buffered;\n    }\n\n    get textTracks() {\n        return this.vgMedia.textTracks;\n    }\n\n    onCanPlay(event: any) {\n        this.isBufferDetected = false;\n        this.bufferDetected.next(this.isBufferDetected);\n        this.canPlay = true;\n        this.ref.detectChanges();\n    }\n\n    onCanPlayThrough(event: any) {\n        this.isBufferDetected = false;\n        this.bufferDetected.next(this.isBufferDetected);\n        this.canPlayThrough = true;\n        this.ref.detectChanges();\n    }\n\n    onLoadMetadata(event: any) {\n        this.isMetadataLoaded = true;\n\n        this.time = {\n            current: 0,\n            left: 0,\n            total: this.duration * 1000\n        };\n\n        this.state = VgStates.VG_PAUSED;\n\n        // Live streaming check\n        let t:number = Math.round(this.time.total);\n        this.isLive = (t === Infinity);\n        this.ref.detectChanges();\n    }\n\n    onWait(event: any) {\n        this.isWaiting = true;\n        this.ref.detectChanges();\n    }\n\n    onComplete(event: any) {\n        this.isCompleted = true;\n        this.state = VgStates.VG_ENDED;\n        this.ref.detectChanges();\n    }\n\n    onStartPlaying(event: any) {\n        this.state = VgStates.VG_PLAYING;\n        this.ref.detectChanges();\n    }\n\n    onPlay(event: any) {\n        this.state = VgStates.VG_PLAYING;\n\n        if (this.vgMaster) {\n            if (!this.syncSubscription || this.syncSubscription.closed) {\n                this.startSync();\n            }\n        }\n\n        this.startBufferCheck();\n        this.ref.detectChanges();\n    }\n\n    onPause(event: any) {\n        this.state = VgStates.VG_PAUSED;\n\n        if (this.vgMaster) {\n            if (!this.playAtferSync) {\n                this.syncSubscription.unsubscribe();\n            }\n        }\n\n        this.stopBufferCheck();\n        this.ref.detectChanges();\n    }\n\n    onTimeUpdate(event: any) {\n        let end = this.buffered.length - 1;\n\n        this.time = {\n            current: this.currentTime * 1000,\n            total: this.time.total,\n            left: (this.duration - this.currentTime) * 1000\n        };\n\n        if (end >= 0) {\n            this.buffer = { end: this.buffered.end(end) * 1000 };\n        }\n        this.ref.detectChanges();\n    }\n\n    onProgress(event: any) {\n        let end = this.buffered.length - 1;\n\n        if (end >= 0) {\n            this.buffer = { end: this.buffered.end(end) * 1000 };\n        }\n        this.ref.detectChanges();\n    }\n\n    onVolumeChange(event: any) {\n        // TODO: Save to localstorage the current volume\n        this.ref.detectChanges();\n    }\n\n    onError(event: any) {\n        // TODO: Handle error messages\n        this.ref.detectChanges();\n    }\n\n    // http://stackoverflow.com/a/23828241/779529\n    bufferCheck() {\n        const offset = 1 / this.checkInterval;\n        this.currentPlayPos = this.currentTime;\n\n        if (!this.isBufferDetected && this.currentPlayPos < (this.lastPlayPos + offset)) {\n            this.isBufferDetected = true;\n        }\n\n        if (this.isBufferDetected && this.currentPlayPos > (this.lastPlayPos + offset)) {\n            this.isBufferDetected = false;\n        }\n\n        // Prevent calls to bufferCheck after ngOnDestroy have been called\n        if (!this.bufferDetected.closed) {\n            this.bufferDetected.next(this.isBufferDetected);\n        }\n\n        this.lastPlayPos = this.currentPlayPos;\n    }\n\n    startBufferCheck() {\n        this.checkBufferSubscription = TimerObservable.create(0, this.checkInterval).subscribe(\n            () => {\n                this.bufferCheck();\n            }\n        );\n    }\n\n    stopBufferCheck() {\n        if (this.checkBufferSubscription) {\n            this.checkBufferSubscription.unsubscribe();\n        }\n\n        this.isBufferDetected = false;\n\n        this.bufferDetected.next(this.isBufferDetected);\n    }\n\n    seekTime(value:number, byPercent:boolean = false) {\n        let second:number;\n        let duration:number = this.duration;\n\n        if (byPercent) {\n            second = value * duration / 100;\n        }\n        else {\n            second = value;\n        }\n\n        this.currentTime = second;\n    }\n\n    addTextTrack(type:string, label?:string, language?:string, mode?:'disabled' | 'hidden' | 'showing'): TextTrack {\n        const newTrack:TextTrack = this.vgMedia.addTextTrack(type, label, language);\n\n        if (mode) {\n            newTrack.mode = mode;\n        }\n        return newTrack;\n    }\n\n    ngOnDestroy() {\n        this.vgMedia.src = '';\n        this.mutationObs.unsubscribe();\n        this.canPlayObs.unsubscribe();\n        this.canPlayThroughObs.unsubscribe();\n        this.loadedMetadataObs.unsubscribe();\n        this.waitingObs.unsubscribe();\n        this.progressObs.unsubscribe();\n        this.endedObs.unsubscribe();\n        this.playingObs.unsubscribe();\n        this.playObs.unsubscribe();\n        this.pauseObs.unsubscribe();\n        this.timeUpdateObs.unsubscribe();\n        this.volumeChangeObs.unsubscribe();\n        this.errorObs.unsubscribe();\n        \n        if (this.checkBufferSubscription) {\n            this.checkBufferSubscription.unsubscribe();\n        }\n\n        if(this.syncSubscription) {\n            this.syncSubscription.unsubscribe();\n        }\n        \n        this.bufferDetected.complete();\n        this.bufferDetected.unsubscribe();\n\n        this.api.unregisterMedia(this);\n    }\n}\n","l":{"1":1,"3":1,"4":1,"7":1,"8":1,"9":1,"10":1,"12":1,"13":1,"18":1,"67":29,"71":1,"72":0,"74":0,"77":0,"81":0,"83":0,"117":0,"118":0,"121":0,"123":0,"124":0,"133":0,"134":0,"135":0,"136":0,"137":0,"138":0,"139":0,"140":0,"141":0,"142":0,"143":0,"144":0,"145":0,"147":0,"148":0,"150":0,"156":1,"157":0,"159":0,"160":0,"161":0,"165":0,"166":0,"167":0,"169":0,"170":0,"171":0,"177":1,"178":0,"180":0,"181":0,"182":0,"184":0,"185":0,"187":0,"188":0,"189":0,"192":0,"193":0,"194":0,"195":0,"204":1,"206":1,"207":1,"209":1,"211":1,"212":1,"213":1,"215":0,"216":0,"217":0,"222":2,"223":1,"224":1,"227":1,"228":1,"229":1,"232":1,"235":2,"237":1,"238":0,"241":1,"244":1,"245":0,"247":0,"255":2,"257":1,"258":0,"260":0,"264":1,"268":1,"270":3,"272":3,"273":3,"276":3,"279":1,"280":4,"283":1,"284":1,"289":6,"292":1,"293":1,"297":1,"300":1,"301":1,"305":1,"308":1,"309":7,"312":1,"313":0,"316":1,"317":5,"318":5,"319":5,"320":5,"323":1,"324":1,"325":1,"326":1,"327":1,"330":1,"331":1,"333":1,"339":1,"342":1,"343":1,"344":1,"347":1,"348":1,"349":1,"352":1,"353":1,"354":1,"355":1,"358":1,"359":1,"360":1,"363":1,"364":1,"366":1,"367":0,"368":0,"372":1,"373":1,"376":1,"377":1,"379":1,"380":0,"381":0,"385":1,"386":1,"389":1,"390":2,"392":2,"398":2,"399":1,"401":2,"404":1,"405":2,"407":2,"408":1,"410":2,"413":1,"415":0,"418":1,"420":0,"424":1,"425":1,"426":1,"428":1,"429":0,"432":1,"433":0,"437":1,"438":1,"441":1,"444":2,"445":1,"447":1,"452":1,"453":2,"454":0,"457":2,"459":2,"462":1,"463":0,"464":0,"466":0,"467":0,"470":0,"473":0,"476":1,"477":0,"479":0,"480":0,"482":0,"485":1,"486":0,"487":0,"488":0,"489":0,"490":0,"491":0,"492":0,"493":0,"494":0,"495":0,"496":0,"497":0,"498":0,"499":0,"501":0,"502":0,"505":0,"506":0,"509":0,"510":0,"512":0}},
"/Users/jorgeucano/Documents/OSS/videogular2/src/core/vg-player/vg-player.ts":{"path":"/Users/jorgeucano/Documents/OSS/videogular2/src/core/vg-player/vg-player.ts","statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":10,"column":23}},"2":{"start":{"line":11,"column":0},"end":{"line":11,"column":43}},"3":{"start":{"line":12,"column":0},"end":{"line":12,"column":64}},"4":{"start":{"line":13,"column":0},"end":{"line":13,"column":47}},"5":{"start":{"line":14,"column":0},"end":{"line":14,"column":47}},"6":{"start":{"line":16,"column":0},"end":{"line":16,"column":66}},"7":{"start":{"line":64,"column":4},"end":{"line":68,"column":5}},"8":{"start":{"line":64,"column":40},"end":{"line":64,"column":50}},"9":{"start":{"line":64,"column":59},"end":{"line":64,"column":81}},"10":{"start":{"line":64,"column":91},"end":{"line":64,"column":123}},"11":{"start":{"line":65,"column":8},"end":{"line":65,"column":38}},"12":{"start":{"line":67,"column":8},"end":{"line":67,"column":44}},"13":{"start":{"line":70,"column":4},"end":{"line":82,"column":5}},"14":{"start":{"line":71,"column":8},"end":{"line":73,"column":11}},"15":{"start":{"line":72,"column":12},"end":{"line":72,"column":42}},"16":{"start":{"line":75,"column":8},"end":{"line":75,"column":48}},"17":{"start":{"line":77,"column":8},"end":{"line":77,"column":109}},"18":{"start":{"line":78,"column":8},"end":{"line":78,"column":104}},"19":{"start":{"line":80,"column":8},"end":{"line":80,"column":43}},"20":{"start":{"line":81,"column":8},"end":{"line":81,"column":42}},"21":{"start":{"line":84,"column":4},"end":{"line":91,"column":5}},"22":{"start":{"line":85,"column":8},"end":{"line":90,"column":9}},"23":{"start":{"line":86,"column":12},"end":{"line":86,"column":40}},"24":{"start":{"line":87,"column":12},"end":{"line":87,"column":76}},"25":{"start":{"line":89,"column":12},"end":{"line":89,"column":46}},"26":{"start":{"line":93,"column":4},"end":{"line":95,"column":5}},"27":{"start":{"line":94,"column":8},"end":{"line":94,"column":40}},"28":{"start":{"line":97,"column":4},"end":{"line":99,"column":5}},"29":{"start":{"line":98,"column":8},"end":{"line":98,"column":57}},"30":{"start":{"line":98,"column":40},"end":{"line":98,"column":55}},"31":{"start":{"line":45,"column":13},"end":{"line":45,"column":21}}},"fnMap":{"1":{"name":"VgPlayer","line":64,"loc":{"start":{"line":64,"column":4},"end":{"line":64,"column":123}}},"2":{"name":"(anonymous_3)","line":70,"loc":{"start":{"line":70,"column":4},"end":{"line":null,"column":-1}}},"3":{"name":"(anonymous_4)","line":71,"loc":{"start":{"line":71,"column":38},"end":{"line":71,"column":44}}},"4":{"name":"(anonymous_5)","line":84,"loc":{"start":{"line":84,"column":4},"end":{"line":84,"column":39}}},"5":{"name":"(anonymous_6)","line":93,"loc":{"start":{"line":93,"column":4},"end":{"line":93,"column":34}}},"6":{"name":"(anonymous_7)","line":97,"loc":{"start":{"line":97,"column":4},"end":{"line":null,"column":-1}}},"7":{"name":"(anonymous_8)","line":98,"loc":{"start":{"line":98,"column":35},"end":{"line":98,"column":36}}}},"branchMap":{"1":{"line":85,"type":"if","locations":[{"start":{"line":85,"column":8},"end":{"line":85,"column":7}},{"start":{"line":85,"column":8},"end":{"line":85,"column":7}}]},"2":{"line":87,"type":"cond-expr","locations":[{"start":{"line":87,"column":36},"end":{"line":87,"column":66}},{"start":{"line":87,"column":69},"end":{"line":87,"column":75}}]}},"s":{"1":1,"2":1,"3":1,"4":1,"5":1,"6":1,"7":1,"8":4,"9":4,"10":4,"11":4,"12":4,"13":2,"14":1,"15":0,"16":1,"17":1,"18":1,"19":1,"20":1,"21":1,"22":3,"23":2,"24":2,"25":1,"26":1,"27":0,"28":1,"29":0,"30":0,"31":1},"b":{"1":[2,1],"2":[1,1]},"f":{"1":4,"2":1,"3":0,"4":3,"5":0,"6":0,"7":0},"code":"import {\n    Output,\n    Component,\n    EventEmitter,\n    ElementRef,\n    HostBinding,\n    QueryList,\n    AfterContentInit,\n    ContentChildren, ViewEncapsulation, OnDestroy\n} from '@angular/core';\nimport { VgAPI } from '../services/vg-api';\nimport { VgFullscreenAPI } from '../services/vg-fullscreen-api';\nimport { VgUtils } from '../services/vg-utils';\nimport { VgMedia } from '../vg-media/vg-media';\nimport { Subscription } from 'rxjs/Subscription';\nimport { VgControlsHidden } from '../services/vg-controls-hidden';\n\n@Component({\n    selector: 'vg-player',\n    encapsulation: ViewEncapsulation.None,\n    template: `<ng-content></ng-content>`,\n    styles: [ `\n        vg-player {\n            font-family: 'videogular';\n            position: relative;\n            display: flex;\n            width: 100%;\n            height: 100%;\n            overflow: hidden;\n            background-color: black;\n        }\n\n        vg-player.fullscreen {\n            position: fixed;\n            left: 0;\n            top: 0;\n        }\n\n        vg-player.native-fullscreen.controls-hidden {\n            cursor: none;\n        }\n    ` ],\n    providers: [ VgAPI, VgFullscreenAPI, VgControlsHidden ]\n})\nexport class VgPlayer implements AfterContentInit, OnDestroy {\n    elem: HTMLElement;\n\n    @HostBinding('class.fullscreen') isFullscreen: boolean = false;\n    @HostBinding('class.native-fullscreen') isNativeFullscreen: boolean = false;\n    @HostBinding('class.controls-hidden') areControlsHidden: boolean = false;\n    @HostBinding('style.z-index') zIndex: string;\n\n    @Output()\n    onPlayerReady: EventEmitter<any> = new EventEmitter();\n\n    @Output()\n    onMediaReady: EventEmitter<any> = new EventEmitter();\n\n    @ContentChildren(VgMedia)\n    medias: QueryList<VgMedia>;\n\n    subscriptions: Subscription[] = [];\n\n    constructor(ref: ElementRef, public api: VgAPI, public fsAPI: VgFullscreenAPI, private controlsHidden: VgControlsHidden) {\n        this.elem = ref.nativeElement;\n\n        this.api.registerElement(this.elem);\n    }\n\n    ngAfterContentInit() {\n        this.medias.toArray().forEach((media) => {\n            this.api.registerMedia(media);\n        });\n\n        this.fsAPI.init(this.elem, this.medias);\n\n        this.subscriptions.push(this.fsAPI.onChangeFullscreen.subscribe(this.onChangeFullscreen.bind(this)));\n        this.subscriptions.push(this.controlsHidden.isHidden.subscribe(this.onHideControls.bind(this)));\n\n        this.api.onPlayerReady(this.fsAPI);\n        this.onPlayerReady.next(this.api);\n    }\n\n    onChangeFullscreen(fsState: boolean) {\n        if (!this.fsAPI.nativeFullscreen) {\n            this.isFullscreen = fsState;\n            this.zIndex = fsState ? VgUtils.getZIndex().toString() : 'auto';\n        } else {\n            this.isNativeFullscreen = fsState;\n        }\n    }\n\n    onHideControls(hidden: boolean) {\n        this.areControlsHidden = hidden;\n    }\n\n    ngOnDestroy() {\n        this.subscriptions.forEach(s => s.unsubscribe());\n    }\n}\n","l":{"1":1,"11":1,"12":1,"13":1,"14":1,"16":1,"45":1,"64":4,"65":4,"67":4,"70":2,"71":1,"72":0,"75":1,"77":1,"78":1,"80":1,"81":1,"84":1,"85":3,"86":2,"87":2,"89":1,"93":1,"94":0,"97":1,"98":0}}}
